import{a as x,r as B,u as V,j as t,N as E,t as s,_ as b,s as M,O,Q as P}from"./index-yugurC9t.js";import{d as A}from"./DarkModeOutlined-CbmsTPc4.js";import{F as N,I as R,O as Q,a as $,t as q}from"./theme-cmKXW1hM.js";import{B as n,C as z}from"./CircularProgress-WSXXCLok.js";import{I as G}from"./IconButton-CU2xPpj8.js";const Y=({vehicleData:i,title:d,setParameterData:y})=>{const{selectedVehicle:c,locationData:h,loading:f}=x(e=>e.liveMap),{mode:C}=x(e=>e.dashboard),r=q(C),[j,v]=B.useState("");let l=V();const g=i.length>0&&i.filter(e=>e.label.toLowerCase().includes(j.toLowerCase())),w=async e=>{var m;if(h.length<=0)return b.error("Data not available for this vehicle",{id:"clipboard"});const o=h.filter(a=>a.latestDocument.imei===e.value);if(o.length<=0)return b.error("Data not available for this vehicle",{id:"clipboard"});const{lat:D,lng:I}=o[0].latestDocument;l(M({lat:D,lng:I})),l(O({imei:e.value,reg_id:e.label}));const F=e.label,L=await l(P({w_registration_id:F})),p=[];let T=0;(m=L.payload)==null||m.map(a=>{a[a.parameter_type.toLowerCase()+"_parameter"].forEach(u=>{p.push({reg_id:e.label,imei:e.value,id:u.id,_id:a.id,key:T++,label:a.parameter_type==="Telematic"&&u.short_name})})}),d==="Live Map"&&y(p)},_=e=>{v(e.target.value)},S={backgroundColor:r.grey[100],position:"relative",width:"100%",float:"right",height:"95vh"},k={backgroundColor:r.grey[100],position:"relative",width:"100%",float:"right",height:"90vh"};return t.jsx(t.Fragment,{children:t.jsx("div",{style:d?k:S,children:f?t.jsx(n,{sx:{display:"flex",justifyContent:"center",marginTop:"50%"},children:t.jsx(z,{})}):t.jsxs(t.Fragment,{children:[t.jsx(n,{sx:{align:"center",my:"15px",ml:"20px"},children:t.jsxs(N,{sx:{width:"90%",backgroundColor:r.grey[500],borderRadius:"5px"},variant:"outlined",children:[t.jsx(R,{htmlFor:"outlined-adornment-password",style:{marginTop:"-8px",color:r.grey[400]},children:"Search"}),t.jsx(Q,{onChange:e=>_(e),inputProps:{style:{padding:7,color:r.grey[400]}},id:"outlined-adornment-password",type:"text",endAdornment:t.jsx($,{position:"end",children:t.jsx(G,{"aria-label":"toggle password visibility",edge:"end",children:t.jsx(A,{style:{color:r.grey[400]}})})}),label:"Search"})]})}),g.length>0&&g.map((e,o)=>t.jsx(n,{sx:{align:"center",my:"8px",ml:"20px"},children:t.jsx(E,{variant:"outlined",onClick:()=>{w(e)},sx:{width:"90%",bgcolor:e.label===c.reg_id?s.bgColor:"undefined",color:e.label===c.reg_id?"white":r.grey[400],border:`1px solid ${s.bgColor}`,"&:hover":{color:"black",border:"1px solid black",bgcolor:s.bgShadow}},children:e.label})},o))]})})})};export{Y as V};
