import{J as ve,L as be,M as Le,w as ce,r as o,N as De,D as Ae,j as e,E as Te,I as Ie,t as Ee,T as Y,P as H,u as de,a as z,W as ke,X as pe,Y as Z,c as ee,Z as fe,V as Re,$ as Fe,ad as xe,ae as te,_ as U,af as Pe,l as _e,m as Ve}from"./index-ClOOCz90.js";import{L as Ye}from"./LightModeOutlined-DEWiTkEk.js";import{L as Ne}from"./LiveMapTopBar-F_6Y4xuG.js";import{V as Be}from"./VehicleMenu-BB5vFOXb.js";import"./index-CiVA2ofF.js";import{T as Oe}from"./TripGraph-CR3TSVUy.js";import{t as we,d as ze}from"./Search-CRaJZFxt.js";import{D as Xe}from"./DateTimePicker-0rjfNj1l.js";import{B as I,C as Se}from"./CircularProgress-C1Lo6CJr.js";import{M as $e}from"./Modal-CD9UOCCh.js";import{C as Ue}from"./Card-BsGkasI3.js";import{C as qe}from"./CardContent-CzS8ZsjV.js";import{u as Ge}from"./esm-ButBKCLh.js";import{i as He,j as We,k as Ke,m as Qe,n as Je,p as Ze,q as et,s as tt,t as st,v as nt,w as ot,x as at,y as rt,f as W,V as ae,F as q,a as re,S as G,z as me,P as ie,I as le,M as it,T as lt,O as ct,b as dt}from"./Vector-BEQdHjna.js";/* empty css           */import{v as ht}from"./3W-CBKYabV4.js";import{b as ut}from"./OutlinedInput-37rKu1SA.js";import{I as gt}from"./IconButton-CDgdE_rr.js";import"./createSvgIcon-BvKFo7S6.js";import"./jcb-aCHXMCXy.js";import"./index-DFAU_PqJ.js";import"./roundedArrow-DJT-uvGN.js";import"./TextArea-flF66gdG.js";import"./button-BZqRFYo-.js";import"./mergeSlotProps-CYiFvFhq.js";import"./Paper-6jlPcKRf.js";function pt(s){return ve("MuiCardActions",s)}be("MuiCardActions",["root","spacing"]);const ft=["disableSpacing","className"],xt=s=>{const{classes:t,disableSpacing:i}=s;return Ie({root:["root",!i&&"spacing"]},pt,t)},mt=Le("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(s,t)=>{const{ownerState:i}=s;return[t.root,!i.disableSpacing&&t.spacing]}})(({ownerState:s})=>ce({display:"flex",alignItems:"center",padding:8},!s.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),wt=o.forwardRef(function(t,i){const C=De({props:t,name:"MuiCardActions"}),{disableSpacing:l=!1,className:p}=C,v=Ae(C,ft),j=ce({},C,{disableSpacing:l}),L=xt(j);return e.jsx(mt,ce({className:Te(L.root,p),ownerState:j,ref:i},v))}),St=wt;class K extends He{constructor(t,i){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,i!==void 0&&!Array.isArray(t[0])?this.setFlatCoordinates(i,t):this.setCoordinates(t,i)}appendCoordinate(t){We(this.flatCoordinates,t),this.changed()}clone(){const t=new K(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,i,C,l){return l<Ke(this.getExtent(),t,i)?l:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Qe(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Je(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,i,C,l))}forEachSegment(t){return Ze(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinateAtM(t,i){return this.layout!="XYM"&&this.layout!="XYZM"?null:(i=i!==void 0?i:!1,et(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,i))}getCoordinates(){return tt(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(t,i){return st(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,i,this.stride)}getLength(){return nt(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_??void 0),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(t){const i=[];return i.length=ot(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,i,0),new K(i,"XY")}getType(){return"LineString"}intersectsExtent(t){return at(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}setCoordinates(t,i){this.setLayout(i,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=rt(this.flatCoordinates,0,t,this.stride),this.changed()}}function yt({tripPlay:s,speed:t,totalDistance:i,Acreage:C,filterCoordinates:l,handleTrip:p,showGraph:v,handleShowGraph:j}){return e.jsxs(I,{sx:{bgcolor:Ee.bgColor,position:"relative",color:"white",display:"flex",alignItems:"center",overflowX:"hidden",flexWrap:"wrap",border:"1px solid white",gap:"5px",paddingLeft:"5px",padding:"10px 10px"},children:[e.jsxs(I,{sx:{padding:"5px 5px",border:"1px solid white",borderRadius:"5px",width:"150px",display:"flex",justifyContent:"space-evenly"},children:[e.jsx(Y,{children:"Speed"}),e.jsxs(Y,{children:[s?t:0," KM/H"]})]}),e.jsxs(Y,{sx:{padding:"5px 5px",border:"1px solid white",borderRadius:"5px"},children:["Total-Distance ",i," KM"]}),e.jsxs(Y,{sx:{padding:"5px 15px",border:"1px solid white",borderRadius:"5px"},children:[parseFloat(C).toFixed(2)," acre"]}),e.jsxs(H,{sx:{background:"white",border:"1px solid white",borderRadius:"5px",padding:"5px 20px",color:"black"},onClick:()=>{l()},children:[" ","Calculate Acerage"]}),e.jsxs(H,{sx:{background:s?"transparent":"white",border:"1px solid white",borderRadius:"5px",height:"38px",padding:"5px 20px",color:s?"white":"black","&:hover":{background:"transparent",color:"white"}},onClick:()=>{p()},children:[s?"Pause":"Play","-Trip"]}),e.jsxs(H,{style:{height:"38px",padding:"5px 20px"},sx:{background:v?"transparent":"white",border:"1px solid white",borderRadius:"5px",color:v?"white":"black","&:hover":{background:"transparent",color:"white"}},onClick:()=>{j()},children:[v?"Hide":"Show","-Graph"]})]})}const Ct=()=>{var N,V;const s=de(),{tripList:t,selectedTripData:i,loading:C,trips:l,activeIndex:p,searchText:v,mode:j,isNavigate:L}=z(a=>a.dashboard),{selectedVehicle:n}=z(a=>a.liveMap),E=we(j),[O,_]=o.useState(!1),[g,D]=o.useState({});o.useEffect(()=>{console.log("tripList",t);const a=S(t);s(ke(a))},[t]),o.useEffect(()=>{!(i.length>0)&&L&&p!==null&&u.length>0&&b(u[p])},[i,L]);const b=async a=>{var k;let M={imei:n.imei,startDate:a.startDate,endDate:a.endDate};const f=await pe(M);((k=f==null?void 0:f.data)==null?void 0:k.documents.length)>0?(s(L(!1)),s(Z(f.data.documents[0].data))):(s(L(!1)),s(Z([])))};o.useState(0);const S=a=>{const M=new Set,f=[];return a.forEach(k=>{M.has(k.formatedDate)||(M.add(k.formatedDate),f.push(k.formatedDate))}),f},y=a=>{s(fe(null)),s(Re(a)),s(Fe(!1))},u=t&&t.length>0&&t.filter(a=>a.formatedDate.toLowerCase().includes(v.toLowerCase())),A=async(a,M)=>{var k;let f={imei:n.imei,startDate:M.startDate,endDate:M.endDate};if(console.log("payload",f),f&&(f!=null&&f.imei)&&(f!=null&&f.startDate)&&(f!=null&&f.endDate)){s(xe(!0));const X=await pe(f);((k=X==null?void 0:X.data)==null?void 0:k.documents.length)>0?(s(Z(X.data.documents[0].data)),s(te(0))):(s(Z([])),s(te(0))),s(xe(!1)),s(fe(a))}else U.error("Something is missing start or end date.",{id:"getTrip"})},P=a=>{D(a),_(!0)},m=()=>{_(!1),D({})},F=a=>a?a.split(" ").slice(0,2).join(" "):"";return e.jsxs(e.Fragment,{children:[e.jsxs(I,{children:[e.jsxs(I,{children:[e.jsx(I,{sx:{color:E.grey[400]},children:"Select Date"}),e.jsx(I,{sx:{mt:1},children:e.jsx(Xe,{})})]}),C?e.jsx("div",{style:{width:"100%",margin:"38%"},children:e.jsx(Se,{})}):e.jsxs(e.Fragment,{children:[e.jsx(I,{children:e.jsx(I,{sx:{display:"flex",overflowX:"auto",gap:"10px",paddingBottom:"5px"},children:l&&(l==null?void 0:l.length)>0?l.map((a,M)=>e.jsx(I,{children:e.jsx(H,{onClick:()=>{y(a)},style:{backgroundColor:v===a?E.grey[300]:E.grey[200],color:v===a?"black":E.grey[300],height:"35px",fontWeight:700,fontSize:"12px",width:"90px",marginTop:"20px"},children:a})},M)):e.jsx(Y,{sx:{width:"100%",mt:"50%",textAlign:"center"},children:"Sorry! No Trips Found"})})}),e.jsx(I,{sx:{height:"70vh",width:"100%",overflowY:"auto"},children:u&&u.length>0&&u.map((a,M)=>{var Q,J;const f=(Q=a==null?void 0:a.startLocation)==null?void 0:Q.address,k=(J=a==null?void 0:a.endLocation)==null?void 0:J.address,X=f?`${f.town||f.city||""}`:"",se=k?`${k.town||k.city||""}`:"";return e.jsxs(I,{sx:{m:"15px",border:"1px solid #e8edea",borderRadius:"5px",padding:"10px",justifyContent:"space-between",alignItems:"center",color:p===M?"black":E.grey[400],backgroundColor:p===M?"#e8edea":"undefined",fontSize:"10px",cursor:"pointer","&:hover":{background:j?E.grey[300]:E.grey[200]}},onClick:()=>A(M,a),children:[e.jsxs(Y,{sx:{cursor:"text"},children:[M+1,"."," ",F(X)," to ",F(se)," ",e.jsx("span",{style:{color:j?"orange":"blue",cursor:"pointer"},onClick:ne=>{ne.stopPropagation(),P(a)},children:"...see more"})]}),e.jsxs(Y,{children:[a!=null&&a.startDate?ee(new Date(a.startDate).toISOString()).format("LT"):""," ","/"," ",a!=null&&a.endDate?ee(new Date(a.endDate).toISOString()).format("LT"):"----"]})]},M)})})]})]}),e.jsx($e,{open:O,onClose:m,children:e.jsxs(Ue,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"40%",bgcolor:"background.paper",boxShadow:24,p:4},children:[e.jsxs(qe,{children:[e.jsx(Y,{variant:"h6",component:"div",children:"Trip Details"}),e.jsxs(Y,{sx:{mt:2},children:[e.jsx("strong",{children:"Start Location:"})," ",((N=g==null?void 0:g.startLocation)==null?void 0:N.display_name)||"N/A"]}),e.jsxs(Y,{sx:{mt:2},children:[e.jsx("strong",{children:"End Location:"})," ",((V=g==null?void 0:g.endLocation)==null?void 0:V.display_name)||"N/A"]}),e.jsxs(Y,{sx:{mt:2},children:[e.jsx("strong",{children:"Start Time:"})," ",g!=null&&g.startDate?ee(new Date(g.startDate).toISOString()).format("MMMM Do YYYY, h:mm:ss A"):"N/A"]}),e.jsxs(Y,{sx:{mt:2},children:[e.jsx("strong",{children:"End Time:"})," ",g!=null&&g.endDate?ee(new Date(g.endDate).toISOString()).format("MMMM Do YYYY, h:mm:ss A"):"N/A"]})]}),e.jsx(St,{children:e.jsx(H,{onClick:m,children:"Close"})})]})})]})},jt=Ct;function Mt({trip:s,tripPlay:t,setTripPlay:i,setSpeed:C,map:l}){const[p,v]=o.useState([]),[j,L]=o.useState(0),[n,E]=o.useState([]),[O,_]=o.useState([]),g=o.useRef(null),D=o.useRef(null),b=o.useRef(null),S=o.useRef(null);return o.useEffect(()=>{console.log("trip",s),L(0)},[s]),o.useEffect(()=>{_([]);const y=[];if(s&&s.length>0&&(s.forEach(u=>{y.push(u.speed)}),E(y)),s&&s.length>0){const u=s.map(A=>W([parseFloat(A.lng),parseFloat(A.lat)]));v(u),L(0),_(u)}},[s]),o.useEffect(()=>{console.log("tripPlay",t)},[t]),o.useEffect(()=>{if(t){const y=p.length,u=9e3,A=1e4,P=performance.now();let m=0;const F=N=>{const V=N-P,a=Math.max(0,Math.min(V/u,1)),M=Math.max(0,Math.min(Math.floor(a*y),y-1));M!==g.current&&(L(M),C(n[M]),g.current=M),m<A&&t?(requestAnimationFrame(F),m++):(i(!1),l.removeLayer(b.current),L(0))};requestAnimationFrame(F)}},[t,p,n,C,i]),o.useEffect(()=>{if(l&&O.length>0){D.current&&l.removeLayer(D.current);const y=new ae({features:[new q({geometry:new K(O)})]}),u=new re({source:y,style:new G({stroke:new me({color:"red",width:4})})});if(D.current=u,l.addLayer(u),t||l.getView().fit(y.getExtent(),{size:l.getSize(),duration:1e3}),t&&p&&p.length>0&&p[j]){console.log("path index",p[j],j),b.current&&l.removeLayer(b.current);const A=new q({geometry:new K(p.slice(0,j+1))}),P=new q({geometry:new ie(p[j])}),m=new ae({features:[A,P]}),F=new G({stroke:new me({color:"green",width:4})}),N=new G({image:new le({src:ht,scale:.07,anchor:[.5,1]})});A.setStyle(F),P.setStyle(N);const V=new re({source:m});b.current=V,l.addLayer(V)}else b.current&&l.removeLayer(b.current)}},[l,O,p,j,t]),o.useEffect(()=>{if(l&&s.length>0){const y=new q({geometry:new ie(W([parseFloat(s[0].lng),parseFloat(s[0].lat)]))}),u=new q({geometry:new ie(W([parseFloat(s[s.length-1].lng),parseFloat(s[s.length-1].lat)]))});y.setStyle(new G({image:new le({src:"http://maps.google.com/mapfiles/ms/icons/green-dot.png",scale:1})})),u.setStyle(new G({image:new le({src:"http://maps.google.com/mapfiles/ms/icons/red-dot.png",scale:1})}));const A=new ae({features:[y,u]});S.current&&l.removeLayer(S.current);const P=new re({source:A});S.current=P,l.addLayer(P)}},[l,s]),o.useEffect(()=>{b.current&&(l.removeLayer(b.current),b.current=null)},[s]),null}function vt({trip:s,tripPlay:t,setTripPlay:i,setSpeed:C,showCard:l}){const p=o.useRef(),[v,j]=o.useState(null),[L,n]=o.useState({lat:18.516726,lng:73.856255}),[E,O]=o.useState("");o.useEffect(()=>{const g=W([L.lng,L.lat]),D=new it({target:p.current,layers:[new lt({source:new ct})],view:new dt({center:g,zoom:15})});return j(D),()=>D.setTarget(null)},[]);const _=async g=>{if(g.preventDefault(),E.trim()==="")return;const b=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${E}`)).json();if(b.length>0){const{lon:S,lat:y}=b[0],u=W([parseFloat(S),parseFloat(y)]);v.getView().animate({center:u,zoom:15})}};return e.jsxs(e.Fragment,{children:[e.jsxs(I,{component:"form",onSubmit:_,border:"1px solid white",backgroundColor:"white",borderRadius:"3px",sx:{my:"6px",ml:"90px",position:"absolute",top:l?125:63,left:200,zIndex:1},children:[e.jsx(ut,{sx:{my:.5,mx:2},placeholder:"Search for a location",value:E,onChange:g=>O(g.target.value)}),e.jsx(gt,{type:"submit",sx:{p:1},children:e.jsx(ze,{})})]}),e.jsx("div",{ref:p,style:{width:"100%",height:l?"86vh":"93vh"},children:v&&e.jsx(Mt,{trip:s,tripPlay:t,setTripPlay:i,setSpeed:C,map:v})})]})}const bt=({center:s,showCard:t})=>{var ue,ge;const i=de(),{isLoaded:C,loadError:l}=Ge({googleMapsApiKey:"AIzaSyA_S7GfAh6rJYWQ5X4n4X-3poo3vymuspU"}),{Acreage:p}=z(r=>r.tripMonitor);z(r=>r.liveMap);const{singleTrip_Data:v,tripLoading:j,loading:L}=z(r=>r.tripMonitor),{selectedTripData:n,mode:E,styles:O}=z(r=>r.dashboard);o.useRef(null);const[_,g]=o.useState(null),[D,b]=o.useState(null),[S,y]=o.useState([]);o.useState([]);const[u,A]=o.useState(!1),[P,m]=o.useState(0),[F,N]=o.useState(!1),[V,a]=o.useState(0);o.useState([]);const[M,f]=o.useState([]);o.useState([]),o.useEffect(()=>{_&&D&&_.fitBounds(D)},[_,D,n]),o.useEffect(()=>{if(console.log("selectedTripData",n),(n==null?void 0:n.length)>0){const r=k({selectedTripData:n});a(r)}},[n]);const k=({selectedTripData:r})=>{const x=r.reduce((c,h,d)=>{if(d===0)return c;const T=r[d-1],w=Pe(T.lat,T.lng,h.lat,h.lng);return c+w},0);return x==null?void 0:x.toFixed(2)};o.useEffect(()=>{var r,x,c,h,d;if(n&&(n==null?void 0:n.length)>0){const T=new window.google.maps.LatLngBounds,w=new window.google.maps.LatLng(parseFloat((r=n[0])==null?void 0:r.lat),parseFloat((x=n[0])==null?void 0:x.lng)),R=new window.google.maps.LatLng(parseFloat((c=n[(n==null?void 0:n.length)-1])==null?void 0:c.lat),parseFloat((h=n[(n==null?void 0:n.length)-1])==null?void 0:h.lng));T.extend(w),T.extend(R),m((d=n[0])==null?void 0:d.speed),b(T)}A(!1),X()},[n]);const X=()=>{if(n&&n.length>0){const r=(h,d)=>{const w=new Date(h.createdAt).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0});return{Date:h.createdAt.substring(0,10),Time:w,value:h[d]}},c=["speed","mainInputVoltage","ignition"].map(h=>({label:h==="speed"?"Speed":h==="mainInputVoltage"?"MainInputVoltage":"Ignition",randomColor:se(),data:n.map(d=>r(d,h))}));y(c)}else y([])},se=()=>"#"+Math.floor(Math.random()*16777215).toString(16),Q=()=>{var r;if((n==null?void 0:n.length)>0)A(!u),m(0);else return((r=Object.keys(n))==null?void 0:r.length)===0?U.error("Please Select Vehicle",{id:"vehicle"}):U.error("Please Select Trip",{id:"trip error"})},J=()=>{var r;if((n==null?void 0:n.length)>0)N(!F);else return((r=Object.keys(n))==null?void 0:r.length)===0?U.error("Please Select Vehicle",{id:"vehicle"}):U.error("Please Select Trip",{id:"trip error"})};if(l)return"Error loading maps";if(!C)return"Loading maps";const ne=r=>{if(!window.google||!window.google.maps.geometry){console.log("not loaded");return}const c=window.google.maps.geometry.spherical.computeArea(r.getPath())/4046.86;i(te(c))},ye=()=>{const c=[];n.length>0&&n.map((d,T)=>{let w={latitude:d.lat,longitude:d.lng},R=[];n.map(B=>{const $={latitude:B.lat,longitude:B.lng};if($.latitude!==w.latitude&&$.longitude!==w.longitude){const oe=Me(d.lat,d.lng,B.lat,B.lng);oe<20&&oe>10&&R.push(B)}}),R.length>10&&c.push(d)});const h=c.map(d=>({lat:parseFloat(d.lat),lng:parseFloat(d.lng)}));if(c&&c.length>0){f(c);const d=je(h),T=Ce(d),w=new window.google.maps.Polygon({paths:T});ne(w)}else i(te(0))},Ce=r=>{r.sort((h,d)=>h.lng-d.lng||h.lat-d.lat);const x=[],c=[];for(const h of r){for(;x.length>=2&&he(x[x.length-2],x[x.length-1],h)<=0;)x.pop();x.push(h)}for(let h=r.length-1;h>=0;h--){const d=r[h];for(;c.length>=2&&he(c[c.length-2],c[c.length-1],d)<=0;)c.pop();c.push(d)}return[...x.slice(0,-1),...c.slice(0,-1)]},he=(r,x,c)=>(x.lat-r.lat)*(c.lng-r.lng)-(x.lng-r.lng)*(c.lat-r.lat),je=r=>{const x=(w,R,B)=>{const $=(R.lat-w.lat)*(B.lng-R.lng)-(R.lng-w.lng)*(B.lat-R.lat);return $===0?0:$>0?1:2},c=r.reduce((w,R)=>R.lng<w.lng?R:w);let h=[],d=c,T;do{h.push(d),T=r[0]===d?r[1]:r[0];for(let w=0;w<r.length;w++)x(d,T,r[w])===2&&(T=r[w]);d=T}while(d!==c);return h};function Me(r,x,c,h){const T=r*Math.PI/180,w=c*Math.PI/180,R=(c-r)*Math.PI/180,B=(h-x)*Math.PI/180,$=Math.sin(R/2)*Math.sin(R/2)+Math.cos(T)*Math.cos(w)*Math.sin(B/2)*Math.sin(B/2);return 6371e3*(2*Math.atan2(Math.sqrt($),Math.sqrt(1-$)))}return e.jsxs(e.Fragment,{children:[j&&e.jsx(I,{sx:{position:"absolute",top:"50vh",left:"50%",zIndex:"1000"},children:e.jsx(Se,{})}),t&&e.jsx(yt,{tripPlay:u,speed:P,totalDistance:V,Acreage:p,filterCoordinates:ye,handleTrip:Q,showGraph:F,handleShowGraph:J}),e.jsx(vt,{trip:n,tripPlay:u,setTripPlay:A,setSpeed:m,showCard:t}),e.jsx("div",{style:{position:"absolute",top:430,left:300,color:"green"},children:((ge=(ue=S[0])==null?void 0:ue.data)==null?void 0:ge.length)>0&&F&&e.jsx(Oe,{item:S})})]})},Lt=bt;function es(){const{w_customer_id:s}=z(S=>S.auth),{collapsed:t}=z(S=>S.auth),{mode:i}=z(S=>S.dashboard),[C,l]=o.useState(!1),[p,v]=o.useState(!0),[j,L]=o.useState([]),[n,E]=o.useState(!1);o.useState([]);const[O,_]=o.useState({lat:18.516726,lng:73.856255});o.useState([]);const g=we(i);let D=de();o.useEffect(()=>{b()},[]);const b=async()=>{try{let S=[],y=[];const u=await D(_e({w_customer_id:s}));if(Array.isArray(u.payload)){u.payload.forEach(m=>{var F,N,V;Array.isArray(m.imei)&&m.imei.length>0&&((F=m.imei[0])!=null&&F.mac_id)?(S.push({id:m.id,label:m.registration_id,value:(N=m.imei[0])==null?void 0:N.mac_id}),y.push((V=m.imei[0])==null?void 0:V.mac_id)):(console.error("IMEI data not found for item:",m),U.error(`IMEI Number not found for the vehicle: ${m==null?void 0:m.registration_id}`))});const A="one",P=y;y.length>0&&D(Ve({type:A,imei:P})),L(S)}else console.error("Unexpected data format:",u),U.error("Unexpected data format:")}catch(S){console.error("Error fetching vehicle data:",S),U.error(`Error fetching vehicle data: ${S}`)}};return e.jsxs("div",{className:"app",children:[e.jsx(Ye,{}),e.jsxs("main",{className:"content",style:{width:"100%",background:"#dad6d626"},children:[e.jsx(Ne,{title:"Trip Monitor",setShowVehicles:l,showVehicles:C,setShowCard:v,showCard:p,sideBarTrip:n,setSideBarTrip:E}),e.jsxs(I,{style:{display:"flex",width:"100%",height:"95vh"},children:[e.jsx(I,{style:{width:C||n?"80%":"100%"},children:e.jsx(Lt,{center:O,showCard:p})}),C&&e.jsx(I,{style:{width:"20%",backgroundColor:g.grey[100]},children:e.jsx(Be,{vehicleData:j,title:"Live Monitor"})}),e.jsx(I,{style:{width:t?"22%":"20%",display:n?"block":"none",backgroundColor:g.grey[100]},children:e.jsx(jt,{})})]})]})]})}export{es as default};
