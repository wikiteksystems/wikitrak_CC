import{i as Z,j as e,u as G,a as I,t as V,s as te,h as ie,G as se,T as k,r as f,_ as Q,b as ne,c as z,g as oe,d as L,e as F,f as K,k as H,l as le,m as ae,n as re,o as Ae,v as ce}from"./index-DOL91IoQ.js";import{d as de,a as he,b as ge,c as pe,L as xe}from"./LightModeOutlined-QditeN9J.js";import{r as P}from"./createSvgIcon-By4a6p9S.js";import{B as r,C as ue}from"./CircularProgress-bU40i_Zv.js";import{T as w}from"./index-OrECa9cD.js";import{I as me}from"./IconButton-v98tTKPC.js";import{p as Y,R as fe,L as je,X as Ce,Y as Se,a as W,b as Ie,T as ye,B as Be}from"./LineChart-D02BwOQp.js";import{P as q}from"./Paper-C6uHUsc2.js";import{T as Ee,a as be,b as O,c as C,d as ve}from"./TableRow--72YAWEY.js";import{T as Re}from"./TableHead-B7_4ocaL.js";import{u as Qe,G as we,M as De}from"./esm-BW_UAk9E.js";import{s as M}from"./Socket-0N_gnJcr.js";import"./roundedArrow-DuLZmSQO.js";import"./TextArea-Dh0NIvnO.js";import"./index-zFYBoTc4.js";var J={},Te=Z;Object.defineProperty(J,"__esModule",{value:!0});var _=J.default=void 0,ke=Te(P()),ze=e;_=J.default=(0,ke.default)((0,ze.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-7 3c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m7 13H5v-.23c0-.62.28-1.2.76-1.58C7.47 15.82 9.64 15 12 15s4.53.82 6.24 2.19c.48.38.76.97.76 1.58z"}),"AccountBox");var U={},Ye=Z;Object.defineProperty(U,"__esModule",{value:!0});var $=U.default=void 0,Me=Ye(P()),Ge=e;$=U.default=(0,Me.default)((0,Ge.jsx)("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2m6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1z"}),"Notifications");function Ve({title:i}){const l=G(),{collapsed:c}=I(d=>d.auth),{mode:s}=I(d=>d.dashboard),a=JSON.parse(localStorage.getItem("w_userDetails")),g=()=>{l(ie(!c))},t={fontSize:"26px",fontWeight:500,lineHeight:"18.38px",color:"#fff",textAlign:"center",paddingTop:"5px"};return e.jsxs(r,{style:{display:"flex",justifyContent:"space-between",paddingRight:"20px",backgroundColor:V.bgColor,alignItems:"center",textAlign:"center",height:"60px",color:"white"},children:[e.jsxs(r,{style:{display:"flex",justifyContent:"space-between",gap:"10px"},children:[e.jsx(r,{children:c?e.jsx(de,{style:{cursor:"pointer",width:"30px",height:"30px"},onClick:g}):e.jsx(he,{style:{cursor:"pointer",width:"30px",height:"30px"},onClick:g})}),e.jsx(w,{style:t,children:i})]}),e.jsxs(r,{style:{display:"flex",gap:"5px"},children:[e.jsx(r,{children:e.jsx($,{})}),e.jsx(r,{children:e.jsx(_,{})}),e.jsxs(r,{children:[e.jsxs(w,{style:{color:"white",textTransform:"capitalize"},children:[a&&a.first_name," ",a.last_name]}),e.jsx(w,{style:{color:"white",textTransform:"capitalize"},children:a.role})]}),e.jsx(me,{onClick:()=>{l(te(!s))},sx:{color:"white"},children:s?e.jsx(ge,{}):e.jsx(pe,{})})]})]})}const Je="/assets/cardsBackground-Cra4cvQ4.png",Ue="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAL5SURBVHgBzVg9T1sxFD12EF9tBpj6yoaUSBVLRaWOzQ9IV9Qs3cKQBYkOjFVotw5FYmHp1qEqLB3oD2DswopEJLYkTICalkJInnuu89GQvuZZvCZ5R4Rn2df28b3H9/lZoQ8bGyapFOYmJzGXSGAKQ0C9jkut8XNiAuViUdV721SnsLJiEktLWGDxAUaImxtUj49R2dtTzS4hIZNK4RG9MosxQDxWKuFISGmpEM+Mi4xA5k6n8VDKqlg0k3w+RgwwM4Mj3WhY3cQCZ2eY01T6PcQEsrNFQ2PTTj8kzWjEDBNhBkySKWOQhAOUj6rRqCICBhKi+9ZhkFNwhLaJ7b0PfMYdEeahHGeokdRBiB1NkCSZDJ9PMERCMtMPrvhtmBlD69E2Awmvs0vvQsgVTRJXeKO4gLETonRe8F/a8lD271mQnYunIxPizvJI5pWj+Vf+DjFMQjqBLNOCiHqLrgkWf5Pe03jHcK4ahQKGSYhkntsCybAcnINauemQwl9m3JLMVTVEIORRI9/6K33TFrBmyISPwRcnLWvqDfiACIQEf61cS37S9I4Jbv8HPHopR09GIlQ1Pl7SzSkOVuNgpS4pSZyE6IL1Xrv6lmhF9Ozr8Vmijj7ij10gnF6uHChFwx2GJTdgoB3+Xgf0zUubLAgOcAoZPVTlwPsYvGX3/eCkaPuo1ivoPxBSuM/lZ01LJx7ny7fru1tcPCftqkUm39u9zaFqXysylolAyMhWNVjmPKv9bX7Lax24nQiieoj9C8wbGUlqtkKhRCKfbFHbUGTbdlsUdQ0h4MfhOkLOVqEhoxgPlOQNZY8WBXscgU2IIpeSffh8JehwQmgdTwYSks+gp3AA9ZF08UJUOJ+pR0FGoJtNXCMmkAsIzU+Pc8QE3DC/NENxgZhgfh5lvbmpvk9P4xTjx+namrq2ol5cRJmPS4wPMndFCt0Eu7trEicnWLi6Gu2FFSHRqfAmrXGLUAfb22aKtxByIzKLIX33y86mgC940XEukult+w27Ie61O2AgYwAAAABJRU5ErkJggg==",Ne="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAQHSURBVHgBzVhBaBtHFP3/z8qqHatg2kNltcS0yJDig3Gh+CZ6cWkdSi8GQ6Gn9tBDA80h9NJgGiikhRp68b1EcRKfTa6lJ1vQkNQuKTUtJYm0IbFkY0mWbO/Ozx9Zm8jKWrty7EgPRprZnWHe/Pfn/9lBaMInf1+OaYcHIBIZAMAonADYdbeJoPyKU84ujMzsNr5DrzJ1Y0pV3n0vAZGeN+AlQim2e95Zyi3ggvuUkCGzPfL+GVSqDzoAY7G+M5m7hhSZB8YynSJjYObe/Xd8sFafWp3pqUReHYUuAPHeXapapxLQJdARHiCt4RR0C5zIAHXSd54HRq1Wr12ykqO9b87dLt+bVaAXG99phrhs2jmfYUVQcIG0a8MR0JLQaO9bcz8kPo2l15cupgvLcJCUigNziRT+fICo5vPEWsjCkQip4a8/PNSp7b2tPAKmPnt9XIIFpO5Ucra0hzWqL5BhAgjjDHBayphXAPE0M41oUuPSjhLwGrSBlhYyFrmSXzLVizVS8p8uZGxEnpfy+yHDFmvhFqEfGL90QPVb4F6H4yB0CKm4yFeiJp9qBmqRD9UaMfwozdCEWkrmgUnBn+UHryHCUKN8QXIgsM1InzPgLjPnZXwpaK5QhGRLfYuIqZVqtihqRNshxYwT4leTxvdE5sWgqQIl26dNs+xyDJC20o+XyvJk0vOpK4VMP7F7KCmxTk5MlSNwLzUcLl6MEGtZIUFSLFWS1UJ6fdls6Xid1PmrG5kiaH856hT6HbA+DuPcoQiJL4zJCi9I5Zb3TBx9Ep45ekwc/bng6UEDpRTDtIw/HkJ+8A8JzcHTY4RFI14YtE3IpBN0+SeNMG8k8CNlDlnizNOs8HulneMLjH4w8slPnBCGzaL9LHU1n7FNH8kjw9I+WUKSNK/LEW8N2Kx832X9gud8YflaUPA8FkI1sHureQv7kJoW+f5RbZIKR4h1yWU1TShytYDxHTkZGImSnnzz68sim46xohyG8OtwqUOpVYnIQxLkJsQyKfkfFAMVpcR8Sn6lkpVTwX6aEQ4jK9tZBIWXUY4rQXOFslD9sDXLqCSDw1lJAX/ImedSqzEi13fyd7ZuqaS0jXUD5QuXy+rQlrLJ5SGJ1tdM4gzqu1q6b/rG28l9bRGSL4KCSZBBZBr73qnJt3/I+6tqjz3a2/y11bgjR+qw8HbfajX3ze2dB1+pgP5CiHdO6lKhkdRK+f/FIDKSwMsEltqALoF8I1bIfUyb0CXQZGXp5vi5LbDoIXQa1u7Dm8lzO7Xbj963B7PmSgQ6BDN36V41Z+rPLqz4hqr8l0uAo1/qhZWxjCHz2wczzgFCHj5a+yVK2knI1VYfuu7JfPdHeEdXeZMjPRsi01bjqyedv+fhehQJ4AAAAABJRU5ErkJggg==",ee="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAALsSURBVHgBzVg/TxRBHH2/2T0gyBUXQuSgsYHExMJAYmOUWqBF7wNAQakFncbEzkLs/AAWojY22JkosbGAykiBhQ3HERQIBwf3Z2Z8swgCernZC9zdSza72Xl782bmzZu5EZyB/XwziX2kyh2SgpV2XACs1oU2Fe6h++eqXPtWOlkmx6Q3EwHS2f6yVb1oIBIdsoYfl7Ny960+FuTElHo2rkqgO9EEWB0U2jZ6lp0oFb1hzzRLjENU95X1vujZfp1oK2/mrqMFkFBmWeHXej9aBRYpVQorl9AiKENSSnTQNO/8A8ZMiDqhGBKcES/+U5Q3GjMGWEMdqFuQWKQZGrvW4tmp94IHolhmGiQoCDHG8LpNA7pp2ksBk2co7t39METWGixog3nEQCxBQYBJMRi3glfsnYUqtEMBFl0UNsVvurTGa3giliD2TMZApo22Kz78QGGFop7y0VuQ8iIpGeCPZ/iYNMZPjAOHa+mPsAwrSvt849VDSuwUbyO8lhAfOecpCTDC2Tddi+wliFN4li1Mcsx22NohxEPWXfTREx+ylyB6Z4y3ARp1l619hPjoYm6N+pjbV9AQ82bmyBNxwV4dYUOcB2sK8jL1OSDvS4wtyM24MMA75su9ahwXnuS8dFzERGxBItaZOs1hHKzKQWT8QYEdREzEXjqcMV3gGYOqeaQreC5K5uJkVt2CogprmNvSM9ZYb9/UI8hN9wx9EzeDInAI3UKc9eF6B6Nbx3iNwy0BllsLwWKNz4aPuFyMP1mNOZybIB3tbWa5pehiBeNOTKVG8pL78IhL383CE7E8ZIzMcV3rY0jOnyf3JKS0cOsGWgiNSmpvKEhYRIuAfxT3VAKlLbQIDqzsq818ZRstgo58blV1j37ZSXSaHJqMhJicjH4vHpp6uG/VBkEBTUKCxzH4kIiS/O+BleWB1SIPrAoNPrBizzgx8vhj5ZSgY2Hv77QfJPP9SoWdoi/ozIgzW5eK24Wi3nKWOVn0G1LAAaHnv/wgAAAAAElFTkSuQmCC",Le="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAANoSURBVHgBzVg7T1RREJ45Z4EEFgyFCY8ajJ2BhFjJD5CChoiJNgoFhSSaaKdBOiFRo4kW0qkJSmMBnYV2xsS1JIEalsQCZBeVxz3jN+euC6zAvav7+pLde+5zvjPzzcy9h6kA8uBaM8luK9XVtRJzA5UDAf0g4i3a+r7CE3M7B09xnsjQkKXe1k6qD9qokpCGNH36tspzc0GekCfT13KWLDVSNaAe+7y5qKSMP6CeqRYZhdo+f7pDhywTQ/XU0nKOagG7smio6VQn1QqQTAiZNFGtAJltqqqdQqDMGKoIzEUy5iYstkddmaCyAyQM3/NDnb6TR1RRQmy6UN36yVEa+kxhf/rA2aWo20tMCN5gfoVBGt5o93VXaJmcGySRLHYzUU8orYYMD3syLhgEiTvhQbmPXzoOGUWpQ6ZGk7mwddE/oLSEAveGrB3IhU2R8WM2sxBzCp76GPWI4ghZcwma6D/mbAZGH/twWdNDgaTDUNlRkBrx4XTyAmk2c5KJ+BryZPgWHp4l1clfPz4DTzz3wg5cypNRuGCWKKcfG62jmB6CEeFRDGYpCI6uI0LNCNdLzHEaJMbyItatc1cxkSS2y1GW4nnI8F38Z0HmeHerYZHb2LbBmyMFbNMk0WRiEkLZJ+7F7MYiU1eN+koMvRj7Hu0CE4GeikB0yAz1IBz7moiEWyDHKbJ8AWG+jPsHSCzELV9AdibqOWVqrjCqJUAzTuQKDmBC3I/Qj0TdWSQhuN+YZ8gmFe8JD8c5Y9/5a0U6SIJJeCiyjxVJyHdtTWs0KF7GePRoUnjN8C0ERVB4DaSmitFRvLRn6Mh7RVMYKe2PmUxICpX5MJIgAx25sDywhVd5CjqkODqMJuRogYymLXd7Yv4ly+83Y1+r8XwB++GQlB+3+7EmhYbMqZb+lxCh6uqD/hQ+X40FPYq6sZ2EJxYOXW4sKjkjbEZfP3AN6pfAWxIvS+P3srDijuVeMdDRUW98iyjkj1ZhWFuJlouvIDMfv2Tod9nD631UQzBw5TbVDMwWPoMS61Qz2PtpQGqDagWJ5Irh8debyIw1qjZ27BqPP90OK3XH+kq4iFQlqO1fS6s63F+weos1olUsy7gKL1jBM0qGJz7sHSKUJ/bkRgPtZbFeZBrBvDzf/ZLYRm3doHpe95I5gN/jXkRgupbMYQAAAABJRU5ErkJggg==",Fe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJySURBVHgBzVi9ctNAEP72JDAJpEhHcMkEJkDBpGCoYKihoOQBQkFJkwfIC1BS4A4KhhoegBeggglDhoaZJHQw2CHjjKzLtyfH+ZPl89my9M1IOnlP2s+73+5pTnAW3+0CEixypEcDZaCH/3zzHv1s444cnDTJYPTBRriFJkdXMUtcwi6uYwcivWNCSuYmVhBhHlXAMGIr2FRSxv2gkamKjCKl75+4pkPBV3uR17uoA2JsGp6aqAtYTAZdXEZ9sBhPXTuCZVi8G2J9w6NV8HTDYNpIsVBgXcIIxAhBj04NI3EWhj3FYiKEEFpjmp/nWiw2eN7FzAhZrFIjSqbF68dz9gSd3MiVRsg4wbah4sxLTQTMLmUpBSlcYICtEyvg1OFHyOIGo/O2P/48YnYHE0CXjnuec9c4+xkJqcOdIXO+INPXqrtL8YTjBzzW3X3C6EYu5UPhFyFhuizFnNKhDCWjWHJkrCOGPrHO4D7CSPgRyvSjot7gy4vLekJRh3bqx3T80jXIPBTZSiL00Okpzuk5WgCZ7QoCELZ0CF4xjZ+AvjZO236Q1Doj1PHRzKSEsn+tOpICLQlbQwAZf0KG5ZqJ+TV8+4zgRYjAfRtj2zlIWfpCQcP1kveFzyRlpyyLkC6oSkij1CqcH5iy8arMDHTTRkkY9/NDxfw0NB3TJ6RQUr5kYlZbMt5iG9aHfKGLKdzhDdVQF3UBNyCU0B/UBfvYN8zwX9QFc9g2uC//OPyNqjFHDsvSzfrQbW4c6ZZIVVDfv7IPv+PPdcs9om8VbFhpZJTMI0lOEzrClm1QXE02hHm3b1MGLrCy96jdAxZUJpkBDgEIpaKmeGLTfwAAAABJRU5ErkJggg==",X="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADdSURBVHgB7ZLNDYJAEEZnFgqwBFqwAzmqJzuAAwerAMowmEAT6FGtRErwaoSMw14Mv7txOe5LIMAw79thAbBYTEEwpcwStsSD57tIugWYso8SIEinyuYB0uIWfH79F3DNPShPyWydmhtfrcZChFLeNqOIoTznk3Ugj48K3vW6/7mEUi6bGaSgEzKQNz4cjlV/T1At52bEEAhzeU9YgHDSUfkIQj02N2+jO6Dj83oqOQnVTx35cIKpsXXrswG6zfK9T8H1QCXvBlyy9lfb6K5Ml98eoBuy/LGk3GJZhi8WKpuRI9fwbwAAAABJRU5ErkJggg==";function Ke({imeiNo:i}){const{vehicleList:l,onlineVehicle:c}=I(a=>a.liveMap),s=()=>{let a=0;return c.length>0&&c.forEach(g=>{i.includes(String(g))&&a++}),a};return e.jsx(r,{sx:{backgroundColor:V.bgShadow,borderRadius:"8px",padding:"1rem"},children:e.jsx(r,{sx:{backgroundImage:`url('${Je}')`,backgroundRepeat:"no-repeat",backgroundSize:"cover",height:"20vh",position:"relative"},children:e.jsxs(se,{container:!0,spacing:2,justifyContent:"center",gap:"10px",children:[e.jsx("div",{children:e.jsx(R,{title:"Total Vehicle",value:l.length,icon:Ue,trendIcon:X,trendText:"Total Registered Vehicle"})}),e.jsx("div",{children:e.jsx(R,{title:"Online Vehicle",value:s(),icon:ee,trendIcon:Y,trendText:"Total Online Vehicle"})}),e.jsx("div",{children:e.jsx(R,{title:"Offline Vehicle",value:l.length-s(),icon:Ne,trendIcon:X,trendText:"Total Running Vehicle"})}),e.jsx("div",{children:e.jsx(R,{title:"Running Vehicle",value:s(),icon:Le,trendIcon:Y,trendText:"Total Running Vehicle"})}),e.jsx("div",{children:e.jsx(R,{title:"Not Running Vehicle",value:l.length-s(),icon:Fe,trendIcon:Y,trendText:"Not-Running Vehicle"})})]})})})}const R=({title:i,value:l,icon:c,trendIcon:s,trendText:a})=>e.jsx(q,{sx:{position:"relative",padding:"20px",marginTop:"35px",width:"188px",borderRadius:"20px"},children:e.jsxs(r,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",width:"100%"},children:[e.jsx(k,{variant:"h6",sx:{fontSize:"12px",textAlign:"center",marginRight:"30px",color:"#686868"},children:i}),e.jsx("div",{children:e.jsx("img",{src:c,alt:i,style:{width:"30px"}})})]}),e.jsx("div",{style:{display:"flex",textAlign:"left",alignItems:"left",width:"100%"},children:e.jsx(k,{variant:"h6",sx:{fontSize:"24px",fontWeight:"bold",textAlign:"left"},children:l})}),e.jsxs(r,{sx:{display:"flex",alignItems:"center",marginTop:"0.5rem",width:"100%",justifyContent:"flex-start"},children:[e.jsx("img",{src:s,alt:i,style:{width:"20px",marginRight:"0.5rem"}}),e.jsx(k,{variant:"h6",sx:{fontSize:"12px",textAlign:"center",color:"#686868"},children:a})]})]})}),He="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEQAAAAbCAYAAADFyymQAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAK3SURBVHgB7ZmxctNAEIb/OxlIgwkBCnBBCXkAGCoaU1HZHQ0JfYaGDoaCBiZ9yAMADVXGD0CoqEJHAWaGhiLQhWAaG8sS/64kY2lMJloz48L6ZlY6nXynu//29s6Sg/AEnscV2jJCnMAiEWKIJRwydUAdIqdihLjMjCUsNn3U8NVjgHOoxBBEgxWPGGdQkdDHsqebLFbMOApq4VGRoxKkQCVIgfkLEqKFEZ6Nr2Ocpl3FnKjBijQ8wl2m2nrt0OOxQ4lfoQwO11lXY6JeEeca829gDtgEiXCJDX/BRksHRICujqrDGu+1eL5H+wULHpv0mAbmhNVDNlQMz44D+2neHm2XndmhOGsIsK25nuL9phdkeP7O49s/a45Y2qu3YWr5gOI72iTirSM0md+gfWKZtzAS4CYuoCwRnvPB27R3hTviFedpt8dTZ4QtyLRyfI7DKtMPaT2mPyDpTJPHOn/fSesWL7szvi6Wj/EgVz7x1te8vsWrAc/t1FtNoliCaiPtyOepdyMdvYaO2l9eUvp1Naees4FyHFU+8dZTFCTAfaYe8dlta2Cexyqzx8bWAXOcyJeP1Wu63HY3dcWK0vyRTZDyMSRO57fDFSRxI4/XhvTMQbU8EjfEG+sTee/Zjn0YKC+IdNTpKMnczy+xyR5C8s1BzYAM0C6nyyb+A7Yp4/Thq3TPpxrUBJmzEQOgzOdshTleXb10hG04Db4tTpfmOC9rkwGrIF2WXGdKNlVvOF8/shE7eie/FB+nro4KEnJfY8Gr+FLHlrZDLOYqaMThsS6FdmrszIB1BCqCad6O6wlniDtJ+SyOmNth37pnSCeCKcHVUs/s5WcO5NW/3QKVIAXkFeIQFQnUQt66/0RFxqHHF36gCSlLRZ92EOiqfZGbo7M8n+Qb+IhrxiIhIWOIH+z7d/ly9weyOb5MvYzH+AAAAABJRU5ErkJggg==",We="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEQAAAAbCAYAAADFyymQAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAP1SURBVHgB7ZlLbBtFGMf/M7Ne22kch/ASDhI9VMIp9ABqKiHgAEGgHiISpF6Q8jhDuQd6yaVK7iF3aCSQKpQEicchTRGHgkhDRYXUGkppqeRIoWppd2N7d7yzy3wbNnLdCrJbGlW1f5d57Dz/M983Yw+DZnIy4M9/gh7TQLfgSKGFUD7q0sONM2/j+uQk8xmJ8cI8nuI+MmhhfA7n+7fwB/vqueDRVB2PoA1qElc5d5FHmxByGbzVfMa/QVpwtLmFtiBNtAVpwsAO8IW03qnCH9b6W3mwuTfM3OKqsouXlT/hI+hNga0Mm/kjC9I+2oXg5IDZtUz1VmWt2GEway/PrGGHSCzIml/PnfFqI5sTJbiVA1s8aObmGst9KSsjG1BjPeDTWS7KnCGguheVmsmAL3dyMWeC2VS2DnXAgzgd1b0Adz7tscW9ZuYD7BCJBDnnO4WfPedjpuOdnM3lYJRseEXb90ePS2voJSM7XuCpcJI1qIG0nvjrZn4hqn9KOf0+0NtvZGejcnfiMW68V2BGCTtIIkF+8dx3SYx9IjPeJzLlf7JXzitn+ayqzf/oVUYLZvdsQ5XglKz0U+QhQ5Srqt5L8UueLF6CRFpwe7/I3jbxvC/KgYEgSpMJ/aWF3xy4sB43eKnZnGj3/eRVw12720ifiGtuiQRxEAx3Q0w1iBFC6V+VXNBmNKSTW4LUERxYg/dkmAjwYZSv8w5TaCp+fr/AdHM/v8OdyXqcTGZWi91LJiTASnox7ACqsO4hVxXBeCTmN7L66jrcKQFe0qeFddZzJtbhH37F7DiJbRJbEBoYhZ16o9zpe4cecBUYpZWKzCELvjhodm0JtKTssI1DZn4MMXlC+6KXzdwKxT+T1kdXlBzVgoQ+5k/I93eBHRs082Ffn0tr4ipcLfo9FOR+Ql+xSxJBH8Ujv0Q3iSVpD0VlFFixcXH+i9iC5JmwKNwAntbBSvP3KoKi3tLWdgdwN2izuK2PGoIBbdJb+QbYacQgtiA00RT4SgX+gE7ecsTSSjg6Pw227S36f9Gju78C2iLG1IvmrlgiNJLoprpbpKY9+H0L8uZROoIpb1XVit951Rk6fYoiPYuEOFBFJIAcOi1UGWoiGhMtUBTfLokEIa++R2TG6PTQnvzEp/LGuQvKndfnI2s6imOR46lj5JC/lvYIEvCMMI/oe99GNKZvvcoPl333tThtsKVnN51SUtZ85C76lb5uJsr7EgrR3B6FBY7EPojauBY4XQ+zjBW3nbsW5EGj/Wu3ibYgTXD6Gx5tQkgL7qdxE21C6H2Gb+zBdZfBRYtD7zKD+rGK7lE4figQnb+hh54kWvHljqzk4Ju4xvTL3d+J7ax5YwE1lQAAAABJRU5ErkJggg==";function Oe(){const i=G(),{locationData:l,vehicleList:c,vehicleGroup:s,onlineVehicle:a}=I(n=>n.liveMap),[g,t]=f.useState(null),[d,u]=f.useState(!1);f.useEffect(()=>{});const x=async(n,A,o)=>{if(u(!0),l.length<=0)return u(!1),Q.error("Data not available for this vehicle",{id:"clipboard"});const h=l.filter(T=>T.latestDocument.imei===n);if(h.length<=0)return u(!1),Q.error("Data not available for this vehicle",{id:"clipboard"});const{lat:E,lng:b}=h[0].latestDocument;i(ne({lat:E,lng:b})),t(A);const S=z(),N={imei:n,startDate:S.clone().subtract(5,"days").toISOString(),endDate:S.toISOString()},p=await oe(N);if(p&&p.documents&&p.documents.length>0){p.documents[0].data[0].createdAt,p.documents[p.documents.length-1].data[p.documents[p.documents.length-1].data.length-1].createdAt;const T=m(p.documents);i(L(T)),i(F(p.documents.length)),i(K(T/p.documents.length)),y(p.documents),u(!1)}else Q.error("Summary not available"),i(L(0)),i(F(0)),i(K(0)),i(H([])),u(!1)},y=n=>{const A=[];n.map(h=>{h.data.map(E=>{A.push(E)})});let o=j(A);i(H(o))},j=n=>{let A=null;return n.forEach(o=>{const h=new Date(o.createdAt);A&&A.toDateString()===h.toDateString()?(o.date=z(o.createdAt).format("HH:mm:ss"),o.ignition=o.ignition?"On":"Off"):(o.date=z(o.createdAt).format("DD-MM-YYYY"),o.ignition=o.ignition?"On":"Off"),A=h}),n},m=n=>{let A=0;return n.map(o=>{let h=o.data[0].lat,E=o.data[0].lng,b=o.data[o.data.length-1].lat,v=o.data[o.data.length-1].lng,S=B(h,E,b,v);A+=S}),A},B=(n,A,o,h)=>{const b=D(o-n),v=D(h-A),S=Math.sin(b/2)*Math.sin(b/2)+Math.cos(D(n))*Math.cos(D(o))*Math.sin(v/2)*Math.sin(v/2);return 6371*(2*Math.atan2(Math.sqrt(S),Math.sqrt(1-S)))};function D(n){return n*(Math.PI/180)}return e.jsxs("div",{style:{},children:[d&&e.jsx(ue,{style:{position:"absolute",left:"50%",top:"82%",zIndex:9999}}),e.jsx("div",{children:e.jsx(q,{sx:{width:"100%",overflow:"hidden"},children:e.jsx(Ee,{sx:{maxHeight:240},children:e.jsxs(be,{stickyHeader:!0,"aria-label":"sticky table",children:[e.jsx(Re,{style:{color:"red"},children:e.jsxs(O,{children:[e.jsx(C,{align:"right"}),e.jsx(C,{align:"left",sx:{color:"#686868",fontSize:"14px",fontWeight:"600"},children:"VEHICLES"}),e.jsx(C,{align:"left",sx:{color:"#686868",fontSize:"14px",fontWeight:"600"},children:"IMEI NO"}),e.jsx(C,{align:"left",sx:{color:"#686868",fontSize:"14px",fontWeight:"600"},children:"STATUS"})]})}),e.jsx(ve,{children:c.map((n,A)=>e.jsxs(O,{style:{backgroundColor:A===g&&"#ebf0ec"},children:[e.jsx(C,{align:"right",style:{cursor:"pointer",fontSize:"11px"},children:e.jsx("img",{src:ee,style:{height:"20px",width:"20px"},onClick:()=>{x(n.imei.length>0&&n.imei[0].mac_id,A,n.registration_id)}})}),e.jsx(C,{align:"left",style:{fontSize:"11px",paddingY:"0px"},children:e.jsx("span",{children:n.registration_id})}),e.jsx(C,{align:"left",style:{fontSize:"11px",paddingY:"0px"},children:n.imei.length>0?n.imei[0].mac_id:""}),e.jsx(C,{align:"left",style:{fontSize:"11px",paddingY:"0px"},children:a.length>0&&a.some(o=>{var h;return o.toString()===String((h=n.imei[0])==null?void 0:h.mac_id)})?e.jsx("img",{src:He,alt:"Online"}):e.jsx("img",{src:We,alt:"Offline"})})]},A))})]})})})})]})}const Xe=()=>{const{center:i,selectedVehicle:l,vehicleList:c,tractorIcon:s,icons:a,locationData:g,placesData:t}=I(m=>m.liveMap),[d,u]=f.useState(null),{isLoaded:x,loadError:y}=Qe({googleMapsApiKey:"AIzaSyA_S7GfAh6rJYWQ5X4n4X-3poo3vymuspU",loadingElement:e.jsx("div",{children:"Loading "})});if(f.useEffect(()=>{x&&u(window.google.maps)},[x,g]),y)return"Error loading maps";if(!x)return"Loading maps";if(!d)return null;const j={height:"27vh",width:"100%",borderRadius:"10px"};return d?e.jsx("div",{children:e.jsx(we,{mapContainerStyle:j,zoom:5,center:i,options:{mapTypeControl:!1},children:g&&g.length>0&&g.map((m,B)=>e.jsx(De,{position:{lat:m.latestDocument.lat,lng:m.latestDocument.lng},icon:{path:s.path1+s.path2,fillColor:"red",fillOpacity:2,strokeWeight:1,scale:2}},B))})}):null},Ze=Xe;function Pe(){const{totalDistance:i,totalTrip:l,avgDistance:c,dashBoardGraphData:s}=I(a=>a.dashboard);return e.jsx(r,{style:{borderRadius:"5px",height:"26vh",backgroundColor:V.bgShadow,marginTop:"20px"},children:e.jsxs(r,{sx:{pt:"0.7rem",display:"flex"},children:[e.jsxs(r,{sx:{ml:"1rem",width:"40%",height:"23vh",fontSize:"13px",color:"#686868"},children:[e.jsxs("p",{children:[e.jsx("b",{children:"Summary"}),e.jsx("span",{children:"(Past 5 days)"})]}),e.jsxs("p",{children:[e.jsx("b",{children:"Total distance travel:"}),e.jsxs("span",{children:[" ",i?parseFloat(i).toFixed(2):0]})]}),e.jsxs("p",{children:[e.jsx("b",{children:"Total trip :"}),e.jsx("span",{children:l})]}),e.jsxs("p",{children:[e.jsx("b",{children:"Average Distance Travel :"}),e.jsx("span",{children:parseFloat(c).toFixed(2)})]}),e.jsxs("p",{children:[e.jsx("b",{children:"Fuel Refilment :"}),e.jsx("span",{children:0})]}),e.jsxs("p",{children:[e.jsx("b",{children:"Total Ignition Time :"}),e.jsx("span",{children:0})]})]}),e.jsx(r,{sx:{ml:"2rem",border:"1px solid white",width:"55%",height:"23vh",fontSize:"13px",color:"white",backgroundColor:"white",borderRadius:"5px"},children:s&&s.length>0?e.jsx(fe,{children:e.jsxs(je,{data:s,margin:{top:20,right:30,left:20,bottom:10},children:[e.jsx(Ce,{dataKey:"date"}),e.jsx(Se,{}),e.jsx(W,{type:"monotone",dataKey:"speed",dot:!1,stroke:"#264796",strokeWidth:2}),e.jsx(W,{type:"monotone",dataKey:"ignition",dot:!1,stroke:"#264796",strokeWidth:2}),e.jsx(Ie,{layout:"horizontal",verticalAlign:"top",align:"center"}),e.jsx(ye,{content:e.jsx(qe,{})}),e.jsx(Be,{dataKey:"date",height:12,stroke:"#8884d8"})]})}):e.jsxs("h2",{style:{color:"black",textAlign:"center",position:"relative",top:"30%"},children:[" ","No data available"," "]})})]})})}const qe=({active:i,payload:l,label:c})=>i&&l?e.jsxs("div",{style:{border:"1px solid #ada7a6",borderRadius:"5px",overflow:"auto",backgroundColor:"white",padding:"10px"},children:[e.jsx("p",{style:{color:"black"},children:`Date: ${c}`}),e.jsx("div",{className:"tooltip-content",children:e.jsx("div",{style:{},children:l.map((s,a)=>e.jsx("p",{style:{color:s.color},children:`${s.name}: ${s.value}`},`tooltip-${a}`))})})]}):null;function gt(){const{w_customer_id:i}=I(t=>t.auth),[l,c]=f.useState(()=>{const t=sessionStorage.getItem("imeiNo");return t?JSON.parse(t):[]}),s=G();f.useEffect(()=>{a()},[]),f.useEffect(()=>{sessionStorage.setItem("imeiNo",JSON.stringify(l))},[l]),f.useEffect(()=>{M.on("geofenceAlert",t=>{(t==null?void 0:t.imei)!==null&&l.find(x=>parseInt(x)===(t==null?void 0:t.imei))&&(console.log("geofence"),Q.error(`Type: ${t==null?void 0:t.type} ${t==null?void 0:t.msg} ${t==null?void 0:t.imei}`,{id:"geofence",autoClose:5e3}))}),M.on("speedAlert",t=>{(t==null?void 0:t.imei)!==null&&l.find(x=>parseInt(x)===(t==null?void 0:t.imei))&&Q.error(`${t==null?void 0:t.msg} ${t==null?void 0:t.imei}`,{id:"speed",autoClose:5e3})})},[M]);const a=async()=>{let t=[],d=[];(await s(le({w_customer_id:i}))).payload.map(j=>{var m,B;t.push({id:j.id,label:j.registration_id,value:(m=j.imei[0])==null?void 0:m.mac_id}),d.push((B=j.imei[0])==null?void 0:B.mac_id)}),c(d);const x="one",y=d;d.length>0&&(s(ae({type:x,imei:y})),s(re(y))),s(Ae({w_customer_id:i})),s(ce({}))},g={padding:" 20px",background:"#fefefe",border:"1px solid #E8E8E8",margin:"20px",borderRadius:"10px"};return e.jsxs("div",{className:"app",children:[e.jsx(xe,{}),e.jsxs("main",{className:"content",style:{width:"100%",background:"#dad6d626"},children:[e.jsx(Ve,{title:"Dashboard"}),e.jsxs("div",{style:g,children:[e.jsx(Ke,{imeiNo:l}),e.jsxs(r,{sx:{display:"flex",gap:"20px"},children:[e.jsxs(r,{children:[e.jsx(w,{style:{color:"#0C0C0C",lineHeight:"18.28px",fontSize:"25px",fontWeight:"500",margin:"20px",fontFamily:"ubuntu"},children:"Vehicle List"}),e.jsx(Oe,{width:"100%"})]}),e.jsxs(r,{width:"70%",children:[e.jsx(w,{style:{color:"#0C0C0C",lineHeight:"18.38px",fontSize:"25px",fontWeight:"500",margin:"20px",fontFamily:"ubuntu"},children:"Last Location"}),e.jsx(Ze,{})]})]}),e.jsx(Pe,{})]})]})]})}export{gt as default};
