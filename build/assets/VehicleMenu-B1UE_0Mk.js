import{a as b,r as B,u as G,j as t,O as X,t as l,_ as m,s as N,P as V,R as Y}from"./index-CGrmQS83.js";import{d as T,t as H}from"./Search-Dl2wE8I5.js";import{B as n,C as J}from"./CircularProgress-Bxv6Btru.js";import{F as O,I,O as U,a as L}from"./OutlinedInput-DcPA-z1d.js";import{I as M}from"./IconButton-B-vKMJ1H.js";const W="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAYCAYAAACbU/80AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAPLSURBVHgBrVZBThtZEK36bUxmZjE9J0iPBJ7ZhZxgjDTC3gEnwF4OJAKfAHMCEw3gJc4J8OwMs4hzgpgdCUTp3KAjRUqw1b/y6uN2Oo7dJA4ltbp//99V7/+q96qJ7siCYsNfKP9bpO+03LSJwsrRCTEtqe+xqVBwkZVzy9yNzXUv7NTCufn5EyJ5SncFAPaOhCJjpGot486RteJj7OukZQo8pl3P5nX4kAH0VWerRXcFoP/z9c7ch3uNi85ma9qaP0oHERGv/VluBlaEZjEzbSL3/t4Si31LGcbstS3RA/oBmwpAjxqbCinDLjr/hIyzj2Prs0gm2O8GgIJa8jwb0u32nJkDmtGmFyEYYMXbXSwddVHxTwdev6vV/tU64UjB0ozG4y8QsMEkFUz5Y1OhJfvk6vTRfvplYeWwjmLYHaKJRDiE14jBIIzPY+JeQtVMAAulgx1DZhvUe44PkVuJGPQTpZ2YNWH6S9eh2utXZ1t7kwFkGvRDugPu76XBuBoI1hq+ERPaOK4i0H11KGQa1vAx7tuW5Y3leFmdGOb6LIqnYZi4Mhfnd9IvHYCwXYuEZdV43jMcSXHSh0a8Y4CoYtxj1AbNaGx4NT12RXiTd6qMFiENKrdIgy/EyvPAAbHmxJp4XcEExaa+IxFQkKcHFMtPmG2UjHGa0ReAFv5uFo0nz4bLI8NmHfzuJguGKtfA45pbQdTV4sKpbFO2hYyi1RTSWD9BLbQG1/1a2K1FXFg5aOFcNtwES/Vyip4XSkcvcHN0g+Oa1khWdPXFwsejnZK8BfhfE3ZB5HqD/vWyQcElOQkvM5oJgo46HajmU1Zw4haCJ3Wihbv88nQreHW69Ruku+b8QWfy+RyYN0R0m5TGsdejbzVr39Hw2PsInk7p1enmPhDebIa9DaN5d6iZ72f5TNqw8z9WSG4eNMVOf3eXgRipT5EoRL+Y4K49vAcGuUx2FmTym1UdbyzH0tNdsBMtFyr6SLlQm5NrUPYzQP1TGncFYH4CMEeM3AoX3S6UXuXG8rhsLqw0kU8Z1cpF53GXHBsm28df+u38h/ljNCk/l88rC/bSgKAFrj5w/OeOwYulJgRIiiOEoIkB1fTZkllNi1MstP76bLNNt9hi6XA/oar6s8L/Gd058zbf/OpBI+ShEyL8WlWtkGpBoGNVPhm2ibTGoBnVXp89ujW42uCnfh2noP1jSf0hRoXSisXx3uX/j3tfaFihjMYivEFjwqG5xrHV09X8rbZYPqyAkqr/D7RW8Hye9jVRRKF+Rew3GP6M9i4mV/Kd2Ce4sbtQvjtOkAAAAABJRU5ErkJggg==",_=({vehicleData:i,title:d,setParameterData:x})=>{const{selectedVehicle:c,locationData:h,loading:j}=b(e=>e.liveMap),{mode:y}=b(e=>e.dashboard),a=H(y),[w,f]=B.useState("");let s=G();const A=i.length>0&&i.filter(e=>e.label.toLowerCase().includes(w.toLowerCase())),C=async e=>{var p;if(h.length<=0)return m.error("Data not available for this vehicle",{id:"clipboard"});const o=h.filter(r=>r.latestDocument.imei===e.value);if(o.length<=0)return m.error("Data not available for this vehicle",{id:"clipboard"});const{lat:R,lng:S}=o[0].latestDocument;s(N({lat:R,lng:S})),s(V({imei:e.value,reg_id:e.label}));const k=e.label,F=await s(Y({w_registration_id:k})),g=[];let P=0;(p=F.payload)==null||p.map(r=>{r[r.parameter_type.toLowerCase()+"_parameter"].forEach(u=>{g.push({reg_id:e.label,imei:e.value,id:u.id,_id:r.id,key:P++,label:r.parameter_type==="Telematic"&&u.short_name})})}),d==="Live Map"&&x(g)},v=e=>{f(e.target.value)},E={backgroundColor:a.grey[100],position:"relative",width:"100%",float:"right",height:d?"90vh":"95vh"};return t.jsx(t.Fragment,{children:t.jsx("div",{style:E,children:j?t.jsx(n,{sx:{display:"flex",justifyContent:"center",marginTop:"50%"},children:t.jsx(J,{})}):t.jsxs(t.Fragment,{children:[t.jsx(n,{sx:{align:"center",my:"15px",ml:"20px"},children:t.jsxs(O,{sx:{width:"90%",backgroundColor:a.grey[500],borderRadius:"5px"},variant:"outlined",children:[t.jsx(I,{htmlFor:"outlined-adornment-password",style:{marginTop:"-8px",color:a.grey[400]},children:"Search"}),t.jsx(U,{onChange:e=>v(e),inputProps:{style:{padding:7,color:a.grey[400]}},id:"outlined-adornment-password",type:"text",endAdornment:t.jsx(L,{position:"end",children:t.jsx(M,{"aria-label":"toggle password visibility",edge:"end",children:t.jsx(T,{style:{color:a.grey[400]}})})}),label:"Search"})]})}),A.length>0&&A.map((e,o)=>t.jsx(n,{sx:{align:"center",my:"8px",ml:"20px"},children:t.jsx(X,{variant:"outlined",onClick:()=>{C(e)},sx:{width:"90%",bgcolor:e.label===c.reg_id?l.bgColor:"undefined",color:e.label===c.reg_id?"white":a.grey[400],border:`1px solid ${l.bgColor}`,"&:hover":{color:"black",border:"1px solid black",bgcolor:l.bgShadow}},children:e.label})},o))]})})})};export{_ as V,W as j};
