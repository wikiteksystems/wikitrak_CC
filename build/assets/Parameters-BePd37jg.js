import{r as x,a as B,g as D,s as E,ap as u,_ as z,ar as F,aq as I,as as U,u as O,b as S,j as s,e as W,f as V,m as L,l as q,w as J,p as G,I as K,B as Q,t as j,T as X}from"./index-BGfvYRXr.js";import{d as Y,t as Z}from"./LeftSideBar2-gG5286Kd.js";import{B as M,F as ee,a as ae,O as te,b as oe}from"./menu2-B1-qv907.js";const se=x.createContext(),ie=se,re=x.createContext(),le=re;function ne(e){return D("MuiTableCell",e)}const de=B("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),ce=de,pe=["align","className","component","padding","scope","size","sortDirection","variant"],ge=e=>{const{classes:a,variant:i,align:n,padding:d,size:_,stickyHeader:h}=e,b={root:["root",i,h&&"stickyHeader",n!=="inherit"&&`align${u(n)}`,d!=="normal"&&`padding${u(d)}`,`size${u(_)}`]};return V(b,ne,a)},xe=E("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:i}=e;return[a.root,a[i.variant],a[`size${u(i.size)}`],i.padding!=="normal"&&a[`padding${u(i.padding)}`],i.align!=="inherit"&&a[`align${u(i.align)}`],i.stickyHeader&&a.stickyHeader]}})(({theme:e,ownerState:a})=>z({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${e.palette.mode==="light"?F(I(e.palette.divider,1),.88):U(I(e.palette.divider,1),.68)}`,textAlign:"left",padding:16},a.variant==="head"&&{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},a.variant==="body"&&{color:(e.vars||e).palette.text.primary},a.variant==="footer"&&{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},a.size==="small"&&{padding:"6px 16px",[`&.${ce.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},a.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},a.padding==="none"&&{padding:0},a.align==="left"&&{textAlign:"left"},a.align==="center"&&{textAlign:"center"},a.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},a.align==="justify"&&{textAlign:"justify"},a.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default})),he=x.forwardRef(function(a,i){const n=O({props:a,name:"MuiTableCell"}),{align:d="inherit",className:_,component:h,padding:b,scope:m,size:k,sortDirection:c,variant:y}=n,T=S(n,pe),l=x.useContext(ie),t=x.useContext(le),C=t&&t.variant==="head";let p;h?p=h:p=C?"th":"td";let g=m;p==="td"?g=void 0:!g&&C&&(g="col");const f=y||t&&t.variant,v=z({},n,{align:d,component:p,padding:b||(l&&l.padding?l.padding:"normal"),size:k||(l&&l.size?l.size:"medium"),sortDirection:c,stickyHeader:f==="head"&&l&&l.stickyHeader,variant:f}),o=ge(v);let r=null;return c&&(r=c==="asc"?"ascending":"descending"),s.jsx(xe,z({as:p,ref:i,className:W(o.root,_),"aria-sort":r,scope:g,ownerState:v},T))}),Ce=he,ve=({handleParameterChange:e,parametersData:a,setParameterData:i})=>{const{selectedParameterList:n,selectedVehicle:d,loading:_}=L(t=>t.liveMap),{mode:h}=L(t=>t.dashboard),[b,m]=x.useState(""),k=q(),c=Z(h);x.useEffect(()=>{Object.keys(d).length>0?l(d.reg_id):J.error("Please select a vehicle",{id:"clipboard"})},[]);const y=a&&a.length>0&&a.filter(t=>t.label.toLowerCase().includes(b.toLowerCase())),T=t=>{m(t.target.value)},l=async t=>{var v;const p=await k(G({w_registration_id:t})),g=[];let f=0;(v=p.payload)==null||v.map(o=>{o[o.parameter_type.toLowerCase()+"_parameter"].forEach(r=>{var $,H,w,A,R;const P=o.parameter_type==="Telematic"?r.short_name:o.parameter_type==="IVN"?r.pid_description:r.spn;g.push({reg_id:d.reg_id,imei:d.imei,id:r.id,_id:o.id,key:f++,label:P,param_type:o.parameter_type,param_header:($=r==null?void 0:r.header)==null?void 0:$.device_header,unit:r==null?void 0:r.unit,param_id:o.id,vehicle_reg:(H=o==null?void 0:o.vehicle)==null?void 0:H.vin,param_group_id:(w=o.parameter_group[0])==null?void 0:w.id,param_group_name:(A=o.parameter_group[0])==null?void 0:A.group_name,param_group_color:(R=o.parameter_group[0])==null?void 0:R.color,checked:n[0].params.length>0&&n[0].params.some(N=>N.label===P)})})}),i(g)};return s.jsx(s.Fragment,{children:s.jsxs("div",{style:{backgroundColor:c.grey[100],position:"relative",height:"95vh"},children:[s.jsx(M,{sx:{align:"center",my:"15px",ml:"20px"},children:s.jsxs(ee,{sx:{width:"90%",backgroundColor:c.grey[500]},variant:"outlined",children:[s.jsx(ae,{htmlFor:"outlined-adornment-password",style:{marginTop:"-9px",color:c.grey[400]},children:"Search"}),s.jsx(te,{onChange:T,inputProps:{style:{padding:7}},id:"outlined-adornment-password",type:"text",endAdornment:s.jsx(oe,{position:"end",children:s.jsx(K,{"aria-label":"toggle password visibility",edge:"end",children:s.jsx(Y,{})})}),label:"Search"})]})}),y&&y.length>0?y.map((t,C)=>s.jsx(M,{sx:{align:"center",my:"6px",ml:"20px"},children:s.jsx(Q,{variant:"outlined",sx:{width:"90%",bgcolor:t.checked?j.bgColor:"undefined",color:c.grey[400],border:`1px solid ${j.bgColor}`,fontSize:"12px","&:hover":{color:"black",border:"1px solid black",bgcolor:j.bgShadow}},onClick:p=>{e(t)},children:t.label})},C)):s.jsx("div",{children:s.jsx(X,{sx:{width:"100%",textAlign:"center",mt:"100px"},children:"No Parameters Added"})})]})})};export{ve as P,Ce as T,le as a,ie as b};
