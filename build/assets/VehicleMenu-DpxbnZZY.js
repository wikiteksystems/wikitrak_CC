import{a as b,r as G,u as X,j as t,O as N,t as l,_ as m,s as V,P as Y,R as T}from"./index-BuN35QWy.js";import{d as H}from"./Search-DrAcX6ST.js";import{F as J,I as O,O as I,a as U,t as L}from"./theme-D2Jrx85N.js";import{B as n,C as M}from"./CircularProgress-DLOpGOVd.js";import{I as Z}from"./IconButton-Cin2vqCK.js";const _="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAYCAYAAACbU/80AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAPLSURBVHgBrVZBThtZEK36bUxmZjE9J0iPBJ7ZhZxgjDTC3gEnwF4OJAKfAHMCEw3gJc4J8OwMs4hzgpgdCUTp3KAjRUqw1b/y6uN2Oo7dJA4ltbp//99V7/+q96qJ7siCYsNfKP9bpO+03LSJwsrRCTEtqe+xqVBwkZVzy9yNzXUv7NTCufn5EyJ5SncFAPaOhCJjpGot486RteJj7OukZQo8pl3P5nX4kAH0VWerRXcFoP/z9c7ch3uNi85ma9qaP0oHERGv/VluBlaEZjEzbSL3/t4Si31LGcbstS3RA/oBmwpAjxqbCinDLjr/hIyzj2Prs0gm2O8GgIJa8jwb0u32nJkDmtGmFyEYYMXbXSwddVHxTwdev6vV/tU64UjB0ozG4y8QsMEkFUz5Y1OhJfvk6vTRfvplYeWwjmLYHaKJRDiE14jBIIzPY+JeQtVMAAulgx1DZhvUe44PkVuJGPQTpZ2YNWH6S9eh2utXZ1t7kwFkGvRDugPu76XBuBoI1hq+ERPaOK4i0H11KGQa1vAx7tuW5Y3leFmdGOb6LIqnYZi4Mhfnd9IvHYCwXYuEZdV43jMcSXHSh0a8Y4CoYtxj1AbNaGx4NT12RXiTd6qMFiENKrdIgy/EyvPAAbHmxJp4XcEExaa+IxFQkKcHFMtPmG2UjHGa0ReAFv5uFo0nz4bLI8NmHfzuJguGKtfA45pbQdTV4sKpbFO2hYyi1RTSWD9BLbQG1/1a2K1FXFg5aOFcNtwES/Vyip4XSkcvcHN0g+Oa1khWdPXFwsejnZK8BfhfE3ZB5HqD/vWyQcElOQkvM5oJgo46HajmU1Zw4haCJ3Wihbv88nQreHW69Ruku+b8QWfy+RyYN0R0m5TGsdejbzVr39Hw2PsInk7p1enmPhDebIa9DaN5d6iZ72f5TNqw8z9WSG4eNMVOf3eXgRipT5EoRL+Y4K49vAcGuUx2FmTym1UdbyzH0tNdsBMtFyr6SLlQm5NrUPYzQP1TGncFYH4CMEeM3AoX3S6UXuXG8rhsLqw0kU8Z1cpF53GXHBsm28df+u38h/ljNCk/l88rC/bSgKAFrj5w/OeOwYulJgRIiiOEoIkB1fTZkllNi1MstP76bLNNt9hi6XA/oar6s8L/Gd058zbf/OpBI+ShEyL8WlWtkGpBoGNVPhm2ibTGoBnVXp89ujW42uCnfh2noP1jSf0hRoXSisXx3uX/j3tfaFihjMYivEFjwqG5xrHV09X8rbZYPqyAkqr/D7RW8Hye9jVRRKF+Rew3GP6M9i4mV/Kd2Ce4sbtQvjtOkAAAAABJRU5ErkJggg==",$=({vehicleData:i,title:d,setParameterData:x})=>{const{selectedVehicle:c,locationData:h,loading:j}=b(e=>e.liveMap),{mode:y}=b(e=>e.dashboard),r=L(y),[w,f]=G.useState("");let s=X();const g=i.length>0&&i.filter(e=>e.label.toLowerCase().includes(w.toLowerCase())),C=async e=>{var p;if(h.length<=0)return m.error("Data not available for this vehicle",{id:"clipboard"});const o=h.filter(a=>a.latestDocument.imei===e.value);if(o.length<=0)return m.error("Data not available for this vehicle",{id:"clipboard"});const{lat:R,lng:k}=o[0].latestDocument;s(V({lat:R,lng:k})),s(Y({imei:e.value,reg_id:e.label}));const F=e.label,P=await s(T({w_registration_id:F})),A=[];let B=0;(p=P.payload)==null||p.map(a=>{a[a.parameter_type.toLowerCase()+"_parameter"].forEach(u=>{A.push({reg_id:e.label,imei:e.value,id:u.id,_id:a.id,key:B++,label:a.parameter_type==="Telematic"&&u.short_name})})}),d==="Live Map"&&x(A)},v=e=>{f(e.target.value)},E={backgroundColor:r.grey[100],position:"relative",width:"100%",float:"right",height:"95vh"},S={backgroundColor:r.grey[100],position:"relative",width:"100%",float:"right",height:"90vh"};return t.jsx(t.Fragment,{children:t.jsx("div",{style:d?S:E,children:j?t.jsx(n,{sx:{display:"flex",justifyContent:"center",marginTop:"50%"},children:t.jsx(M,{})}):t.jsxs(t.Fragment,{children:[t.jsx(n,{sx:{align:"center",my:"15px",ml:"20px"},children:t.jsxs(J,{sx:{width:"90%",backgroundColor:r.grey[500],borderRadius:"5px"},variant:"outlined",children:[t.jsx(O,{htmlFor:"outlined-adornment-password",style:{marginTop:"-8px",color:r.grey[400]},children:"Search"}),t.jsx(I,{onChange:e=>v(e),inputProps:{style:{padding:7,color:r.grey[400]}},id:"outlined-adornment-password",type:"text",endAdornment:t.jsx(U,{position:"end",children:t.jsx(Z,{"aria-label":"toggle password visibility",edge:"end",children:t.jsx(H,{style:{color:r.grey[400]}})})}),label:"Search"})]})}),g.length>0&&g.map((e,o)=>t.jsx(n,{sx:{align:"center",my:"8px",ml:"20px"},children:t.jsx(N,{variant:"outlined",onClick:()=>{C(e)},sx:{width:"90%",bgcolor:e.label===c.reg_id?l.bgColor:"undefined",color:e.label===c.reg_id?"white":r.grey[400],border:`1px solid ${l.bgColor}`,"&:hover":{color:"black",border:"1px solid black",bgcolor:l.bgShadow}},children:e.label})},o))]})})})};export{$ as V,_ as j};
