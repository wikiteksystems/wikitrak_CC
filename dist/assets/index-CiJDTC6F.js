import{v as b,w as o,e as i,j as s,bP as T,bQ as R,bR as k,bS as v,bT as g,bU as t,bV as y,V as D,cK as _,d5 as A,a4 as B,Z as E,B as x,G as I}from"./index-Diq4l7Dq.js";import"./DateTimePicker-BLcbwdi-.js";import"./InspectionsTable-BQKdtZrv.js";import"./ServiceRecordTable-CclOj0Tb.js";import"./Loader-CFovNNvA.js";import{S as V}from"./ServicesTopBar-CJnfgXXg.js";import{A as U}from"./AddBreakdown-CSJQyhcF.js";import"./BarChart-AWao4Umf.js";import"./DialogContentText-CkD1EcLh.js";import"./Edit-DxPNcG24.js";import"./index.esm-CF2jjTSD.js";import"./formik.esm-BYLq67Ll.js";import"./TextField-qTbTcyyL.js";import"./Autocomplete-DEa_thwn.js";import"./excelUtils-KMgkXs86.js";import"./Card-BgTbyo_l.js";import"./CardContent-B_YmKDp8.js";import"./Add-BJSGBWLe.js";import"./useMediaQuery-BOJoKXzD.js";const H=()=>{const d=b(),{ticketList:r}=o(e=>e.rsaReport),{searchTerm:n}=o(e=>e.inspection),[h,m]=i.useState([]),[c,l]=i.useState(0),[a,f]=i.useState(12),C=async()=>{try{d(A())}catch(e){console.log("error",e)}};i.useEffect(()=>{C()},[]),i.useEffect(()=>{},[r]);const P=(e,p)=>{l(p)},S=e=>{f(parseInt(e.target.value,10)),l(0)},L=r.filter(e=>e.ticket_id.toLowerCase().includes(n.toLowerCase())||e.status.toLowerCase().includes(n.toLowerCase())||e.vehicle.toLowerCase().includes(n.toLowerCase())||e.user.first_name.toLowerCase().includes(n.toLowerCase())||e.user.last_name.toLowerCase().includes(n.toLowerCase()));return s.jsxs(T,{component:R,children:[s.jsxs(k,{children:[s.jsx(v,{children:s.jsxs(g,{children:[s.jsx(t,{children:"Sr no"}),s.jsx(t,{children:"Req ID"}),s.jsx(t,{children:"User"}),s.jsx(t,{children:"Created Date"}),s.jsx(t,{children:"Vehicle"}),s.jsx(t,{children:"Current Status"})]})}),s.jsx(y,{children:L.slice(c*a,c*a+a).map((e,p)=>{var u,j;return s.jsxs(g,{children:[s.jsx(t,{children:c*a+p+1}),s.jsx(t,{children:e==null?void 0:e.ticket_id}),s.jsx(t,{children:((u=e==null?void 0:e.user)==null?void 0:u.first_name)+" "+((j=e==null?void 0:e.user)==null?void 0:j.last_name)}),s.jsx(t,{children:D(new Date(e==null?void 0:e.created)).format("DD-MM-YYY HH:mm")}),s.jsx(t,{children:e==null?void 0:e.vehicle}),s.jsx(t,{children:e==null?void 0:e.status})]},e==null?void 0:e.id)})})]}),s.jsx(_,{rowsPerPageOptions:[12],component:"div",count:h.length,rowsPerPage:a,page:c,onPageChange:P,onRowsPerPageChange:S})]})},ae=()=>{o(a=>a.dashboard);const{w_customer_id:d}=o(a=>a.auth);let r=b();i.useState(!1);const[n,h]=i.useState(!1),[m,c]=i.useState(!1);i.useState([]),i.useEffect(()=>{l()},[]);const l=async()=>{try{const a=await r(B({w_customer_id:d}))}catch{}};return s.jsxs("div",{className:"app",children:[s.jsx(E,{}),s.jsxs("main",{className:"content",style:{width:"100%",background:"#dad6d626"},children:[s.jsx(V,{title:"Rsa Reports"}),s.jsx(x,{style:{display:"flex",width:"100%",height:"95vh"},children:s.jsxs(x,{style:{width:"100%",background:I.bgShadow},children:[s.jsx(U,{where:"RSA",isAdd:n,isUpdate:m,setIsAdd:h,setIsUpdate:c}),s.jsx(x,{sx:{m:"10px"},children:s.jsx(H,{})})]})})]})]})};export{ae as default};
