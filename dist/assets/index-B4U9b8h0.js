import{o as L,p as r,r as a,j as s,cu as R,aQ as T,cv as D,cw as v,cx as b,cy as t,cz as y,S as k,dq as A,fs as _,a3 as B,Y as I,B as j,A as V}from"./index-CHz_ICGe.js";import"./DateTimePicker-D7BFdRdf.js";import"./index.esm-DuXd6zM4.js";import{S as E}from"./ServicesTopBar-vIc4h4LV.js";import{A as Y}from"./AddBreakdown-00Ngf4s7.js";import"./Add-CM8odcWN.js";import"./formik.esm-i3Oa_qZs.js";import"./Autocomplete-CCkxwt18.js";import"./Remove-DeUTOtah.js";import"./useMediaQuery-DnDGpdzu.js";const H=()=>{const m=L(),{ticketList:d}=r(e=>e.rsaReport),{searchTerm:i}=r(e=>e.inspection),[o,g]=a.useState([]),[l,h]=a.useState(0),[n,u]=a.useState(12),x=async()=>{try{m(_())}catch(e){console.log("error",e)}};a.useEffect(()=>{x()},[]),a.useEffect(()=>{},[d]);const p=(e,c)=>{h(c)},f=e=>{u(parseInt(e.target.value,10)),h(0)},C=d.filter(e=>e.ticket_id.toLowerCase().includes(i.toLowerCase())||e.status.toLowerCase().includes(i.toLowerCase())||e.vehicle.toLowerCase().includes(i.toLowerCase())||e.user.first_name.toLowerCase().includes(i.toLowerCase())||e.user.last_name.toLowerCase().includes(i.toLowerCase()));return s.jsxs(R,{component:T,children:[s.jsxs(D,{children:[s.jsx(v,{children:s.jsxs(b,{children:[s.jsx(t,{children:"Sr no"}),s.jsx(t,{children:"Req ID"}),s.jsx(t,{children:"User"}),s.jsx(t,{children:"Created Date"}),s.jsx(t,{children:"Vehicle"}),s.jsx(t,{children:"Current Status"})]})}),s.jsx(y,{children:C.slice(l*n,l*n+n).map((e,c)=>{var S,P;return s.jsxs(b,{children:[s.jsx(t,{children:l*n+c+1}),s.jsx(t,{children:e==null?void 0:e.ticket_id}),s.jsx(t,{children:((S=e==null?void 0:e.user)==null?void 0:S.first_name)+" "+((P=e==null?void 0:e.user)==null?void 0:P.last_name)}),s.jsx(t,{children:k(new Date(e==null?void 0:e.created)).format("DD-MM-YYY HH:mm")}),s.jsx(t,{children:e==null?void 0:e.vehicle}),s.jsx(t,{children:e==null?void 0:e.status})]},e==null?void 0:e.id)})})]}),s.jsx(A,{rowsPerPageOptions:[12],component:"div",count:o.length,rowsPerPage:n,page:l,onPageChange:p,onRowsPerPageChange:f})]})},K=()=>{const{mode:m,showVehicles:d,selectedVehicleGroup:i}=r(c=>c.dashboard),{w_customer_id:o}=r(c=>c.auth);let g=L();const[l,h]=a.useState(!1),[n,u]=a.useState(!1),[x,p]=a.useState(!1),[f,C]=a.useState([]);a.useEffect(()=>{e()},[]);const e=async()=>{try{const c=await g(B({w_customer_id:o}))}catch{}};return s.jsxs("div",{className:"app",children:[s.jsx(I,{}),s.jsxs("main",{className:"content",style:{width:"100%",background:"#dad6d626"},children:[s.jsx(E,{title:"Rsa Reports"}),s.jsx(j,{style:{display:"flex",width:"100%",height:"95vh"},children:s.jsxs(j,{style:{width:"100%",background:V.bgShadow},children:[s.jsx(Y,{where:"RSA",isAdd:n,isUpdate:x,setIsAdd:u,setIsUpdate:p}),s.jsx(j,{sx:{m:"10px"},children:s.jsx(H,{})})]})})]})]})};export{K as default};
