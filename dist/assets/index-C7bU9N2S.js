import{l as qt,o as Vt,bR as Oe,p as be,t as se,_ as X,bS as Ie,b as a,q as Ut,f as Gt,j as l,g as Xt,k as Kt,aL as Jt,aM as Qt,R as N,x as ye,y as Z,D as Zt,F as ie,T as Yt,av as en,aw as tn,cq as nn,a8 as on,B as Ce,ab as de,cr as an,$ as rn}from"./index-B5aO5-3M.js";import{A as ct,f as ce,ao as ln,k as sn,b as V,e as G,q as cn,a as Ee,C as dt,ap as dn,aq as Ae,K as Le,ar as un,af as fn,D as mn,a7 as Pe,as as ut,at as gn,x as ft,au as pn,r as xn,y as W,G as hn,I as Cn,v as vn,z as we,J as mt,a9 as bn,aa as yn,av as wn,al as Sn,F as ve,aw as jn,N as $n,ah as On,ax as gt,aj as In,ay as En,az as Pn,aA as _n,P as Nn,Q as Tn,S as Rn,L as Dn}from"./LeftSideBar2-BCsHrNIj.js";import{d as pt,t as Se}from"./Search-CSqd9aEB.js";import{B as R,C as Bn}from"./CircularProgress-CjHKMZJO.js";import{I as _e}from"./IconButton-D-UN0Mj3.js";import{c as zn,F as xt,b as ht,O as Ct}from"./OutlinedInput-Pp-d-9jE.js";import{I as vt}from"./InputAdornment-UiuQ1oI1.js";import{C as Mn,I as He,d as kn}from"./InfoOutlined-BWM0Rm4m.js";import{S as pe}from"./index-C8gbcsXF.js";import{r as Fn}from"./createSvgIcon-DsBawmhq.js";import{T as An,a as Ln,b as Hn,c as We,d as ne,e as Wn}from"./TableRow-D_IWnEIg.js";import{B as Ne,c as bt,u as qn,r as Vn}from"./button-h-4JHXPz.js";import{C as Te}from"./SearchOutlined-Box3-iLp.js";import{p as Re,w as Un}from"./useIcons-D6XAWE7P.js";import{i as Gn}from"./TextArea-CPSt_V00.js";import"./menu2-gypHyKoT.js";import"./Paper-DoBoVvcV.js";import"./Tooltip-Bl0hPFn3.js";function Xn(e){return qt("MuiLinearProgress",e)}Vt("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const Kn=["className","color","value","valueBuffer","variant"];let ge=e=>e,qe,Ve,Ue,Ge,Xe,Ke;const je=4,Jn=Oe(qe||(qe=ge`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),Qn=Oe(Ve||(Ve=ge`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),Zn=Oe(Ue||(Ue=ge`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),Yn=e=>{const{classes:t,variant:n,color:o}=e,r={root:["root",`color${se(o)}`,n],dashed:["dashed",`dashedColor${se(o)}`],bar1:["bar",`barColor${se(o)}`,(n==="indeterminate"||n==="query")&&"bar1Indeterminate",n==="determinate"&&"bar1Determinate",n==="buffer"&&"bar1Buffer"],bar2:["bar",n!=="buffer"&&`barColor${se(o)}`,n==="buffer"&&`color${se(o)}`,(n==="indeterminate"||n==="query")&&"bar2Indeterminate",n==="buffer"&&"bar2Buffer"]};return Kt(r,Xn,t)},De=(e,t)=>t==="inherit"?"currentColor":e.vars?e.vars.palette.LinearProgress[`${t}Bg`]:e.palette.mode==="light"?Jt(e.palette[t].main,.62):Qt(e.palette[t].main,.5),eo=be("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`color${se(n.color)}`],t[n.variant]]}})(({ownerState:e,theme:t})=>X({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:De(t,e.color)},e.color==="inherit"&&e.variant!=="buffer"&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},e.variant==="buffer"&&{backgroundColor:"transparent"},e.variant==="query"&&{transform:"rotate(180deg)"})),to=be("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.dashed,t[`dashedColor${se(n.color)}`]]}})(({ownerState:e,theme:t})=>{const n=De(t,e.color);return X({position:"absolute",marginTop:0,height:"100%",width:"100%"},e.color==="inherit"&&{opacity:.3},{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},Ie(Ge||(Ge=ge`
    animation: ${0} 3s infinite linear;
  `),Zn)),no=be("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t[`barColor${se(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&t.bar1Indeterminate,n.variant==="determinate"&&t.bar1Determinate,n.variant==="buffer"&&t.bar1Buffer]}})(({ownerState:e,theme:t})=>X({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:e.color==="inherit"?"currentColor":(t.vars||t).palette[e.color].main},e.variant==="determinate"&&{transition:`transform .${je}s linear`},e.variant==="buffer"&&{zIndex:1,transition:`transform .${je}s linear`}),({ownerState:e})=>(e.variant==="indeterminate"||e.variant==="query")&&Ie(Xe||(Xe=ge`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),Jn)),oo=be("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t[`barColor${se(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&t.bar2Indeterminate,n.variant==="buffer"&&t.bar2Buffer]}})(({ownerState:e,theme:t})=>X({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},e.variant!=="buffer"&&{backgroundColor:e.color==="inherit"?"currentColor":(t.vars||t).palette[e.color].main},e.color==="inherit"&&{opacity:.3},e.variant==="buffer"&&{backgroundColor:De(t,e.color),transition:`transform .${je}s linear`}),({ownerState:e})=>(e.variant==="indeterminate"||e.variant==="query")&&Ie(Ke||(Ke=ge`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),Qn)),ao=a.forwardRef(function(t,n){const o=Ut({props:t,name:"MuiLinearProgress"}),{className:r,color:s="primary",value:u,valueBuffer:f,variant:d="indeterminate"}=o,m=Gt(o,Kn),c=X({},o,{color:s,variant:d}),i=Yn(c),v=zn(),p={},w={bar1:{},bar2:{}};if((d==="determinate"||d==="buffer")&&u!==void 0){p["aria-valuenow"]=Math.round(u),p["aria-valuemin"]=0,p["aria-valuemax"]=100;let h=u-100;v&&(h=-h),w.bar1.transform=`translateX(${h}%)`}if(d==="buffer"&&f!==void 0){let h=(f||0)-100;v&&(h=-h),w.bar2.transform=`translateX(${h}%)`}return l.jsxs(eo,X({className:Xt(i.root,r),ownerState:c,role:"progressbar"},p,{ref:n},m,{children:[d==="buffer"?l.jsx(to,{className:i.dashed,ownerState:c}):null,l.jsx(no,{className:i.bar1,ownerState:c,style:w.bar1}),d==="determinate"?null:l.jsx(oo,{className:i.bar2,ownerState:c,style:w.bar2})]}))}),Je=ao;var ro={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"};const lo=ro;var so=function(t,n){return a.createElement(ct,X({},t,{ref:n,icon:lo}))},io=a.forwardRef(so);const co=io;var uo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"};const fo=uo;var mo=function(t,n){return a.createElement(ct,X({},t,{ref:n,icon:fo}))},go=a.forwardRef(mo);const po=go;function xo(){const[e,t]=a.useState([]),n=a.useCallback(o=>(t(r=>[].concat(ce(r),[o])),()=>{t(r=>r.filter(s=>s!==o))}),[]);return[e,n]}function Qe(e){return!!(e&&e.then)}const ho=e=>{const{type:t,children:n,prefixCls:o,buttonProps:r,close:s,autoFocus:u,emitEvent:f,isSilent:d,quitOnNullishReturnValue:m,actionFn:c}=e,i=a.useRef(!1),v=a.useRef(null),[p,w]=ln(!1),h=function(){s==null||s.apply(void 0,arguments)};a.useEffect(()=>{let y=null;return u&&(y=setTimeout(()=>{var _;(_=v.current)===null||_===void 0||_.focus()})),()=>{y&&clearTimeout(y)}},[]);const T=y=>{Qe(y)&&(w(!0),y.then(function(){w(!1,!0),h.apply(void 0,arguments),i.current=!1},_=>{if(w(!1,!0),i.current=!1,!(d!=null&&d()))return Promise.reject(_)}))},S=y=>{if(i.current)return;if(i.current=!0,!c){h();return}let _;if(f){if(_=c(y),m&&!Qe(_)){i.current=!1,h(y);return}}else if(c.length)_=c(s),i.current=!1;else if(_=c(),!_){h();return}T(_)};return a.createElement(Ne,Object.assign({},bt(t),{onClick:S,loading:p,prefixCls:o},r,{ref:v}),n)},yt=ho,xe=N.createContext({}),{Provider:wt}=xe,Co=()=>{const{autoFocusButton:e,cancelButtonProps:t,cancelTextLocale:n,isSilent:o,mergedOkCancel:r,rootPrefixCls:s,close:u,onCancel:f,onConfirm:d}=a.useContext(xe);return r?N.createElement(yt,{isSilent:o,actionFn:f,close:function(){u==null||u.apply(void 0,arguments),d==null||d(!1)},autoFocus:e==="cancel",buttonProps:t,prefixCls:`${s}-btn`},n):null},Ze=Co,vo=()=>{const{autoFocusButton:e,close:t,isSilent:n,okButtonProps:o,rootPrefixCls:r,okTextLocale:s,okType:u,onConfirm:f,onOk:d}=a.useContext(xe);return N.createElement(yt,{isSilent:n,type:u||"primary",actionFn:d,close:function(){t==null||t.apply(void 0,arguments),f==null||f(!0)},autoFocus:e==="ok",buttonProps:o,prefixCls:`${r}-btn`},s)},Ye=vo;var St=a.createContext({});function et(e,t,n){var o=t;return!o&&n&&(o="".concat(e,"-").concat(n)),o}function tt(e,t){var n=e["page".concat(t?"Y":"X","Offset")],o="scroll".concat(t?"Top":"Left");if(typeof n!="number"){var r=e.document;n=r.documentElement[o],typeof n!="number"&&(n=r.body[o])}return n}function bo(e){var t=e.getBoundingClientRect(),n={left:t.left,top:t.top},o=e.ownerDocument,r=o.defaultView||o.parentWindow;return n.left+=tt(r),n.top+=tt(r,!0),n}const yo=a.memo(function(e){var t=e.children;return t},function(e,t){var n=t.shouldUpdate;return!n});var nt={width:0,height:0,overflow:"hidden",outline:"none"},wo={outline:"none"},jt=N.forwardRef(function(e,t){var n=e.prefixCls,o=e.className,r=e.style,s=e.title,u=e.ariaId,f=e.footer,d=e.closable,m=e.closeIcon,c=e.onClose,i=e.children,v=e.bodyStyle,p=e.bodyProps,w=e.modalRender,h=e.onMouseDown,T=e.onMouseUp,S=e.holderRef,y=e.visible,_=e.forceRender,x=e.width,k=e.height,$=e.classNames,D=e.styles,H=N.useContext(St),U=H.panel,Q=sn(S,U),Y=a.useRef(),re=a.useRef(),J=a.useRef();N.useImperativeHandle(t,function(){return{focus:function(){var C;(C=J.current)===null||C===void 0||C.focus()},changeActive:function(C){var j=document,P=j.activeElement;C&&P===re.current?Y.current.focus():!C&&P===Y.current&&re.current.focus()}}});var K={};x!==void 0&&(K.width=x),k!==void 0&&(K.height=k);var ee;f&&(ee=N.createElement("div",{className:V("".concat(n,"-footer"),$==null?void 0:$.footer),style:G({},D==null?void 0:D.footer)},f));var te;s&&(te=N.createElement("div",{className:V("".concat(n,"-header"),$==null?void 0:$.header),style:G({},D==null?void 0:D.header)},N.createElement("div",{className:"".concat(n,"-title"),id:u},s)));var g=a.useMemo(function(){return cn(d)==="object"&&d!==null?d:d?{closeIcon:m??N.createElement("span",{className:"".concat(n,"-close-x")})}:{}},[d,m]),I=Re(g,!0),b;d&&(b=N.createElement("button",X({type:"button",onClick:c,"aria-label":"Close"},I,{className:"".concat(n,"-close")}),g.closeIcon));var E=N.createElement("div",{className:V("".concat(n,"-content"),$==null?void 0:$.content),style:D==null?void 0:D.content},b,te,N.createElement("div",X({className:V("".concat(n,"-body"),$==null?void 0:$.body),style:G(G({},v),D==null?void 0:D.body)},p),i),ee);return N.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":s?u:null,"aria-modal":"true",ref:Q,style:G(G({},r),K),className:V(n,o),onMouseDown:h,onMouseUp:T},N.createElement("div",{tabIndex:0,ref:Y,style:nt,"aria-hidden":"true"}),N.createElement("div",{ref:J,tabIndex:-1,style:wo},N.createElement(yo,{shouldUpdate:y||_},w?w(E):E)),N.createElement("div",{tabIndex:0,ref:re,style:nt,"aria-hidden":"true"}))}),$t=a.forwardRef(function(e,t){var n=e.prefixCls,o=e.title,r=e.style,s=e.className,u=e.visible,f=e.forceRender,d=e.destroyOnClose,m=e.motionName,c=e.ariaId,i=e.onVisibleChanged,v=e.mousePosition,p=a.useRef(),w=a.useState(),h=Ee(w,2),T=h[0],S=h[1],y={};T&&(y.transformOrigin=T);function _(){var x=bo(p.current);S(v?"".concat(v.x-x.left,"px ").concat(v.y-x.top,"px"):"")}return a.createElement(dt,{visible:u,onVisibleChanged:i,onAppearPrepare:_,onEnterPrepare:_,forceRender:f,motionName:m,removeOnLeave:d,ref:p},function(x,k){var $=x.className,D=x.style;return a.createElement(jt,X({},e,{ref:t,title:o,ariaId:c,prefixCls:n,holderRef:k,style:G(G(G({},D),r),y),className:V(s,$)}))})});$t.displayName="Content";function So(e){var t=e.prefixCls,n=e.style,o=e.visible,r=e.maskProps,s=e.motionName,u=e.className;return a.createElement(dt,{key:"mask",visible:o,motionName:s,leavedClassName:"".concat(t,"-mask-hidden")},function(f,d){var m=f.className,c=f.style;return a.createElement("div",X({ref:d,style:G(G({},c),n),className:V("".concat(t,"-mask"),m,u)},r))})}function jo(e){var t=e.prefixCls,n=t===void 0?"rc-dialog":t,o=e.zIndex,r=e.visible,s=r===void 0?!1:r,u=e.keyboard,f=u===void 0?!0:u,d=e.focusTriggerAfterClose,m=d===void 0?!0:d,c=e.wrapStyle,i=e.wrapClassName,v=e.wrapProps,p=e.onClose,w=e.afterOpenChange,h=e.afterClose,T=e.transitionName,S=e.animation,y=e.closable,_=y===void 0?!0:y,x=e.mask,k=x===void 0?!0:x,$=e.maskTransitionName,D=e.maskAnimation,H=e.maskClosable,U=H===void 0?!0:H,Q=e.maskStyle,Y=e.maskProps,re=e.rootClassName,J=e.classNames,K=e.styles,ee=a.useRef(),te=a.useRef(),g=a.useRef(),I=a.useState(s),b=Ee(I,2),E=b[0],O=b[1],C=dn();function j(){Ae(te.current,document.activeElement)||(ee.current=document.activeElement)}function P(){if(!Ae(te.current,document.activeElement)){var L;(L=g.current)===null||L===void 0||L.focus()}}function B(L){if(L)P();else{if(O(!1),k&&ee.current&&m){try{ee.current.focus({preventScroll:!0})}catch{}ee.current=null}E&&(h==null||h())}w==null||w(L)}function A(L){p==null||p(L)}var z=a.useRef(!1),F=a.useRef(),q=function(){clearTimeout(F.current),z.current=!0},oe=function(){F.current=setTimeout(function(){z.current=!1})},le=null;U&&(le=function(me){z.current?z.current=!1:te.current===me.target&&A(me)});function fe(L){if(f&&L.keyCode===Le.ESC){L.stopPropagation(),A(L);return}s&&L.keyCode===Le.TAB&&g.current.changeActive(!L.shiftKey)}return a.useEffect(function(){s&&(O(!0),j())},[s]),a.useEffect(function(){return function(){clearTimeout(F.current)}},[]),a.createElement("div",X({className:V("".concat(n,"-root"),re)},Re(e,{data:!0})),a.createElement(So,{prefixCls:n,visible:k&&s,motionName:et(n,$,D),style:G(G({zIndex:o},Q),K==null?void 0:K.mask),maskProps:Y,className:J==null?void 0:J.mask}),a.createElement("div",X({tabIndex:-1,onKeyDown:fe,className:V("".concat(n,"-wrap"),i,J==null?void 0:J.wrapper),ref:te,onClick:le,style:G(G(G({zIndex:o},c),K==null?void 0:K.wrapper),{},{display:E?null:"none"})},v),a.createElement($t,X({},e,{onMouseDown:q,onMouseUp:oe,ref:g,closable:_,ariaId:C,prefixCls:n,visible:s&&E,onClose:A,onVisibleChanged:B,motionName:et(n,T,S)}))))}var Ot=function(t){var n=t.visible,o=t.getContainer,r=t.forceRender,s=t.destroyOnClose,u=s===void 0?!1:s,f=t.afterClose,d=t.panelRef,m=a.useState(n),c=Ee(m,2),i=c[0],v=c[1],p=a.useMemo(function(){return{panel:d}},[d]);return a.useEffect(function(){n&&v(!0)},[n]),!r&&u&&!i?null:a.createElement(St.Provider,{value:p},a.createElement(un,{open:n||r||i,autoDestroy:!1,getContainer:o,autoLock:n||i},a.createElement(jo,X({},t,{destroyOnClose:u,afterClose:function(){f==null||f(),v(!1)}}))))};Ot.displayName="Dialog";var $o=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n};function Oo(e,t,n){return typeof e=="boolean"?e:typeof e=="object"?!0:t===void 0?!!n:t!==!1&&t!==null}function Io(e){let{closable:t,closeIcon:n,customCloseIconRender:o,defaultCloseIcon:r=N.createElement(Te,null),defaultClosable:s=!1}=e;if(!Oo(t,n,s))return[!1,null];const f=typeof t=="object"?t:{},{closeIcon:d}=f,m=$o(f,["closeIcon"]),c=typeof t=="object"&&d!==void 0?d:typeof n=="boolean"||n===void 0||n===null?r:n,i=Re(m,!0),v=o?o(c):c;return[!0,N.isValidElement(v)?N.cloneElement(v,i):N.createElement("span",Object.assign({},i),v)]}const Eo=()=>fn()&&window.document.documentElement;function ot(){}const Po=a.createContext({add:ot,remove:ot});function _o(e){const t=a.useContext(Po),n=a.useRef();return mn(r=>{if(r){const s=e?r.querySelector(e):r;t.add(s),n.current=s}else t.remove(n.current)})}const No=()=>{const{cancelButtonProps:e,cancelTextLocale:t,onCancel:n}=a.useContext(xe);return N.createElement(Ne,Object.assign({onClick:n},e),t)},at=No,To=()=>{const{confirmLoading:e,okButtonProps:t,okType:n,okTextLocale:o,onOk:r}=a.useContext(xe);return N.createElement(Ne,Object.assign({},bt(n),{loading:e,onClick:r},t),o)},rt=To;function It(e,t){return N.createElement("span",{className:`${e}-close-x`},t||N.createElement(Te,{className:`${e}-close-icon`}))}const Et=e=>{const{okText:t,okType:n="primary",cancelText:o,confirmLoading:r,onOk:s,onCancel:u,okButtonProps:f,cancelButtonProps:d,footer:m}=e,[c]=Pe("Modal",ut()),i=t||(c==null?void 0:c.okText),v=o||(c==null?void 0:c.cancelText),p={confirmLoading:r,okButtonProps:f,cancelButtonProps:d,okTextLocale:i,cancelTextLocale:v,okType:n,onOk:s,onCancel:u},w=N.useMemo(()=>p,ce(Object.values(p)));let h;return typeof m=="function"||typeof m>"u"?(h=N.createElement(N.Fragment,null,N.createElement(at,null),N.createElement(rt,null)),typeof m=="function"&&(h=m(h,{OkBtn:rt,CancelBtn:at})),h=N.createElement(wt,{value:w},h)):h=m,N.createElement(gn,{disabled:!1},h)},Ro=new ft("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),Do=new ft("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),Bo=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{antCls:n}=e,o=`${n}-fade`,r=t?"&":"";return[pn(o,Ro,Do,e.motionDurationMid,t),{[`
        ${r}${o}-enter,
        ${r}${o}-appear
      `]:{opacity:0,animationTimingFunction:"linear"},[`${r}${o}-leave`]:{animationTimingFunction:"linear"}}]};function lt(e){return{position:e,inset:0}}const zo=e=>{const{componentCls:t,antCls:n}=e;return[{[`${t}-root`]:{[`${t}${n}-zoom-enter, ${t}${n}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:e.motionDurationSlow,userSelect:"none"},[`${t}${n}-zoom-leave ${t}-content`]:{pointerEvents:"none"},[`${t}-mask`]:Object.assign(Object.assign({},lt("fixed")),{zIndex:e.zIndexPopupBase,height:"100%",backgroundColor:e.colorBgMask,pointerEvents:"none",[`${t}-hidden`]:{display:"none"}}),[`${t}-wrap`]:Object.assign(Object.assign({},lt("fixed")),{zIndex:e.zIndexPopupBase,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"})}},{[`${t}-root`]:Bo(e)}]},Mo=e=>{const{componentCls:t}=e;return[{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl"},[`${t}-centered`]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[t]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},[`@media (max-width: ${e.screenSMMax}px)`]:{[t]:{maxWidth:"calc(100vw - 16px)",margin:`${W(e.marginXS)} auto`},[`${t}-centered`]:{[t]:{flex:1}}}}},{[t]:Object.assign(Object.assign({},hn(e)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:`calc(100vw - ${W(e.calc(e.margin).mul(2).equal())})`,margin:"0 auto",paddingBottom:e.paddingLG,[`${t}-title`]:{margin:0,color:e.titleColor,fontWeight:e.fontWeightStrong,fontSize:e.titleFontSize,lineHeight:e.titleLineHeight,wordWrap:"break-word"},[`${t}-content`]:{position:"relative",backgroundColor:e.contentBg,backgroundClip:"padding-box",border:0,borderRadius:e.borderRadiusLG,boxShadow:e.boxShadow,pointerEvents:"auto",padding:e.contentPadding},[`${t}-close`]:Object.assign({position:"absolute",top:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),insetInlineEnd:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),zIndex:e.calc(e.zIndexPopupBase).add(10).equal(),padding:0,color:e.modalCloseIconColor,fontWeight:e.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:e.borderRadiusSM,width:e.modalCloseBtnSize,height:e.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:`color ${e.motionDurationMid}, background-color ${e.motionDurationMid}`,"&-x":{display:"flex",fontSize:e.fontSizeLG,fontStyle:"normal",lineHeight:`${W(e.modalCloseBtnSize)}`,justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:hover":{color:e.modalCloseIconHoverColor,backgroundColor:e.colorBgTextHover,textDecoration:"none"},"&:active":{backgroundColor:e.colorBgTextActive}},Cn(e)),[`${t}-header`]:{color:e.colorText,background:e.headerBg,borderRadius:`${W(e.borderRadiusLG)} ${W(e.borderRadiusLG)} 0 0`,marginBottom:e.headerMarginBottom,padding:e.headerPadding,borderBottom:e.headerBorderBottom},[`${t}-body`]:{fontSize:e.fontSize,lineHeight:e.lineHeight,wordWrap:"break-word",padding:e.bodyPadding},[`${t}-footer`]:{textAlign:"end",background:e.footerBg,marginTop:e.footerMarginTop,padding:e.footerPadding,borderTop:e.footerBorderTop,borderRadius:e.footerBorderRadius,[`> ${e.antCls}-btn + ${e.antCls}-btn`]:{marginInlineStart:e.marginXS}},[`${t}-open`]:{overflow:"hidden"}})},{[`${t}-pure-panel`]:{top:"auto",padding:0,display:"flex",flexDirection:"column",[`${t}-content,
          ${t}-body,
          ${t}-confirm-body-wrapper`]:{display:"flex",flexDirection:"column",flex:"auto"},[`${t}-confirm-body`]:{marginBottom:"auto"}}}]},ko=e=>{const{componentCls:t}=e;return{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl",[`${t}-confirm-body`]:{direction:"rtl"}}}}},Pt=e=>{const t=e.padding,n=e.fontSizeHeading5,o=e.lineHeightHeading5;return vn(e,{modalHeaderHeight:e.calc(e.calc(o).mul(n).equal()).add(e.calc(t).mul(2).equal()).equal(),modalFooterBorderColorSplit:e.colorSplit,modalFooterBorderStyle:e.lineType,modalFooterBorderWidth:e.lineWidth,modalCloseIconColor:e.colorIcon,modalCloseIconHoverColor:e.colorIconHover,modalCloseBtnSize:e.controlHeight,modalConfirmIconSize:e.fontHeight,modalTitleHeight:e.calc(e.titleFontSize).mul(e.titleLineHeight).equal()})},_t=e=>({footerBg:"transparent",headerBg:e.colorBgElevated,titleLineHeight:e.lineHeightHeading5,titleFontSize:e.fontSizeHeading5,contentBg:e.colorBgElevated,titleColor:e.colorTextHeading,contentPadding:e.wireframe?0:`${W(e.paddingMD)} ${W(e.paddingContentHorizontalLG)}`,headerPadding:e.wireframe?`${W(e.padding)} ${W(e.paddingLG)}`:0,headerBorderBottom:e.wireframe?`${W(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",headerMarginBottom:e.wireframe?0:e.marginXS,bodyPadding:e.wireframe?e.paddingLG:0,footerPadding:e.wireframe?`${W(e.paddingXS)} ${W(e.padding)}`:0,footerBorderTop:e.wireframe?`${W(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",footerBorderRadius:e.wireframe?`0 0 ${W(e.borderRadiusLG)} ${W(e.borderRadiusLG)}`:0,footerMarginTop:e.wireframe?0:e.marginSM,confirmBodyPadding:e.wireframe?`${W(e.padding*2)} ${W(e.padding*2)} ${W(e.paddingLG)}`:0,confirmIconMarginInlineEnd:e.wireframe?e.margin:e.marginSM,confirmBtnsMarginTop:e.wireframe?e.marginLG:e.marginSM}),Nt=xn("Modal",e=>{const t=Pt(e);return[Mo(t),ko(t),zo(t),Gn(t,"zoom")]},_t,{unitless:{titleLineHeight:!0}});var Fo=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n};let $e;const Ao=e=>{$e={x:e.pageX,y:e.pageY},setTimeout(()=>{$e=null},100)};Eo()&&document.documentElement.addEventListener("click",Ao,!0);const Lo=e=>{var t;const{getPopupContainer:n,getPrefixCls:o,direction:r,modal:s}=a.useContext(we),u=C=>{const{onCancel:j}=e;j==null||j(C)},f=C=>{const{onOk:j}=e;j==null||j(C)},{prefixCls:d,className:m,rootClassName:c,open:i,wrapClassName:v,centered:p,getContainer:w,closeIcon:h,closable:T,focusTriggerAfterClose:S=!0,style:y,visible:_,width:x=520,footer:k,classNames:$,styles:D}=e,H=Fo(e,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","closeIcon","closable","focusTriggerAfterClose","style","visible","width","footer","classNames","styles"]),U=o("modal",d),Q=o(),Y=mt(U),[re,J,K]=Nt(U,Y),ee=V(v,{[`${U}-centered`]:!!p,[`${U}-wrap-rtl`]:r==="rtl"}),te=k!==null&&a.createElement(Et,Object.assign({},e,{onOk:f,onCancel:u})),[g,I]=Io({closable:T,closeIcon:typeof h<"u"?h:s==null?void 0:s.closeIcon,customCloseIconRender:C=>It(U,C),defaultCloseIcon:a.createElement(Te,{className:`${U}-close-icon`}),defaultClosable:!0}),b=_o(`.${U}-content`),[E,O]=bn("Modal",H.zIndex);return re(a.createElement(yn,null,a.createElement(wn,{status:!0,override:!0},a.createElement(Sn.Provider,{value:O},a.createElement(Ot,Object.assign({width:x},H,{zIndex:E,getContainer:w===void 0?n:w,prefixCls:U,rootClassName:V(J,c,K,Y),footer:te,visible:i??_,mousePosition:(t=H.mousePosition)!==null&&t!==void 0?t:$e,onClose:u,closable:g,closeIcon:I,focusTriggerAfterClose:S,transitionName:ve(Q,"zoom",e.transitionName),maskTransitionName:ve(Q,"fade",e.maskTransitionName),className:V(J,m,s==null?void 0:s.className),style:Object.assign(Object.assign({},s==null?void 0:s.style),y),classNames:Object.assign(Object.assign(Object.assign({},s==null?void 0:s.classNames),$),{wrapper:V(ee,$==null?void 0:$.wrapper)}),styles:Object.assign(Object.assign({},s==null?void 0:s.styles),D),panelRef:b}))))))},Tt=Lo,Ho=e=>{const{componentCls:t,titleFontSize:n,titleLineHeight:o,modalConfirmIconSize:r,fontSize:s,lineHeight:u,modalTitleHeight:f,fontHeight:d,confirmBodyPadding:m}=e,c=`${t}-confirm`;return{[c]:{"&-rtl":{direction:"rtl"},[`${e.antCls}-modal-header`]:{display:"none"},[`${c}-body-wrapper`]:Object.assign({},$n()),[`&${t} ${t}-body`]:{padding:m},[`${c}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${e.iconCls}`]:{flex:"none",fontSize:r,marginInlineEnd:e.confirmIconMarginInlineEnd,marginTop:e.calc(e.calc(d).sub(r).equal()).div(2).equal()},[`&-has-title > ${e.iconCls}`]:{marginTop:e.calc(e.calc(f).sub(r).equal()).div(2).equal()}},[`${c}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:e.marginXS,maxWidth:`calc(100% - ${W(e.calc(e.modalConfirmIconSize).add(e.marginSM).equal())})`},[`${c}-title`]:{color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:n,lineHeight:o},[`${c}-content`]:{color:e.colorText,fontSize:s,lineHeight:u},[`${c}-btns`]:{textAlign:"end",marginTop:e.confirmBtnsMarginTop,[`${e.antCls}-btn + ${e.antCls}-btn`]:{marginBottom:0,marginInlineStart:e.marginXS}}},[`${c}-error ${c}-body > ${e.iconCls}`]:{color:e.colorError},[`${c}-warning ${c}-body > ${e.iconCls},
        ${c}-confirm ${c}-body > ${e.iconCls}`]:{color:e.colorWarning},[`${c}-info ${c}-body > ${e.iconCls}`]:{color:e.colorInfo},[`${c}-success ${c}-body > ${e.iconCls}`]:{color:e.colorSuccess}}},Wo=jn(["Modal","confirm"],e=>{const t=Pt(e);return[Ho(t)]},_t,{order:-1e3});var qo=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n};function Rt(e){const{prefixCls:t,icon:n,okText:o,cancelText:r,confirmPrefixCls:s,type:u,okCancel:f,footer:d,locale:m}=e,c=qo(e,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let i=n;if(!n&&n!==null)switch(u){case"info":i=a.createElement(po,null);break;case"success":i=a.createElement(Mn,null);break;case"error":i=a.createElement(On,null);break;default:i=a.createElement(co,null)}const v=f??u==="confirm",p=e.autoFocusButton===null?!1:e.autoFocusButton||"ok",[w]=Pe("Modal"),h=m||w,T=o||(v?h==null?void 0:h.okText:h==null?void 0:h.justOkText),S=r||(h==null?void 0:h.cancelText),y=Object.assign({autoFocusButton:p,cancelTextLocale:S,okTextLocale:T,mergedOkCancel:v},c),_=a.useMemo(()=>y,ce(Object.values(y))),x=a.createElement(a.Fragment,null,a.createElement(Ze,null),a.createElement(Ye,null)),k=e.title!==void 0&&e.title!==null,$=`${s}-body`;return a.createElement("div",{className:`${s}-body-wrapper`},a.createElement("div",{className:V($,{[`${$}-has-title`]:k})},i,a.createElement("div",{className:`${s}-paragraph`},k&&a.createElement("span",{className:`${s}-title`},e.title),a.createElement("div",{className:`${s}-content`},e.content))),d===void 0||typeof d=="function"?a.createElement(wt,{value:_},a.createElement("div",{className:`${s}-btns`},typeof d=="function"?d(x,{OkBtn:Ye,CancelBtn:Ze}):x)):d,a.createElement(Wo,{prefixCls:t}))}const Vo=e=>{const{close:t,zIndex:n,afterClose:o,open:r,keyboard:s,centered:u,getContainer:f,maskStyle:d,direction:m,prefixCls:c,wrapClassName:i,rootPrefixCls:v,bodyStyle:p,closable:w=!1,closeIcon:h,modalRender:T,focusTriggerAfterClose:S,onConfirm:y,styles:_}=e,x=`${c}-confirm`,k=e.width||416,$=e.style||{},D=e.mask===void 0?!0:e.mask,H=e.maskClosable===void 0?!1:e.maskClosable,U=V(x,`${x}-${e.type}`,{[`${x}-rtl`]:m==="rtl"},e.className),[,Q]=In(),Y=a.useMemo(()=>n!==void 0?n:Q.zIndexPopupBase+En,[n,Q]);return a.createElement(Tt,{prefixCls:c,className:U,wrapClassName:V({[`${x}-centered`]:!!e.centered},i),onCancel:()=>{t==null||t({triggerCancel:!0}),y==null||y(!1)},open:r,title:"",footer:null,transitionName:ve(v||"","zoom",e.transitionName),maskTransitionName:ve(v||"","fade",e.maskTransitionName),mask:D,maskClosable:H,style:$,styles:Object.assign({body:p,mask:d},_),width:k,zIndex:Y,afterClose:o,keyboard:s,centered:u,getContainer:f,closable:w,closeIcon:h,modalRender:T,focusTriggerAfterClose:S},a.createElement(Rt,Object.assign({},e,{confirmPrefixCls:x})))},Dt=e=>{const{rootPrefixCls:t,iconPrefixCls:n,direction:o,theme:r}=e;return a.createElement(gt,{prefixCls:t,iconPrefixCls:n,direction:o,theme:r},a.createElement(Vo,Object.assign({},e)))},ue=[];let Bt="";function zt(){return Bt}const Uo=e=>{var t,n;const{prefixCls:o,getContainer:r,direction:s}=e,u=ut(),f=a.useContext(we),d=zt()||f.getPrefixCls(),m=o||`${d}-modal`;let c=r;return c===!1&&(c=void 0),N.createElement(Dt,Object.assign({},e,{rootPrefixCls:d,prefixCls:m,iconPrefixCls:f.iconPrefixCls,theme:f.theme,direction:s??f.direction,locale:(n=(t=f.locale)===null||t===void 0?void 0:t.Modal)!==null&&n!==void 0?n:u,getContainer:c}))};function he(e){const t=Pn(),n=document.createDocumentFragment();let o=Object.assign(Object.assign({},e),{close:f,open:!0}),r;function s(){for(var m=arguments.length,c=new Array(m),i=0;i<m;i++)c[i]=arguments[i];const v=c.some(p=>p&&p.triggerCancel);e.onCancel&&v&&e.onCancel.apply(e,[()=>{}].concat(ce(c.slice(1))));for(let p=0;p<ue.length;p++)if(ue[p]===f){ue.splice(p,1);break}qn(n)}function u(m){clearTimeout(r),r=setTimeout(()=>{const c=t.getPrefixCls(void 0,zt()),i=t.getIconPrefixCls(),v=t.getTheme(),p=N.createElement(Uo,Object.assign({},m));Vn(N.createElement(gt,{prefixCls:c,iconPrefixCls:i,theme:v},t.holderRender?t.holderRender(p):p),n)})}function f(){for(var m=arguments.length,c=new Array(m),i=0;i<m;i++)c[i]=arguments[i];o=Object.assign(Object.assign({},o),{open:!1,afterClose:()=>{typeof e.afterClose=="function"&&e.afterClose(),s.apply(this,c)}}),o.visible&&delete o.visible,u(o)}function d(m){typeof m=="function"?o=m(o):o=Object.assign(Object.assign({},o),m),u(o)}return u(o),ue.push(f),{destroy:f,update:d}}function Mt(e){return Object.assign(Object.assign({},e),{type:"warning"})}function kt(e){return Object.assign(Object.assign({},e),{type:"info"})}function Ft(e){return Object.assign(Object.assign({},e),{type:"success"})}function At(e){return Object.assign(Object.assign({},e),{type:"error"})}function Lt(e){return Object.assign(Object.assign({},e),{type:"confirm"})}function Go(e){let{rootPrefixCls:t}=e;Bt=t}var Xo=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n};const Ko=(e,t)=>{var n,{afterClose:o,config:r}=e,s=Xo(e,["afterClose","config"]);const[u,f]=a.useState(!0),[d,m]=a.useState(r),{direction:c,getPrefixCls:i}=a.useContext(we),v=i("modal"),p=i(),w=()=>{var y;o(),(y=d.afterClose)===null||y===void 0||y.call(d)},h=function(){f(!1);for(var y=arguments.length,_=new Array(y),x=0;x<y;x++)_[x]=arguments[x];const k=_.some($=>$&&$.triggerCancel);d.onCancel&&k&&d.onCancel.apply(d,[()=>{}].concat(ce(_.slice(1))))};a.useImperativeHandle(t,()=>({destroy:h,update:y=>{m(_=>Object.assign(Object.assign({},_),y))}}));const T=(n=d.okCancel)!==null&&n!==void 0?n:d.type==="confirm",[S]=Pe("Modal",_n.Modal);return a.createElement(Dt,Object.assign({prefixCls:v,rootPrefixCls:p},d,{close:h,open:u,afterClose:w,okText:d.okText||(T?S==null?void 0:S.okText:S==null?void 0:S.justOkText),direction:d.direction||c,cancelText:d.cancelText||(S==null?void 0:S.cancelText)},s))},Jo=a.forwardRef(Ko);let st=0;const Qo=a.memo(a.forwardRef((e,t)=>{const[n,o]=xo();return a.useImperativeHandle(t,()=>({patchElement:o}),[]),a.createElement(a.Fragment,null,n)}));function Zo(){const e=a.useRef(null),[t,n]=a.useState([]);a.useEffect(()=>{t.length&&(ce(t).forEach(u=>{u()}),n([]))},[t]);const o=a.useCallback(s=>function(f){var d;st+=1;const m=a.createRef();let c;const i=new Promise(T=>{c=T});let v=!1,p;const w=a.createElement(Jo,{key:`modal-${st}`,config:s(f),ref:m,afterClose:()=>{p==null||p()},isSilent:()=>v,onConfirm:T=>{c(T)}});return p=(d=e.current)===null||d===void 0?void 0:d.patchElement(w),p&&ue.push(p),{destroy:()=>{function T(){var S;(S=m.current)===null||S===void 0||S.destroy()}m.current?T():n(S=>[].concat(ce(S),[T]))},update:T=>{function S(){var y;(y=m.current)===null||y===void 0||y.update(T)}m.current?S():n(y=>[].concat(ce(y),[S]))},then:T=>(v=!0,i.then(T))}},[]);return[a.useMemo(()=>({info:o(kt),success:o(Ft),error:o(At),warning:o(Mt),confirm:o(Lt)}),[]),a.createElement(Qo,{key:"modal-holder",ref:e})]}var Yo=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n};const ea=e=>{const{prefixCls:t,className:n,closeIcon:o,closable:r,type:s,title:u,children:f,footer:d}=e,m=Yo(e,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:c}=a.useContext(we),i=c(),v=t||c("modal"),p=mt(i),[w,h,T]=Nt(v,p),S=`${v}-confirm`;let y={};return s?y={closable:r??!1,title:"",footer:"",children:a.createElement(Rt,Object.assign({},e,{prefixCls:v,confirmPrefixCls:S,rootPrefixCls:i,content:f}))}:y={closable:r??!0,title:u,footer:d!==null&&a.createElement(Et,Object.assign({},e)),children:f},w(a.createElement(jt,Object.assign({prefixCls:v,className:V(h,`${v}-pure-panel`,s&&S,s&&`${S}-${s}`,n,T,p)},m,{closeIcon:It(v,o),closable:r},y)))},ta=Un(ea);function Ht(e){return he(Mt(e))}const ae=Tt;ae.useModal=Zo;ae.info=function(t){return he(kt(t))};ae.success=function(t){return he(Ft(t))};ae.error=function(t){return he(At(t))};ae.warning=Ht;ae.warn=Ht;ae.confirm=function(t){return he(Lt(t))};ae.destroyAll=function(){for(;ue.length;){const t=ue.pop();t&&t()}};ae.config=Go;ae._InternalPanelDoNotUseOrYouWillBeFired=ta;const na=ae,oa=({title:e,isCampaign:t,setIsCampaign:n})=>{const o=ye(),{collapsed:r}=Z(d=>d.auth),{mode:s}=Z(d=>d.dashboard),u=()=>{o(tn(!r))},f={fontSize:"26px",fontWeight:500,lineHeight:"18.38px",color:"#fff",textAlign:"center",paddingTop:"5px",fontFamily:"ubuntu"};return l.jsxs(R,{style:{display:"flex",justifyContent:"space-between",paddingRight:"20px",backgroundColor:Zt.bgColor,alignItems:"center",textAlign:"center",height:"60px",color:"white"},children:[l.jsxs(R,{sx:{display:"flex",alignItems:"center"},children:[r?l.jsx(ie,{onClick:u,sx:{color:"white"},children:l.jsx(Nn,{style:{width:"30px",height:"30px"}})}):l.jsx(ie,{onClick:u,sx:{color:"white"},children:l.jsx(Tn,{style:{width:"30px",height:"30px"}})}),l.jsx("img",{src:Rn,alt:"wikitrak logo"})]}),l.jsx(R,{children:l.jsx(Yt,{style:f,children:e})}),l.jsxs(R,{sx:{display:"flex"},children:[l.jsx(ie,{variant:"outlined",size:"small",sx:{color:"blue",backgroundColor:"white",mt:"6px",mx:"5px",border:"1px solid white",width:"150px",height:"40px"},onClick:()=>{n(!t)},children:"Create Campaign"}),l.jsx(_e,{onClick:()=>{o(en(!s))},sx:{color:"white"}})]})]})},aa=({setIsCreateCampaign:e})=>{const t=ye(),{fotaCampaignList:n,activeCampaign:o}=Z(i=>i.fota_campaign),{mode:r}=Z(i=>i.dashboard),s=Se(r),[u,f]=a.useState(""),d=n&&(n==null?void 0:n.length)>0?n.filter(i=>i.name.toLowerCase().includes(u.toLowerCase())):[],m=i=>{f(i.target.value)},c=i=>{console.log("item clicked",i),t(nn(i)),e(!1)};return l.jsxs(l.Fragment,{children:[l.jsx(R,{children:l.jsxs(xt,{sx:{mt:"15px",width:"100%",backgroundColor:s.grey[500],borderRadius:"5px"},variant:"outlined",children:[l.jsx(ht,{htmlFor:"outlined-adornment-password",style:{marginTop:"-8px",color:s.grey[400]},children:"Search"}),l.jsx(Ct,{onChange:i=>{m(i)},inputProps:{style:{padding:7,color:s.grey[400]}},id:"outlined-adornment-password",type:"text",endAdornment:l.jsx(vt,{position:"end",children:l.jsx(_e,{"aria-label":"toggle password visibility",edge:"end",children:l.jsx(pt,{})})}),label:"Search"})]})}),d&&d.map((i,v)=>l.jsx(R,{sx:{align:"center",my:"10px",color:"grey",width:"100%",textAlign:"center"},title:"hello",children:l.jsxs(R,{sx:{border:o.id===i.id?"1px solid #8DA6C6":"1px solid #E8E8E8",p:"8px",borderRadius:"5px",display:"flex",cursor:"pointer",color:o.id===i.id?"white":s.grey[400],backgroundColor:o.id===i.id?"#8DA6C6":s.grey[100]},onClick:()=>{c(i)},children:[l.jsx(R,{sx:{mx:"5px"},children:l.jsx("span",{children:i.name})}),l.jsx(R,{sx:{fontSize:"16px",position:"relative",right:"2px"}})]})},v))]})},ra=({setNewCampaign:e,setIsCreateCampaign:t})=>{ye();const{vehicleList:n}=Z(x=>x.liveMap),{mode:o}=Z(x=>x.dashboard),[r,s]=a.useState(""),[u,f]=a.useState(""),[d,m]=a.useState(""),[c,i]=a.useState(n),[v,p]=a.useState("NEW"),w=Se(o),h=x=>{p(x)},T=(x,k)=>{const $=c.map(D=>k===D.id?{...D,checked:x.target.checked}:{...D});i($)},S=c&&c.length>0&&c.filter(x=>x.registration_id.toLowerCase().includes(d.toLowerCase())),y=x=>{m(x.target.value)},_=()=>{let x={};x.label=r,x.name=r,x.description=u,x.status="NEW";let k=[];c.map($=>{var D;if($.checked===!0){let H={};H.analyze_fotax={vehicle:$.registration_id,imei:(D=$==null?void 0:$.imei[0])==null?void 0:D.mac_id},H.created_by=$.user.id,H.registration_id=$.registration_id,H.current_sw=null,H.status="OPEN",k.push(H)}}),x.ecu_fota=k,t(!0),e(x)};return l.jsxs("div",{children:[l.jsx("div",{style:{margin:"10px 0px"},children:l.jsx(He,{placeholder:"Enter Campaign Name",value:r,onChange:x=>s(x.target.value),style:{backgroundColor:w.grey[500],color:w.grey[400]}})}),l.jsx("div",{style:{margin:"10px 0px"},children:l.jsxs(pe,{placeholder:"Select Status",style:{width:"100%",backgroundColor:w.grey[500]},onChange:h,children:[l.jsx(Option,{value:"NEW",style:{backgroundColor:w.grey[500]},children:"NEW"}),l.jsx(Option,{value:"STARTED",style:{backgroundColor:w.grey[500]},children:"STARTED"}),l.jsx(Option,{value:"STOP",style:{backgroundColor:w.grey[500]},children:"STOP"})]})}),l.jsx("div",{style:{margin:"10px 0px"},children:l.jsx(He,{className:"w-full",placeholder:"Enter Description",value:u,onChange:x=>f(x.target.value)})}),l.jsx("div",{children:l.jsxs(R,{sx:{mt:"10px"},children:[l.jsx(R,{sx:{align:"center",my:"15px"},children:l.jsxs(xt,{sx:{width:"100%",backgroundColor:w.grey[500],borderRadius:"5px"},variant:"outlined",children:[l.jsx(ht,{htmlFor:"outlined-adornment-password",style:{marginTop:"-8px",color:w.grey[400]},children:"Search"}),l.jsx(Ct,{onChange:x=>y(x),inputProps:{style:{padding:7,color:w.grey[400]}},id:"outlined-adornment-password",type:"text",endAdornment:l.jsx(vt,{position:"end",children:l.jsx(_e,{"aria-label":"toggle password visibility",edge:"end",children:l.jsx(pt,{})})}),label:"Search"})]})}),l.jsx("div",{style:{height:"50vh",overflow:"auto"},children:S.length>0&&S.map((x,k)=>l.jsx(R,{sx:{align:"center",my:"8px"},children:l.jsxs(R,{variant:"outlined",onClick:$=>{T($,x.id)},sx:{width:"90%",ml:"10px",color:w.grey[400]},children:[x.registration_id,l.jsx("input",{type:"checkbox",style:{marginLeft:"10px"}})]})},k))}),l.jsx(R,{sx:{textAlign:"center",mt:"10px"},children:l.jsx(ie,{variant:"contained",sx:{background:"#8DA6C6"},onClick:()=>{_()},children:"Submit"})})]})})]})};var Be={},la=on;Object.defineProperty(Be,"__esModule",{value:!0});var Wt=Be.default=void 0,sa=la(Fn()),ia=l;Wt=Be.default=(0,sa.default)((0,ia.jsx)("path",{d:"m14.06 9.02.92.92L5.92 19H5v-.92zM17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29m-3.6 3.19L3 17.25V21h3.75L17.81 9.94z"}),"EditOutlined");const it=({campaign:e})=>{var ee,te;const{fotaCampaignList:t,activeCampaign:n}=Z(g=>g.fota_campaign),{vehicleList:o,selectedVehicle:r}=Z(g=>g.liveMap),{mode:s}=Z(g=>g.dashboard),u=Se(s),[f,d]=a.useState([]),[m,c]=a.useState(!1),[i,v]=a.useState(!1),[p,w]=a.useState(!1),[h,T]=a.useState([]),[S,y]=a.useState([]),[_,x]=a.useState(Array((ee=e==null?void 0:e.ecu_fota)==null?void 0:ee.length).fill(0)),[k,$]=a.useState(Array((te=e==null?void 0:e.ecu_fota)==null?void 0:te.length).fill(0)),[D,H]=a.useState([]),U=g=>{na.info({content:l.jsx("div",{children:l.jsxs("p",{children:[" ",g.description," "]})}),onOk(){}})},Q=(g,I)=>{let b=g.find(E=>E.registration_id===I);return b?b.imei[0].mac_id:""},Y=async(g,I,b)=>{var P,B,A;let E=k,O=_,C=D,j={created_by:JSON.parse(localStorage.getItem("w_userDetails")).user_id,imei:I,ecu:b};try{const z=await de.post("https://cc.wikitrak.in/api-proxy/api/v1/devices/latest/ecu-fota/",j);let F=((P=z==null?void 0:z.data)==null?void 0:P.flashing_attempts)||[],q=((B=z==null?void 0:z.data)==null?void 0:B.download_attempts)||[];return C[g]=(A=z==null?void 0:z.data)==null?void 0:A.id,H(C),q&&(q==null?void 0:q.length)>0&&(O[g]=q[0].id,x(O),q[0].latest_percentage<100&&q[0].status!=="Completed"&&q[0].status!=="Aborted"&&c(!0)),F&&(F==null?void 0:F.length)>0&&(E[g]=F[0].id,$(E),F[0].latest_percentage<100&&F[0].status!=="Completed"&&F[0].status!=="Aborted"&&w(!0)),{flashingData:F,downloadData:q}}catch(z){return console.error("Error in fetching data:",z),{}}};a.useEffect(()=>{try{if(o&&o.length>0){let g=[],I=[],b=[],E=[],O=Promise.resolve([]);e&&Object.keys(e).length>0&&(O=Promise.all(e.ecu_fota.map(async(C,j)=>{var A,z,F,q,oe,le,fe,L,me,ze,Me;const P=o==null?void 0:o.filter(M=>M.vin==C.analyze_fotax.vehicle)[0].sub_model.ecus;b[j]=0,E[j]=0;const B=P&&P.length>0?C&&C.ecu?(z=(A=P.filter(M=>M.id==C.ecu.id)[0])==null?void 0:A.ecu[0])==null?void 0:z.file:(q=(F=P[0])==null?void 0:F.ecu[0])==null?void 0:q.file:[];g[j]=P?C.ecu?P.filter(M=>M.id==C.ecu.id)[0]:P[0]:null,I[j]=B?C.server_sw?B.filter(M=>M.sw_part_no==C.server_sw)[0]:B[0]:null;try{const M=await Y(j,Q(o,C.analyze_fotax.vehicle),((oe=g[j])==null?void 0:oe.id)||"");let ke=0,Fe=0;return M!=null&&M.flashingData&&(M==null?void 0:M.flashingData.length)>0&&(ke=(le=M==null?void 0:M.flashingData[0])==null?void 0:le.latest_percentage),M!=null&&M.downloadData&&(M==null?void 0:M.downloadData.length)>0&&(Fe=(fe=M==null?void 0:M.downloadData[0])==null?void 0:fe.latest_percentage),{key:j,index:j+1,vid:C.analyze_fotax.vehicle,imei:Q(o,C.analyze_fotax.vehicle),ecu_id:(L=g[j])==null?void 0:L.id,dataset_id:(me=I[j])==null?void 0:me.sw_part_no,ecuOptions:P,datasetOptions:B,datasetOptionId:0,downloadStatus:Fe,flashStatus:ke}}catch(M){return console.log("Error in getDownloadFlashingPercentage:",M),{key:j,index:j+1,vid:C.analyze_fotax.vehicle,imei:Q(o,C.analyze_fotax.vehicle),ecu_id:(ze=g[j])==null?void 0:ze.id,dataset_id:(Me=I[j])==null?void 0:Me.sw_part_no,ecuOptions:P,datasetOptions:B,datasetOptionId:0,downloadStatus:0,flashStatus:0}}})).then(C=>(console.log("defaultData:",C),C))),O.then(C=>{d(C)}).catch(C=>{Ce.error("Error occurred"),console.log("Error in defaultData processing:",C)}),x(E),$(b),T(g),y(I)}}catch(g){console.log("Outer error:",g)}},[o,n]),a.useEffect(()=>{},[_]),a.useEffect(()=>{const g=setInterval(()=>{if(m){let I=_;_.map((b,E)=>{b!="0"&&de.get("https://cc.wikitrak.in/api-proxy/api/v1/devices/fotax/ecufota/downloadattempt/list/?id="+b).then(C=>{const j=parseInt(C.data.results[0].latest_percentage);(j=="100"||C.data.results[0].status==="Completed")&&(I=I.filter(A=>A!==b),console.log("download arr",I),I.length===0&&(clearInterval(g),c(!1)));let P=[...f],B=P.find(A=>A.key===E);B&&(B.downloadStatus=j,d(P))})})}if(p){let I=k;k.map((b,E)=>{b!="0"&&de.get("https://cc.wikitrak.in/api-proxy/api/v1/devices/fotax/ecufota/flashingattempt/list/?id="+b).then(C=>{const j=parseInt(C.data.results[0].latest_percentage);(j=="100"||C.data.results[0].status==="Completed"||C.data.results[0].status==="Aborted")&&(I=I.filter(A=>A!==b),console.log("flash Array",I),I.length===0&&(clearInterval(g),w(!1)));let P=[...f],B=P.find(A=>A.key===E);B&&(B.flashStatus=j,d(P))})})}},1e3);return()=>{clearInterval(g)}},[m,p,f]);const re=async(g,I,b)=>{var E,O;if(g==="ecu"){const C=b.ecuOptions.filter(F=>F.id===I)[0].ecu[0].file[0].sw_part_no,j=b.ecuOptions.filter(F=>F.id===I)[0].ecu[0].file;let P=[...f],B=Array.from(h);B[b.key]=I,console.log("record",b,I),T(B);let A=Array.from(S);A[b.key]=(O=(E=b.ecuOptions.filter(F=>F.id===I)[0].ecu[0])==null?void 0:E.file[0])==null?void 0:O.sw_part_no,y(A);let z=P.find(F=>F.key===b.key);z&&(z.ecu_id=I,z.dataset_id=C,z.datasetOptions=j,z.datasetOptionId=j.length?j[0].id:""),d(P)}else if(g==="dataset"){let C=[...f],j=Array.from(S);j[b.key]=I,y(j);let P=C.find(B=>B.key===b.key);P&&(P.dataset_id=I),d(C)}},J=()=>{const g=JSON.parse(JSON.stringify(e));g.ecu_fota=g.ecu_fota.map((b,E)=>{const O={...b};return O.ecu=h[E]?h[E]:null,O.registration_id=b.analyze_fotax.vehicle,O.imei=b.analyze_fotax.imei,O.is_latest=!0,delete O.analyze_fotax,S&&S[E]&&S[E].sw_part_no?O.server_sw=S[E].sw_part_no:O.server_sw=S&&S[E]?S[E]:null,O}),de.post("https://cc.wikitrak.in/api-proxy/api/v1/devices/create_fotacampaign/",g).then(b=>{Ce.success("Campaign Created Successfully")}).catch(b=>{var E,O,C,j;(E=b==null?void 0:b.response)!=null&&E.data&&((C=(O=b.response)==null?void 0:O.data)==null?void 0:C.length)>0?Ce.error((j=b==null?void 0:b.response)==null?void 0:j.data[0]):Ce.error("Failed to create new capaign")})};a.useEffect(()=>{},[i]);const K=async g=>{var j;v(!0),console.log("hello",g);const I=(j=JSON.parse(localStorage.getItem("w_userDetails")))==null?void 0:j.user_id,b=[],E=[],O=[];console.log("campaign",e);const C=e==null?void 0:e.ecu_fota.map(async(P,B)=>{var z,F,q;const A={current_ws:null,server_sw:P==null?void 0:P.server_sw,status:"OPEN",ecu:P==null?void 0:P.ecu.id,imei:(q=(F=(z=o==null?void 0:o.find(oe=>oe.vin===(P==null?void 0:P.analyze_fotax.vehicle)))==null?void 0:z.imei)==null?void 0:F[0])==null?void 0:q.mac_id,created_by:I};console.log("payload data",A);try{if(g===0){console.log("download",A);const le=(await de.post("https://cc.wikitrak.in/api-proxy/api/v1/devices/create_ecufota/",A)).data.id;O[B]=le;const fe={latest_percentage:"0",created_by:I,ecu_fota:le,status:"New"},L=await de.post("https://cc.wikitrak.in/api-proxy/api/v1/devices/fotax/create/ecufota/downloadattempt/",fe);b[B]=L.data.id}else if(g===1&&D[B]){const oe={latest_percentage:"0",created_by:I,ecu_fota:D[B],latest_response:"OK"},le=await de.post("https://cc.wikitrak.in/api-proxy/api/v1/devices/fotax/create/ecufota/flashingattempt/",oe);E[B]=le.data.id}}catch(oe){console.error(`Error processing ECU FOTA for index ${B}:`,oe)}});await Promise.all(C),g===0?(c(!0),x(b),H(O)):g===1&&(w(!0),$(E)),v(!1)};return l.jsxs(R,{children:[l.jsxs(R,{sx:{display:"flex",justifyContent:"space-between",p:"20px",fontSize:"20px",color:u.grey[400]},children:[i&&l.jsxs(R,{sx:{position:"absolute",zIndex:9999,top:"40%",left:"35%",height:"100px",backgroundColor:"white",color:"black",border:"2px solid black",display:"flex",justifyContent:"center",alignItems:"center",p:"10px"},children:[l.jsx("span",{style:{marginRight:"20px"},children:"Processing your request... please wait while we complete the necessary steps."})," ",l.jsx(Bn,{})]}),l.jsxs(R,{sx:{display:"flex"},children:[l.jsx(R,{sx:{fontSize:"20px"},children:e==null?void 0:e.name}),l.jsx(R,{sx:{ml:"5px"},children:l.jsx(Wt,{})})]}),l.jsx(R,{children:l.jsxs(R,{children:["Status:",e==null?void 0:e.status]})}),l.jsx(R,{children:l.jsx(R,{sx:{cursor:"pointer"},onClick:()=>{U(e)},children:l.jsx(kn,{})})})]}),l.jsx(R,{sx:{mx:"20px",height:"70vh",borderRadius:"5px"},children:l.jsx(An,{sx:{maxHeight:500,width:"100%",border:"1px solid #e1e6e2",borderRadius:"5px"},children:l.jsxs(Ln,{stickyHeader:!0,"aria-label":"sticky table",children:[l.jsx(Hn,{style:{backgroundColor:"black !important"},children:l.jsxs(We,{children:[l.jsx(ne,{align:"left",sx:{color:u.grey[400],fontSize:"12px",backgroundColor:u.grey[100]},children:"SL NO"}),l.jsx(ne,{align:"left",sx:{color:u.grey[400],fontSize:"12px",backgroundColor:u.grey[100]},children:"ID"}),l.jsx(ne,{align:"left",sx:{color:u.grey[400],fontSize:"12px",backgroundColor:u.grey[100]},children:"ECU"}),l.jsx(ne,{align:"left",sx:{color:u.grey[400],fontSize:"12px",backgroundColor:u.grey[100]},children:"DATA SET"}),l.jsx(ne,{align:"left",sx:{color:u.grey[400],fontSize:"12px",backgroundColor:u.grey[100]},children:"DOWNLOAD STATUS"}),l.jsx(ne,{align:"left",sx:{color:u.grey[400],fontSize:"12px",backgroundColor:u.grey[100]},children:"FLASHING STATUS"})]})}),l.jsx(Wn,{children:f&&f.length>0&&f.map((g,I)=>{var b,E;return l.jsxs(We,{children:[l.jsx(ne,{align:"left",sx:{color:u.grey[400],fontSize:"12px"},children:g.index}),l.jsx(ne,{align:"left",sx:{color:u.grey[400],fontSize:"12px"},children:g.vid}),l.jsx(ne,{align:"left",sx:{color:u.grey[400],fontSize:"12px"},children:l.jsx(pe,{style:{width:"200px"},value:g.ecu_id,onSelect:O=>re("ecu",O,g),children:(b=g==null?void 0:g.ecuOptions)==null?void 0:b.map(O=>l.jsxs(pe.Option,{value:O.id,style:{fontSize:"12px"},children:[" ",O.name," "]},O.id))})}),l.jsx(ne,{align:"left",sx:{color:u.grey[400],fontSize:"12px"},children:l.jsx(pe,{style:{width:"200px"},value:g.dataset_id,onSelect:O=>re("dataset",O,g),children:(E=g.datasetOptions)==null?void 0:E.map(O=>l.jsxs(pe.Option,{value:O.sw_part_no,children:[" ",O.sw_part_no," "]},O.id))})}),l.jsxs(ne,{align:"center",sx:{color:u.grey[400],fontSize:"12px"},children:[g.downloadStatus,"%  ",l.jsx(Je,{variant:"determinate",value:g.downloadStatus})]}),l.jsxs(ne,{align:"center",sx:{color:u.grey[400],fontSize:"12px"},children:[g.flashStatus,"% ",l.jsx(Je,{variant:"determinate",value:g.flashStatus})]})]},I)})})]})})}),l.jsxs(R,{sx:{display:"flex",justifyContent:"center"},children:[l.jsx(R,{sx:{mx:"10px",my:"10px"},children:l.jsx(ie,{variant:"contained",sx:{background:"#8DA6C6"},onClick:J,disabled:i||m||p,children:"Save"})}),l.jsx(R,{sx:{mx:"10px",my:"10px"},children:m?l.jsx(ie,{variant:"contained",sx:{background:"#8DA6C6"},disabled:i||p,onClick:()=>c(!1),children:"Stop Download Campaign"}):l.jsx(ie,{variant:"contained",sx:{background:"#8DA6C6"},disabled:i||p,onClick:()=>K(0),children:"start download Campaign"})}),l.jsx(R,{sx:{mx:"10px",my:"10px"},children:p?l.jsx(ie,{variant:"contained",sx:{background:"#8DA6C6"},disabled:i||m,onClick:()=>w(!1),children:"Stop flash Campaign"}):l.jsx(ie,{variant:"contained",sx:{background:"#8DA6C6"},disabled:i||m,onClick:()=>K(1),children:"start flash Campaign"})})]})]})},Ia=()=>{const e=ye(),{w_customer_id:t}=Z(i=>i.auth),{activeCampaign:n}=Z(i=>i.fota_campaign),[o,r]=a.useState(!1),[s,u]=a.useState(!1),[f,d]=a.useState();Z(i=>i.liveMap);const{mode:m}=Z(i=>i.dashboard);a.useEffect(()=>{e(an({id:t})),e(rn({w_customer_id:t}))},[s,f]);const c=Se(m);return l.jsxs("div",{className:"app",children:[l.jsx(Dn,{}),l.jsxs("main",{className:"content",style:{width:"100%",background:"#dad6d626"},children:[l.jsx(oa,{title:"Fota Campaign",isCampaign:o,setIsCampaign:r}),l.jsx("div",{children:l.jsxs(R,{sx:{display:"flex"},children:[l.jsxs(R,{sx:{width:"80%",backgroundColor:c.grey[100]},children:[s&&l.jsx(it,{campaign:f,setIsCreateCampaign:u}),!s&&l.jsx(it,{campaign:n})]}),l.jsxs(R,{sx:{width:"20%",border:"1px solid #cdd4cf",height:"90vh",px:"10px",backgroundColor:c.grey[100]},children:[!o&&l.jsx(aa,{setIsCreateCampaign:u}),o&&l.jsx(ra,{setIsCreateCampaign:u,setNewCampaign:d})]})]})})]})]})};export{Ia as default};
