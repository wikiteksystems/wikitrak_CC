import{a_ as K,a$ as D,b as L,fi as fe,b8 as be,eX as ge,fB as _e,fC as je,fD as we,b7 as j,fe as re,fd as oe,fE as Z,bB as ve,fF as ee,j as e,aW as W,ep as v,dK as l,bc as R,bY as ye,T as ae,aY as H,fG as ke,fn as se,dP as ne,c4 as Q,fy as le,fg as Ce,ba as Ne,f1 as ce,f2 as de,ed as ue,f3 as me}from"./index-C945ZWhn.js";import{d as te}from"./Add-BZxXHc-p.js";import{u as qe,F as pe}from"./formik.esm-lYNpE-NB.js";import{c as U,f as Se,a as u,e as Te}from"./index.esm-BRKl7rP_.js";import{A as Y}from"./Autocomplete-BJEIpv50.js";import{R as Le,A as Fe,D as Pe}from"./Remove-B6ppVRwi.js";import{u as he}from"./useMediaQuery-BsKy_5xt.js";function Be(){var f,p,C,P,G,J,z;const h=K(),{vehicles_details:q}=D(i=>i.dashboard),{w_customer_id:S}=D(i=>i.auth),N=JSON.parse(localStorage.getItem("w_userDetails")),y=((f=N==null?void 0:N.oem)==null?void 0:f.name)=="VENUS TECHNO EQUIPMENT"?"Assign Service Engineer":"Assign technician",{breakdownTopics:w,UpdatedBreakdownData:r,technicianList:k,breakdownSubTopics:T}=D(i=>i.breakdown),{sparePartList:$}=D(i=>i.inspection);JSON.parse(localStorage.getItem("w_userDetails"));const[E,B]=L.useState(null),[V,F]=L.useState(""),[I,O]=L.useState(!1),[A,c]=L.useState(!1);L.useEffect(()=>{r&&(B(r.attachment),F("edit"))},[r]),console.log(T,"brekdownSubTopics"),L.useEffect(()=>{console.log("technician list",k)},[k]);const x=i=>(q==null?void 0:q.filter(o=>o.id===i))||[],a=i=>{const o=i.currentTarget.files[0];if(t.setFieldValue("attachment",o),F((o==null?void 0:o.name)||""),o&&o.type.startsWith("image/")){const b=new FileReader;b.onload=()=>B(b.result),b.readAsDataURL(o)}else B(null)},s=async()=>{c(!0),navigator.geolocation?navigator.geolocation.getCurrentPosition(async i=>{const{latitude:o,longitude:b}=i.coords;try{const g=await ke(o,b);t.setFieldValue("location",g)}catch{j.error("Failed to convert coordinates to address.")}finally{c(!1)}},()=>{j.error("Failed to retrieve location."),c(!1)}):(j.error("Geolocation not supported."),c(!1))};let n=r==null?void 0:r.breakdown_parts.map(i=>{var o;return{spare_parts:(o=i==null?void 0:i.spare_parts)==null?void 0:o.id,quantity:i==null?void 0:i.quantity}});console.log(r,"UpdatedBreakdownData");const t=qe({initialValues:{submission_date:(r==null?void 0:r.submission_date)||fe(new Date),vehicle:((p=r==null?void 0:r.vehicle)==null?void 0:p.id)||"",breakdown_topic:((C=r==null?void 0:r.breakdown_topic)==null?void 0:C.id)||"",technician:((P=r==null?void 0:r.technician)==null?void 0:P.id)||"",description:(r==null?void 0:r.description)||"",mob_no:(r==null?void 0:r.mob_no)||"",attachment:(r==null?void 0:r.attachment)||"",location:(r==null?void 0:r.location)||"",contact_person:(r==null?void 0:r.contact_person)||"",breakdown_parts:n||[],breakdown_sub_topic:(G=r==null?void 0:r.breakdown_sub_topic)==null?void 0:G.id},validationSchema:U({submission_date:Se().required("Submission Date is required"),vehicle:u().required("Vehicle is required"),breakdown_topic:u().required("Breakdown Topic is required"),breakdown_sub_topic:u().required("breakdown_sub_topic  is required"),technician:u().required("Technician is required"),description:u().required("Description is required"),mob_no:u().matches(/^\d{10,11}$/,"Mobile number must be 10-11 digits").required("Mobile number is required"),location:u().required("Location is required"),contact_person:u().required("Contact Person is required"),attachment:Te()}),onSubmit:async(i,{resetForm:o})=>{var b,g;try{O(!0);const M=x(i.vehicle);i.user=S,i.status="Open";const m=be(i.submission_date).format("YYYY-MM-DDTHH:mm:ss");i.submission_date=m;let _;if(r){typeof i.attachment=="string"&&(i.attachment=await ge(i.attachment));const X=r.id;_=await h(_e({values:i,id:X}))}else _=await h(je(i));if(console.log("apiResponse",_),_.payload.success){console.log(_.payload),console.log("values",i.breakdown_parts);const{id:X}=(b=_==null?void 0:_.payload)==null?void 0:b.data,{breakdown_parts:xe}=i;let Ve=await h(we({breakdown:X,parts:xe}));j.success("Breakdown submitted successfully!"),o(),B(null),F(""),h(re(null)),h(oe(!1)),h(Z(!1)),h(ve(S))}else j.error(((g=_.payload.error)==null?void 0:g.detail)||"Submission failed. Please try again.")}catch(M){console.log("eror",M)}finally{O(!1)}}}),d=i=>{var b;const o=(b=w.find(g=>g.id===i))==null?void 0:b.sub_topics;console.log(o,"filter Data:>>"),h(ee(o||[]))};return L.useEffect(()=>{var i;if(r){const o=(i=w.find(b=>{var g;return b.id===((g=r==null?void 0:r.breakdown_topic)==null?void 0:g.id)}))==null?void 0:i.sub_topics;h(ee(o||[]))}},[r]),e.jsx(W,{sx:{p:3,maxWidth:"100%",margin:"auto"},children:e.jsx("form",{onSubmit:t.handleSubmit,children:e.jsxs(v,{container:!0,spacing:2,children:[e.jsx(v,{item:!0,xs:12,sm:6,children:e.jsx(l,{label:"Date",name:"submission_date",type:"datetime-local",value:t.values.submission_date,onChange:t.handleChange,onBlur:t.handleBlur,error:t.touched.submission_date&&!!t.errors.submission_date,helperText:t.touched.submission_date&&t.errors.submission_date,fullWidth:!0,InputLabelProps:{shrink:!0},disabled:!0})}),e.jsx(v,{item:!0,xs:12,sm:6,children:e.jsx(Y,{options:q,getOptionLabel:i=>i.registration_id||"",value:q.find(i=>i.id===t.values.vehicle)||null,onChange:(i,o)=>t.setFieldValue("vehicle",(o==null?void 0:o.id)||""),renderInput:i=>e.jsx(l,{...i,label:"Vehicle",error:t.touched.vehicle&&!!t.errors.vehicle,helperText:t.touched.vehicle&&t.errors.vehicle})})}),e.jsx(v,{item:!0,xs:12,sm:6,children:e.jsx(Y,{options:w,getOptionLabel:i=>i.topic,value:w.find(i=>i.id===t.values.breakdown_topic)||null,onChange:(i,o)=>{t.setFieldValue("breakdown_topic",(o==null?void 0:o.id)||""),d(o==null?void 0:o.id)},renderInput:i=>e.jsx(l,{...i,label:"Breakdown Topic",error:t.touched.breakdown_topic&&!!t.errors.breakdown_topic,helperText:t.touched.breakdown_topic&&t.errors.breakdown_topic})})}),e.jsx(v,{item:!0,xs:12,sm:6,children:e.jsx(Y,{options:T,getOptionLabel:i=>i.name,value:T.find(i=>i.id===t.values.breakdown_sub_topic)||null,onChange:(i,o)=>t.setFieldValue("breakdown_sub_topic",(o==null?void 0:o.id)||""),renderInput:i=>e.jsx(l,{...i,label:"Breakdown Sub Topic",error:t.touched.breakdown_sub_topic&&!!t.errors.breakdown_sub_topic,helperText:t.touched.breakdown_sub_topic&&t.errors.breakdown_sub_topic})})}),e.jsx(v,{item:!0,xs:12,sm:6,children:e.jsx(Y,{options:k,getOptionLabel:i=>`${i.first_name} ${i.last_name}`||"",value:k.find(i=>i.id===t.values.technician)||null,onChange:(i,o)=>t.setFieldValue("technician",(o==null?void 0:o.id)||""),renderInput:i=>e.jsx(l,{...i,label:y,error:t.touched.technician&&!!t.errors.technician,helperText:t.touched.technician&&t.errors.technician})})}),e.jsx(v,{item:!0,xs:12,sm:6,children:e.jsx(l,{label:"Contact Person Name*",name:"contact_person",value:t.values.contact_person,onChange:t.handleChange,onBlur:t.handleBlur,error:t.touched.contact_person&&!!t.errors.contact_person,helperText:t.touched.contact_person&&t.errors.contact_person,fullWidth:!0})}),e.jsx(v,{item:!0,xs:12,sm:6,children:e.jsx(l,{label:"Customer complaint",name:"description",value:t.values.description,onChange:t.handleChange,onBlur:t.handleBlur,error:t.touched.description&&!!t.errors.description,helperText:t.touched.description&&t.errors.description,fullWidth:!0})}),e.jsx(v,{item:!0,xs:12,sm:6,children:e.jsx(l,{label:"Contact Person Mobile No*",name:"mob_no",value:t.values.mob_no,onChange:t.handleChange,onBlur:t.handleBlur,error:t.touched.mob_no&&!!t.errors.mob_no,helperText:t.touched.mob_no&&t.errors.mob_no,fullWidth:!0})}),e.jsxs(v,{item:!0,xs:12,sm:6,children:[e.jsx(l,{label:"Location",name:"location",value:t.values.location,onChange:t.handleChange,onBlur:t.handleBlur,error:t.touched.location&&!!t.errors.location,helperText:t.touched.location&&t.errors.location,fullWidth:!0}),e.jsx(R,{size:"small",onClick:s,disabled:A,sx:{mt:1},children:A?e.jsx(ye,{size:16}):"Use Current Location"})]}),e.jsxs(v,{item:!0,xs:12,children:[e.jsx(ae,{variant:"h6",gutterBottom:!0,children:"Parts Requirement*(If any information available)"}),(z=(J=t==null?void 0:t.values)==null?void 0:J.breakdown_parts)==null?void 0:z.map((i,o)=>{var M;const b=(M=t.values)==null?void 0:M.breakdown_parts.map(m=>m.spare_parts).filter((m,_)=>_!==o),g=$.filter(m=>!b.includes(m.id));return e.jsxs(v,{container:!0,spacing:2,marginTop:"0px",alignItems:"center",children:[e.jsx(v,{item:!0,xs:12,md:6,children:e.jsx(Y,{options:g,getOptionLabel:m=>m.description,value:$.find(m=>m.id===i.spare_parts)||null,onChange:(m,_)=>t.setFieldValue(`breakdown_parts[${o}].spare_parts`,(_==null?void 0:_.id)||""),renderInput:m=>e.jsx(l,{...m,label:"Spare Part",fullWidth:!0})})}),e.jsx(v,{item:!0,xs:8,md:4,children:e.jsxs(W,{display:"flex",alignItems:"center",children:[e.jsx(H,{onClick:()=>t.setFieldValue(`breakdown_parts[${o}].quantity`,Math.max(1,i.quantity-1)),children:e.jsx(Le,{})}),e.jsx(l,{value:i.quantity,type:"number",inputProps:{min:1},onChange:m=>t.setFieldValue(`breakdown_parts[${o}].quantity`,parseInt(m.target.value,10)),sx:{width:90,mx:1,textAlign:"center"}}),e.jsx(H,{onClick:()=>t.setFieldValue(`breakdown_parts[${o}].quantity`,i.quantity+1),children:e.jsx(Fe,{})})]})}),e.jsx(v,{item:!0,xs:4,md:2,children:e.jsx(H,{color:"error",onClick:()=>{var _;const m=[...(_=t.values)==null?void 0:_.breakdown_parts];m.splice(o,1),t.setFieldValue("breakdown_parts",m)},children:e.jsx(Pe,{})})})]},o)}),e.jsx(R,{variant:"outlined",onClick:()=>{var b,g,M;const i=(g=(b=t.values)==null?void 0:b.breakdown_parts)==null?void 0:g.map(m=>m.spare_parts);if($.filter(m=>!(i!=null&&i.includes(m.id))).length===0){j.error("All available spare parts have already been added.");return}t.setFieldValue("breakdown_parts",[...(M=t.values)==null?void 0:M.breakdown_parts,{spare_parts:"",quantity:1}])},sx:{mt:2},children:"+ Add Spare Part"})]}),e.jsxs(v,{item:!0,xs:12,children:[e.jsx("input",{type:"file",onChange:a,accept:"image/*",style:{marginTop:"10px"}}),E&&e.jsx(W,{mt:1,children:e.jsx("img",{src:E,alt:"Preview",style:{width:"100px",height:"auto"}})})]}),e.jsx(v,{item:!0,xs:12,children:e.jsx(R,{variant:"contained",type:"submit",fullWidth:!0,disabled:I,children:I?"Submitting...":"Submit Breakdown"})})]})})})}const ie="https://wikitek.io/api/v1",We=({setIsAdd:h,setIsUpdate:q})=>{const{vehicleList:S}=D(a=>a.liveMap),N=he("(min-width:600px)"),[y,w]=L.useState(!1),[r,k]=L.useState(!1),T=K(),$=a=>{k(!0);const{firstName:s,lastName:n,email:t,mobile:d,password:f,vehicleNo:p,location:C,model:P,description:G}=a;console.log("Form Submitted:",a);let J={first_name:s,last_name:n,email:t,mobile:d,password:f};try{Q.post(`${ie}/users/new/user/register/`,J).then(i=>{var g;let o={ticket_id:"",user:(g=i==null?void 0:i.data)==null?void 0:g.id,status:"open",description:G,latlong:C,vehicle:p,model:P};Q.post(`${ie}/tickets/create/ticket/`,o).then(M=>{h(!1),q(!1),T(le()),k(!1),j.success("User registered and Ticket created successfully")}).catch(()=>{k(!1),j.error("Error occurred while creating ticket")})}).catch(i=>{k(!1),j.error("Error occurred while registering user")})}catch{k(!1),j.error("Error occurred while registering user")}},E=async a=>{w(!0),navigator.geolocation?navigator.geolocation.getCurrentPosition(async s=>{const{latitude:n,longitude:t}=s.coords;try{a("location",`${n},${t}`)}catch(d){console.error("Error fetching address:",d),j.error("Failed to convert coordinates to address.")}finally{w(!1)}},s=>{console.error("Geolocation Error:",s),j.error("Failed to retrieve location. Please try again."),w(!1)}):(j.error("Geolocation is not supported by this browser."),w(!1))},B=/^((\+[1-9]{1,4}[ -]?)|(\([0-9]{2,3}\)[ -]?)|([0-9]{2,4})[ -]?)*?[0-9]{3,4}[ -]?[0-9]{3,4}$/,V=U().shape({firstName:u().required("required"),lastName:u().required("required"),fullName:u().required("required"),vehicleNo:u().required("required"),model:u().required("required"),email:u().email("invalid email").required("required"),mobile:u().matches(B,"Phone number is not valid").required("required"),location:u().required("required"),password:u().required("required"),description:u().required("required")}),F=JSON.parse(localStorage.getItem("w_userDetails")),{email:I,first_name:O,last_name:A,mobile:c}=F,x={firstName:O||"",lastName:A||"",fullName:`${O} ${A}`||"",vehicleNo:"",email:I||"",model:"",mobile:c||"",location:"",password:"",description:""};return e.jsxs(W,{m:"20px",children:[r&&e.jsx(se,{}),e.jsx(pe,{onSubmit:$,initialValues:x,validationSchema:V,children:({values:a,errors:s,touched:n,handleBlur:t,handleChange:d,handleSubmit:f,setFieldValue:p})=>e.jsxs("form",{onSubmit:f,children:[e.jsxs(W,{display:"grid",gap:"30px",gridTemplateColumns:"repeat(4, minmax(0, 1fr))",sx:{"& > div":{gridColumn:N?void 0:"span 4"}},children:[e.jsx(l,{fullWidth:!0,variant:"filled",type:"text",label:"First Name",onBlur:t,onChange:d,value:a.firstName,name:"firstName",error:!!n.firstName&&!!s.firstName,helperText:n.firstName&&s.firstName,sx:{gridColumn:"span 2"}}),e.jsx(l,{fullWidth:!0,variant:"filled",type:"text",label:"Last Name",onBlur:t,onChange:d,value:a.lastName,name:"lastName",error:!!n.lastName&&!!s.lastName,helperText:n.lastName&&s.lastName,sx:{gridColumn:"span 2"}}),e.jsx(l,{fullWidth:!0,variant:"filled",type:"text",label:"Full Name",onBlur:t,onChange:d,value:a.fullName,name:"fullName",error:!!n.fullName&&!!s.fullName,helperText:n.fullName&&s.fullName,sx:{gridColumn:"span 2"}}),e.jsx(l,{fullWidth:!0,select:!0,variant:"filled",label:"Vehicle No",onBlur:t,onChange:C=>{const P=S.find(G=>G.registration_id===C.target.value);p("vehicleNo",C.target.value),p("model",(P==null?void 0:P.vehicle_model.name)||"")},value:a.vehicleNo,name:"vehicleNo",error:!!n.vehicleNo&&!!s.vehicleNo,helperText:n.vehicleNo&&s.vehicleNo,sx:{gridColumn:"span 2"},MenuProps:{PaperProps:{style:{maxHeight:200,overflowY:"auto"}}},children:S.map(C=>e.jsx(ne,{value:C.registration_id,children:C.registration_id},C.id))}),e.jsx(l,{fullWidth:!0,variant:"filled",type:"text",label:"Email",onBlur:t,onChange:d,value:a.email,name:"email",error:!!n.email&&!!s.email,helperText:n.email&&s.email,sx:{gridColumn:"span 2"}}),e.jsx(l,{fullWidth:!0,variant:"filled",type:"text",label:"Model",value:a==null?void 0:a.model,name:"model",disabled:!0,sx:{gridColumn:"span 2"}}),e.jsx(l,{fullWidth:!0,variant:"filled",type:"text",label:"Mobile",onBlur:t,onChange:d,value:a.mobile,name:"mobile",error:!!n.mobile&&!!s.mobile,helperText:n.mobile&&s.mobile,sx:{gridColumn:"span 2"}}),e.jsx(l,{fullWidth:!0,variant:"filled",type:"password",label:"Password",onBlur:t,onChange:d,value:a.password,name:"password",error:!!n.password&&!!s.password,helperText:n.password&&s.password,sx:{gridColumn:"span 2"}}),e.jsx(l,{fullWidth:!0,variant:"filled",type:"text",label:"Location",onBlur:t,onChange:d,value:a.location,name:"location",disabled:!0,error:!!n.location&&!!s.location,helperText:n.location&&s.location,sx:{gridColumn:"span 2"}}),e.jsx(l,{fullWidth:!0,variant:"filled",type:"text",label:"Description",onBlur:t,onChange:d,value:a.description,name:"description",error:!!n.description&&!!s.description,helperText:n.description&&s.description,sx:{gridColumn:"span 2"}}),e.jsx(R,{variant:"outlined",onClick:()=>E(p),disabled:y,sx:{mt:-2,width:"300px"},children:y?"Fetching Location...":"Use Current Location"})]}),e.jsx(W,{display:"flex",justifyContent:"center",mt:"25px",children:e.jsx(R,{type:"submit",color:"secondary",variant:"contained",children:"Submit"})})]})})]})},$e="https://wikitek.io/api/v1",Ee=({userId:h,setIsAdd:q,setIsUpdate:S})=>{const N=K(),{vehicleList:y}=D(c=>c.liveMap),w=he("(min-width:600px)"),[r,k]=L.useState(!1),T=c=>{const{description:x,vehicleNo:a,model:s,location:n}=c;let t={ticket_id:"",user:h,status:"open",description:x,latlong:n,vehicle:a,model:s};localStorage.getItem("w_userToken");try{Q.post(`${$e}/tickets/create/ticket/`,t).then(f=>{S(!1),q(!1),N(le()),j.success("Ticket created successfully")})}catch{j.error("Error occurred while creating ticket")}},$=async c=>{k(!0),navigator.geolocation?navigator.geolocation.getCurrentPosition(async x=>{const{latitude:a,longitude:s}=x.coords;try{c("location",`${a},${s}`)}catch(n){console.error("Error fetching address:",n),j.error("Failed to convert coordinates to address.")}finally{k(!1)}},x=>{console.error("Geolocation Error:",x),j.error("Failed to retrieve location. Please try again."),k(!1)}):(j.error("Geolocation is not supported by this browser."),k(!1))},E=U().shape({fullName:u().required("required"),vehicleNo:u().required("required"),model:u().required("required"),location:u().required("required"),description:u().required("required")}),B=JSON.parse(localStorage.getItem("w_userDetails")),{email:V,first_name:F,last_name:I,mobile:O}=B,A={fullName:`${F} ${I}`||"",vehicleNo:"",model:"",location:"",description:""};return e.jsx(W,{m:"20px",children:e.jsx(pe,{onSubmit:T,initialValues:A,validationSchema:E,children:({values:c,errors:x,touched:a,handleBlur:s,handleChange:n,handleSubmit:t,setFieldValue:d})=>e.jsxs("form",{onSubmit:t,children:[e.jsxs(W,{display:"grid",gap:"30px",gridTemplateColumns:"repeat(4, minmax(0, 1fr))",sx:{"& > div":{gridColumn:w?void 0:"span 4"}},children:[e.jsx(l,{fullWidth:!0,variant:"filled",type:"text",label:"Full Name",onBlur:s,onChange:n,value:c.fullName,name:"fullName",disabled:!0,error:!!a.fullName&&!!x.fullName,helperText:a.fullName&&x.fullName,sx:{gridColumn:"span 4"}}),e.jsx(l,{fullWidth:!0,select:!0,variant:"filled",label:"Vehicle No",onBlur:s,onChange:f=>{const p=y.find(C=>C.registration_id===f.target.value);d("vehicleNo",f.target.value),d("model",(p==null?void 0:p.vehicle_model.name)||"")},value:c.vehicleNo,name:"vehicleNo",error:!!a.vehicleNo&&!!x.vehicleNo,helperText:a.vehicleNo&&x.vehicleNo,sx:{gridColumn:"span 4"},SelectProps:{MenuProps:{PaperProps:{sx:{maxHeight:250,overflowY:"auto"}}}},children:y.map(f=>e.jsx(ne,{value:f.registration_id,children:f.registration_id},f.id))}),e.jsx(l,{fullWidth:!0,variant:"filled",type:"text",label:"Model",value:c.model,name:"model",disabled:!0,sx:{gridColumn:"span 4"}}),e.jsx(l,{fullWidth:!0,variant:"filled",type:"text",label:"Description",onBlur:s,onChange:n,value:c.description,name:"description",error:!!a.description&&!!x.description,helperText:a.description&&x.description,sx:{gridColumn:"span 4"}}),e.jsx(l,{fullWidth:!0,variant:"filled",type:"text",label:"Location",onBlur:s,onChange:n,value:c.location,name:"location",disabled:!0,error:!!a.location&&!!x.location,helperText:a.location&&x.location,sx:{gridColumn:"span 4"}}),e.jsx(R,{variant:"outlined",onClick:()=>$(d),disabled:r,sx:{mt:-2,width:"300px"},children:r?"Fetching Location...":"Use Current Location"})]}),e.jsx(W,{display:"flex",justifyContent:"center",mt:"25px",children:e.jsx(R,{type:"submit",sx:{backgroundColor:"#8DA6C6DD"},variant:"contained",children:"Submit"})})]})})})},Ae="https://wikitek.io/api/v1";function ze({where:h,isAdd:q,isUpdate:S,setIsUpdate:N,setIsAdd:y}){const{isAddBreakdown:w,isUpdateBreakdown:r,UpdatedBreakdownData:k}=D(a=>a.breakdown);let T=K();const[$,E]=L.useState(null),[B,V]=L.useState(!1),F=()=>{T(Z(!1)),T(oe(!1)),T(re(null)),y(!1),N(!1)},I=()=>{T(Z(!w))},O=async()=>{var t,d;V(!0);const a=JSON.parse(localStorage.getItem("w_userDetails")),{email:s}=a;let n={email:s};try{Q.post(`${Ae}/users/check/user`,n).then(p=>{var C,P;(C=p==null?void 0:p.data)!=null&&C.success?(E((P=p==null?void 0:p.data)==null?void 0:P.user_id),N(!0),y(!0)):E(null),V(!1)}).catch(p=>{N(!1),y(!0),V(!1),console.log("error",p)})}catch(f){console.log("eror",f),y(!0),N(!1),V(!1),(d=(t=f==null?void 0:f.response)==null?void 0:t.data)!=null&&d.success}},A={fontSize:"18px",fontWeight:500,lineHeight:"18.38px",textAlign:"center",paddingTop:"5px",fontFamily:"ubuntu"};let c=Ce("Breakdown");const x=(c==null?void 0:c.includes("Create"))||c==="Read-Write-Only";return e.jsxs(W,{sx:{bgcolor:"white",m:"10px",display:"flex",textAlign:"left",justifyContent:"space-between",alignItems:"center",borderRadius:"6px",padding:"20px"},children:[B&&e.jsx(se,{}),e.jsx(ae,{variant:"h6",sx:A,children:`${h} New Requests`}),h.toLowerCase()==="breakdown"&&x&&e.jsxs(R,{onClick:I,variant:"outlined",children:[e.jsx(te,{}),h]}),h.toLowerCase()==="rsa"&&e.jsxs(R,{onClick:O,sx:{color:"black",background:Ne.bgColor},children:[e.jsx(te,{}),"Raise ticket"]}),e.jsxs(ce,{open:w||r,onClose:F,maxWidth:"xl",fullWidth:!0,children:[e.jsxs(de,{children:[r?"Update":"Add"," Breakdown",e.jsx(H,{"aria-label":"close",onClick:F,sx:{position:"absolute",right:8,top:8,color:a=>a.palette.grey[500]},children:e.jsx(ue,{})})]}),e.jsx(me,{children:e.jsx(Be,{})})]}),e.jsx(Me,{isAdd:q,isUpdate:S,setIsUpdate:N,setIsAdd:y,handleClose:F,userId:$})]})}const Me=({isAdd:h,isUpdate:q,handleClose:S,userId:N,setIsAdd:y,setIsUpdate:w})=>e.jsxs(ce,{open:h,onClose:S,maxWidth:"md",fullWidth:!0,children:[e.jsxs(de,{children:[q?"Ticket For RSA":"Registration form for RSA",e.jsx(H,{"aria-label":"close",onClick:S,sx:{position:"absolute",right:8,top:8,color:r=>r.palette.grey[500]},children:e.jsx(ue,{})})]}),e.jsx(me,{children:q?e.jsx(Ee,{userId:N,setIsUpdate:w,setIsAdd:y,children:" "}):e.jsx(We,{setIsUpdate:w,setIsAdd:y})})]});export{ze as A};
