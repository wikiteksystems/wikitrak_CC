import{p as j,r as v,o as B,y as F,dW as N,j as e,B as w,ci as O,cj as V,cl as z,cS as D,m as M,n as R,E as W,C as d,T as $,w as q}from"./index-BHh91Wj8.js";const J=({handleParameterChange:C,parametersData:n,setParameterData:f})=>{const{selectedParameterList:i,selectedVehicle:t,loading:G}=j(r=>r.liveMap),{mode:k}=j(r=>r.dashboard),[S,P]=v.useState(""),T=B(),s=q(k);v.useEffect(()=>{Object.keys(t).length>0?I(t.reg_id):F.error("Please select a vehicle",{id:"clipboard"})},[]);const l=n&&n.length>0&&n.filter(r=>r.label.toLowerCase().includes(S.toLowerCase())),E=r=>{P(r.target.value)},I=async r=>{var g;const p=await T(N({w_registration_id:r})),h=[];let L=0;(g=p.payload)==null||g.map(o=>{o[o.parameter_type.toLowerCase()+"_parameter"].forEach(a=>{var x,_,m,y,b;const u=o.parameter_type==="Telematic"?a.short_name:o.parameter_type==="IVN"?a.pid_description:a.spn;h.push({reg_id:t.reg_id,imei:t.imei,id:a.id,_id:o.id,key:L++,label:u,param_type:o.parameter_type,param_header:(x=a==null?void 0:a.header)==null?void 0:x.device_header,unit:a==null?void 0:a.unit,param_id:o.id,vehicle_reg:(_=o==null?void 0:o.vehicle)==null?void 0:_.vin,param_group_id:(m=o.parameter_group[0])==null?void 0:m.id,param_group_name:(y=o.parameter_group[0])==null?void 0:y.group_name,param_group_color:(b=o.parameter_group[0])==null?void 0:b.color,checked:i[0].params.length>0&&i[0].params.some(A=>A.label===u)})})}),f(h)};return e.jsx(e.Fragment,{children:e.jsxs("div",{style:{backgroundColor:s.grey[100],position:"relative",height:"95vh"},children:[e.jsx(w,{sx:{align:"center",my:"15px",ml:"20px"},children:e.jsxs(O,{sx:{width:"90%",backgroundColor:s.grey[500]},variant:"outlined",children:[e.jsx(V,{htmlFor:"outlined-adornment-password",style:{marginTop:"-9px",color:s.grey[400]},children:"Search"}),e.jsx(z,{onChange:E,inputProps:{style:{padding:7}},id:"outlined-adornment-password",type:"text",endAdornment:e.jsx(D,{position:"end",children:e.jsx(M,{"aria-label":"toggle password visibility",edge:"end",children:e.jsx(R,{})})}),label:"Search"})]})}),l&&l.length>0?l.map((r,c)=>e.jsx(w,{sx:{align:"center",my:"6px",ml:"20px"},children:e.jsx(W,{variant:"outlined",sx:{width:"90%",bgcolor:r.checked?d.bgColor:"undefined",color:s.grey[400],border:`1px solid ${d.bgColor}`,fontSize:"12px","&:hover":{color:"black",border:"1px solid black",bgcolor:d.bgShadow}},onClick:p=>{C(r)},children:r.label})},c)):e.jsx("div",{children:e.jsx($,{sx:{width:"100%",textAlign:"center",mt:"100px"},children:"No Parameters Added"})})]})})};export{J as P};
