import{j as W,t as Gr,B as kr,k as qt,r as sn,T as ps,h as kd,p as Ge,i as ef,Q as $d,w as $r,m as Gd,v as Hd,W as Vo,K as Zd,L as zd,N as Kd,O as qd,X as Yo}from"./index-BdU3Ew27.js";import{L as Vd}from"./LiveMapTopBar-O9YgUolx.js";import{V as Yd}from"./VehicleMenu-CWfefavV.js";import{L as Xd,t as Jd}from"./LeftSideBar2-b6HzttQ3.js";import{F as Qd}from"./Loader-DLWH5BjR.js";import{L as jd}from"./LiveMapServices-ChSi7FBD.js";import{s as as}from"./Socket-0N_gnJcr.js";import{P as n0}from"./Parameters-pt0IG4fF.js";/* empty css           */import"./proj-XQwXs9DQ.js";import{V as t0}from"./VehicleGroups-Bh5yNNo_.js";import{u as e0,G as r0,M as i0}from"./esm-C12n-H35.js";import{B as gt,C as s0}from"./menu2-BBdAKh3d.js";import{d as u0}from"./Info-DskFBlB_.js";import{d as o0}from"./Close-Sl1fb4fO.js";import"./jcb-aCHXMCXy.js";import"./index-Dlz-xy7l.js";import"./TextField-BwmwAqJS.js";import"./useControlled-C3AiEP2O.js";import"./createSvgIcon-CdHsDEGX.js";import"./index-MpdUYtcr.js";import"./Card-CpY72C8a.js";import"./CardContent-C2s55LIo.js";function f0({activeParams:S}){return W.jsx(gt,{sx:{bgcolor:Gr.bgColor,position:"relative",color:"white",display:"flex",alignItems:"center",justifyContent:"space-around",overflowX:"hidden",flexWrap:"wrap",border:"1px solid white"},children:S&&S[0].params.length>0?W.jsxs(W.Fragment,{children:[S[0].params.length>0&&W.jsxs(kr,{variant:"outlined",sx:{color:"black",border:"1px solid white",fontSize:"12px",background:"white","&:hover":{border:"1px solid white",background:"transparent",color:"white"}},children:["Registration Id : ",S[0].reg_id]}),S.length>0&&S[0].params.map((f,i)=>{f.label==="maininputvoltage"&&console.log("item.label",f.label,f);const p=S[0].params.find(I=>I.label==="ignition"),g=p&&(p.value===!0||p.value===1)?f.value:0,y=f.label==="mainInputVoltage"||f.label==="maininputvoltage";return W.jsx(kr,{variant:"outlined",sx:{color:"black",border:"1px solid white",mx:"5px",my:"15px",fontSize:"12px",background:"white","&:hover":{border:"1px solid white",background:"transparent",color:"white"}},children:f.label==="speed"?`${f.label} : ${g} km/h`:y&&f.value!==void 0?`${f.label} : ${f.value} voltage`:f.label==="ignition"?`${f.label} : ${f.value===!0||(f==null?void 0:f.value)===1?"On":"Off"}`:`${f.label} : ${f.value!==void 0?f.value:""}`},i)})]}):W.jsx(W.Fragment,{children:W.jsx(kr,{variant:"outlined",sx:{color:"white",border:"1px solid white",mx:"5px",my:"15px"},children:"No Parameters Selected"})})})}const a0=({label:S,value:f})=>W.jsxs(gt,{sx:{display:"flex",justifyContent:"space-between",py:.5},children:[W.jsx(ps,{variant:"body2",color:"textSecondary",children:S}),W.jsx(ps,{variant:"body2",color:"textPrimary",fontWeight:"medium",children:f||"N/A"})]}),l0=(S,f)=>(S==null?void 0:S.find(i=>{var p,g;return((g=(p=i.imei)==null?void 0:p[0])==null?void 0:g.mac_id)===f.imei}))||{},Xo=({title:S,details:f})=>W.jsx(gt,{sx:{width:"45%"},children:f.map(({label:i,value:p})=>W.jsx(a0,{label:i,value:p},i))});function c0({handleVehicleInfo:S}){var m,F,O,C,k,$;const{collapsed:f}=qt(j=>j.auth),{vehicleList:i,selectedVehicle:p}=qt(j=>j.liveMap),[g,y]=sn.useState({});sn.useEffect(()=>{y(l0(i,p))},[i,p]);const I=[{label:"Vehicle No:",value:g==null?void 0:g.registration_id},{label:"Model:",value:(m=g==null?void 0:g.vehicle_model)==null?void 0:m.name},{label:"IMEI No:",value:(O=(F=g==null?void 0:g.imei)==null?void 0:F[0])==null?void 0:O.mac_id},{label:"Chassis No:",value:g==null?void 0:g.chassis_no},{label:"Engine No:",value:g==null?void 0:g.engine_no}],L=[{label:"Customer Name:",value:(C=g==null?void 0:g.user)!=null&&C.us_user?`${g.user.us_user.first_name.charAt(0).toUpperCase()}${g.user.us_user.first_name.slice(1)} ${g.user.us_user.last_name.charAt(0).toUpperCase()}${g.user.us_user.last_name.slice(1)}`:null},{label:"Mobile: ",value:((k=g==null?void 0:g.user)==null?void 0:k.us_user)&&g.user.us_user.mobile},{label:"Date of Sell:",value:g==null?void 0:g.sell_date},{label:"Workshop Name:",value:($=g==null?void 0:g.workshop)==null?void 0:$.name}];return W.jsxs(gt,{sx:{position:"absolute",top:"600px",left:f?"280px":"450px",zIndex:1,background:Gr.bgShadow,p:2,borderRadius:2,color:"white",width:"60%",boxShadow:"0px 4px 12px rgba(0,0,0,0.4)"},children:[W.jsxs(gt,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[W.jsx(ps,{variant:"h5",sx:{fontWeight:"bold",color:"black"},children:"Vehicle Information"}),W.jsx(o0,{sx:{cursor:"pointer",color:"black"},onClick:S})]}),W.jsxs(gt,{sx:{display:"flex",justifyContent:"space-between"},children:[W.jsx(Xo,{title:"Vehicle Details",details:I}),W.jsx(Xo,{title:"Customer Details",details:L})]})]})}var h0=function S(f,i){if(f===i)return!0;if(f&&i&&typeof f=="object"&&typeof i=="object"){if(f.constructor!==i.constructor)return!1;var p,g,y;if(Array.isArray(f)){if(p=f.length,p!=i.length)return!1;for(g=p;g--!==0;)if(!S(f[g],i[g]))return!1;return!0}if(f.constructor===RegExp)return f.source===i.source&&f.flags===i.flags;if(f.valueOf!==Object.prototype.valueOf)return f.valueOf()===i.valueOf();if(f.toString!==Object.prototype.toString)return f.toString()===i.toString();if(y=Object.keys(f),p=y.length,p!==Object.keys(i).length)return!1;for(g=p;g--!==0;)if(!Object.prototype.hasOwnProperty.call(i,y[g]))return!1;for(g=p;g--!==0;){var I=y[g];if(!S(f[I],i[I]))return!1}return!0}return f!==f&&i!==i};const Jo=kd(h0),Qo=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],ls=1,He=8;class _s{static from(f){if(!(f instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[i,p]=new Uint8Array(f,0,2);if(i!==219)throw new Error("Data does not appear to be in a KDBush format.");const g=p>>4;if(g!==ls)throw new Error(`Got v${g} data when expected v${ls}.`);const y=Qo[p&15];if(!y)throw new Error("Unrecognized array type.");const[I]=new Uint16Array(f,2,1),[L]=new Uint32Array(f,4,1);return new _s(L,I,y,f)}constructor(f,i=64,p=Float64Array,g){if(isNaN(f)||f<0)throw new Error(`Unpexpected numItems value: ${f}.`);this.numItems=+f,this.nodeSize=Math.min(Math.max(+i,2),65535),this.ArrayType=p,this.IndexArrayType=f<65536?Uint16Array:Uint32Array;const y=Qo.indexOf(this.ArrayType),I=f*2*this.ArrayType.BYTES_PER_ELEMENT,L=f*this.IndexArrayType.BYTES_PER_ELEMENT,m=(8-L%8)%8;if(y<0)throw new Error(`Unexpected typed array class: ${p}.`);g&&g instanceof ArrayBuffer?(this.data=g,this.ids=new this.IndexArrayType(this.data,He,f),this.coords=new this.ArrayType(this.data,He+L+m,f*2),this._pos=f*2,this._finished=!0):(this.data=new ArrayBuffer(He+I+L+m),this.ids=new this.IndexArrayType(this.data,He,f),this.coords=new this.ArrayType(this.data,He+L+m,f*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(ls<<4)+y]),new Uint16Array(this.data,2,1)[0]=i,new Uint32Array(this.data,4,1)[0]=f)}add(f,i){const p=this._pos>>1;return this.ids[p]=p,this.coords[this._pos++]=f,this.coords[this._pos++]=i,p}finish(){const f=this._pos>>1;if(f!==this.numItems)throw new Error(`Added ${f} items when expected ${this.numItems}.`);return gs(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(f,i,p,g){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:y,coords:I,nodeSize:L}=this,m=[0,y.length-1,0],F=[];for(;m.length;){const O=m.pop()||0,C=m.pop()||0,k=m.pop()||0;if(C-k<=L){for(let Z=k;Z<=C;Z++){const X=I[2*Z],In=I[2*Z+1];X>=f&&X<=p&&In>=i&&In<=g&&F.push(y[Z])}continue}const $=k+C>>1,j=I[2*$],Y=I[2*$+1];j>=f&&j<=p&&Y>=i&&Y<=g&&F.push(y[$]),(O===0?f<=j:i<=Y)&&(m.push(k),m.push($-1),m.push(1-O)),(O===0?p>=j:g>=Y)&&(m.push($+1),m.push(C),m.push(1-O))}return F}within(f,i,p){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:g,coords:y,nodeSize:I}=this,L=[0,g.length-1,0],m=[],F=p*p;for(;L.length;){const O=L.pop()||0,C=L.pop()||0,k=L.pop()||0;if(C-k<=I){for(let Z=k;Z<=C;Z++)jo(y[2*Z],y[2*Z+1],f,i)<=F&&m.push(g[Z]);continue}const $=k+C>>1,j=y[2*$],Y=y[2*$+1];jo(j,Y,f,i)<=F&&m.push(g[$]),(O===0?f-p<=j:i-p<=Y)&&(L.push(k),L.push($-1),L.push(1-O)),(O===0?f+p>=j:i+p>=Y)&&(L.push($+1),L.push(C),L.push(1-O))}return m}}function gs(S,f,i,p,g,y){if(g-p<=i)return;const I=p+g>>1;rf(S,f,I,p,g,y),gs(S,f,i,p,I-1,1-y),gs(S,f,i,I+1,g,1-y)}function rf(S,f,i,p,g,y){for(;g>p;){if(g-p>600){const F=g-p+1,O=i-p+1,C=Math.log(F),k=.5*Math.exp(2*C/3),$=.5*Math.sqrt(C*k*(F-k)/F)*(O-F/2<0?-1:1),j=Math.max(p,Math.floor(i-O*k/F+$)),Y=Math.min(g,Math.floor(i+(F-O)*k/F+$));rf(S,f,i,j,Y,y)}const I=f[2*i+y];let L=p,m=g;for(Ze(S,f,p,i),f[2*g+y]>I&&Ze(S,f,p,g);L<m;){for(Ze(S,f,L,m),L++,m--;f[2*L+y]<I;)L++;for(;f[2*m+y]>I;)m--}f[2*p+y]===I?Ze(S,f,p,m):(m++,Ze(S,f,m,g)),m<=i&&(p=m+1),i<=m&&(g=m-1)}}function Ze(S,f,i,p){cs(S,i,p),cs(f,2*i,2*p),cs(f,2*i+1,2*p+1)}function cs(S,f,i){const p=S[f];S[f]=S[i],S[i]=p}function jo(S,f,i,p){const g=S-i,y=f-p;return g*g+y*y}const p0={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:S=>S},nf=Math.fround||(S=>f=>(S[0]=+f,S[0]))(new Float32Array(1)),fe=2,Kt=3,hs=4,zt=5,sf=6;class g0{constructor(f){this.options=Object.assign(Object.create(p0),f),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(f){const{log:i,minZoom:p,maxZoom:g}=this.options;i&&console.time("total time");const y=`prepare ${f.length} points`;i&&console.time(y),this.points=f;const I=[];for(let m=0;m<f.length;m++){const F=f[m];if(!F.geometry)continue;const[O,C]=F.geometry.coordinates,k=nf(Wr(O)),$=nf(Nr(C));I.push(k,$,1/0,m,-1,1),this.options.reduce&&I.push(0)}let L=this.trees[g+1]=this._createTree(I);i&&console.timeEnd(y);for(let m=g;m>=p;m--){const F=+Date.now();L=this.trees[m]=this._createTree(this._cluster(L,m)),i&&console.log("z%d: %d clusters in %dms",m,L.numItems,+Date.now()-F)}return i&&console.timeEnd("total time"),this}getClusters(f,i){let p=((f[0]+180)%360+360)%360-180;const g=Math.max(-90,Math.min(90,f[1]));let y=f[2]===180?180:((f[2]+180)%360+360)%360-180;const I=Math.max(-90,Math.min(90,f[3]));if(f[2]-f[0]>=360)p=-180,y=180;else if(p>y){const C=this.getClusters([p,g,180,I],i),k=this.getClusters([-180,g,y,I],i);return C.concat(k)}const L=this.trees[this._limitZoom(i)],m=L.range(Wr(p),Nr(I),Wr(y),Nr(g)),F=L.data,O=[];for(const C of m){const k=this.stride*C;O.push(F[k+zt]>1?tf(F,k,this.clusterProps):this.points[F[k+Kt]])}return O}getChildren(f){const i=this._getOriginId(f),p=this._getOriginZoom(f),g="No cluster with the specified id.",y=this.trees[p];if(!y)throw new Error(g);const I=y.data;if(i*this.stride>=I.length)throw new Error(g);const L=this.options.radius/(this.options.extent*Math.pow(2,p-1)),m=I[i*this.stride],F=I[i*this.stride+1],O=y.within(m,F,L),C=[];for(const k of O){const $=k*this.stride;I[$+hs]===f&&C.push(I[$+zt]>1?tf(I,$,this.clusterProps):this.points[I[$+Kt]])}if(C.length===0)throw new Error(g);return C}getLeaves(f,i,p){i=i||10,p=p||0;const g=[];return this._appendLeaves(g,f,i,p,0),g}getTile(f,i,p){const g=this.trees[this._limitZoom(f)],y=Math.pow(2,f),{extent:I,radius:L}=this.options,m=L/I,F=(p-m)/y,O=(p+1+m)/y,C={features:[]};return this._addTileFeatures(g.range((i-m)/y,F,(i+1+m)/y,O),g.data,i,p,y,C),i===0&&this._addTileFeatures(g.range(1-m/y,F,1,O),g.data,y,p,y,C),i===y-1&&this._addTileFeatures(g.range(0,F,m/y,O),g.data,-1,p,y,C),C.features.length?C:null}getClusterExpansionZoom(f){let i=this._getOriginZoom(f)-1;for(;i<=this.options.maxZoom;){const p=this.getChildren(f);if(i++,p.length!==1)break;f=p[0].properties.cluster_id}return i}_appendLeaves(f,i,p,g,y){const I=this.getChildren(i);for(const L of I){const m=L.properties;if(m&&m.cluster?y+m.point_count<=g?y+=m.point_count:y=this._appendLeaves(f,m.cluster_id,p,g,y):y<g?y++:f.push(L),f.length===p)break}return y}_createTree(f){const i=new _s(f.length/this.stride|0,this.options.nodeSize,Float32Array);for(let p=0;p<f.length;p+=this.stride)i.add(f[p],f[p+1]);return i.finish(),i.data=f,i}_addTileFeatures(f,i,p,g,y,I){for(const L of f){const m=L*this.stride,F=i[m+zt]>1;let O,C,k;if(F)O=uf(i,m,this.clusterProps),C=i[m],k=i[m+1];else{const Y=this.points[i[m+Kt]];O=Y.properties;const[Z,X]=Y.geometry.coordinates;C=Wr(Z),k=Nr(X)}const $={type:1,geometry:[[Math.round(this.options.extent*(C*y-p)),Math.round(this.options.extent*(k*y-g))]],tags:O};let j;F||this.options.generateId?j=i[m+Kt]:j=this.points[i[m+Kt]].id,j!==void 0&&($.id=j),I.features.push($)}}_limitZoom(f){return Math.max(this.options.minZoom,Math.min(Math.floor(+f),this.options.maxZoom+1))}_cluster(f,i){const{radius:p,extent:g,reduce:y,minPoints:I}=this.options,L=p/(g*Math.pow(2,i)),m=f.data,F=[],O=this.stride;for(let C=0;C<m.length;C+=O){if(m[C+fe]<=i)continue;m[C+fe]=i;const k=m[C],$=m[C+1],j=f.within(m[C],m[C+1],L),Y=m[C+zt];let Z=Y;for(const X of j){const In=X*O;m[In+fe]>i&&(Z+=m[In+zt])}if(Z>Y&&Z>=I){let X=k*Y,In=$*Y,cn,Fn=-1;const dn=((C/O|0)<<5)+(i+1)+this.points.length;for(const $n of j){const en=$n*O;if(m[en+fe]<=i)continue;m[en+fe]=i;const qn=m[en+zt];X+=m[en]*qn,In+=m[en+1]*qn,m[en+hs]=dn,y&&(cn||(cn=this._map(m,C,!0),Fn=this.clusterProps.length,this.clusterProps.push(cn)),y(cn,this._map(m,en)))}m[C+hs]=dn,F.push(X/Z,In/Z,1/0,dn,-1,Z),y&&F.push(Fn)}else{for(let X=0;X<O;X++)F.push(m[C+X]);if(Z>1)for(const X of j){const In=X*O;if(!(m[In+fe]<=i)){m[In+fe]=i;for(let cn=0;cn<O;cn++)F.push(m[In+cn])}}}}return F}_getOriginId(f){return f-this.points.length>>5}_getOriginZoom(f){return(f-this.points.length)%32}_map(f,i,p){if(f[i+zt]>1){const I=this.clusterProps[f[i+sf]];return p?Object.assign({},I):I}const g=this.points[f[i+Kt]].properties,y=this.options.map(g);return p&&y===g?Object.assign({},y):y}}function tf(S,f,i){return{type:"Feature",id:S[f+Kt],properties:uf(S,f,i),geometry:{type:"Point",coordinates:[d0(S[f]),_0(S[f+1])]}}}function uf(S,f,i){const p=S[f+zt],g=p>=1e4?`${Math.round(p/1e3)}k`:p>=1e3?`${Math.round(p/100)/10}k`:p,y=S[f+sf],I=y===-1?{}:Object.assign({},i[y]);return Object.assign(I,{cluster:!0,cluster_id:S[f+Kt],point_count:p,point_count_abbreviated:g})}function Wr(S){return S/360+.5}function Nr(S){const f=Math.sin(S*Math.PI/180),i=.5-.25*Math.log((1+f)/(1-f))/Math.PI;return i<0?0:i>1?1:i}function d0(S){return(S-.5)*360}function _0(S){const f=(180-S*360)*Math.PI/180;return 360*Math.atan(Math.exp(f))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function v0(S,f){var i={};for(var p in S)Object.prototype.hasOwnProperty.call(S,p)&&f.indexOf(p)<0&&(i[p]=S[p]);if(S!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,p=Object.getOwnPropertySymbols(S);g<p.length;g++)f.indexOf(p[g])<0&&Object.prototype.propertyIsEnumerable.call(S,p[g])&&(i[p[g]]=S[p[g]]);return i}class et{static isAdvancedMarkerAvailable(f){return google.maps.marker&&f.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(f){return google.maps.marker&&f instanceof google.maps.marker.AdvancedMarkerElement}static setMap(f,i){this.isAdvancedMarker(f)?f.map=i:f.setMap(i)}static getPosition(f){if(this.isAdvancedMarker(f)){if(f.position){if(f.position instanceof google.maps.LatLng)return f.position;if(f.position.lat&&f.position.lng)return new google.maps.LatLng(f.position.lat,f.position.lng)}return new google.maps.LatLng(null)}return f.getPosition()}static getVisible(f){return this.isAdvancedMarker(f)?!0:f.getVisible()}}class ds{constructor({markers:f,position:i}){this.markers=f,i&&(i instanceof google.maps.LatLng?this._position=i:this._position=new google.maps.LatLng(i))}get bounds(){if(this.markers.length===0&&!this._position)return;const f=new google.maps.LatLngBounds(this._position,this._position);for(const i of this.markers)f.extend(et.getPosition(i));return f}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(f=>et.getVisible(f)).length}push(f){this.markers.push(f)}delete(){this.marker&&(et.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class w0{constructor({maxZoom:f=16}){this.maxZoom=f}noop({markers:f}){return x0(f)}}const x0=S=>S.map(i=>new ds({position:et.getPosition(i),markers:[i]}));class m0 extends w0{constructor(f){var{maxZoom:i,radius:p=60}=f,g=v0(f,["maxZoom","radius"]);super({maxZoom:i}),this.state={zoom:-1},this.superCluster=new g0(Object.assign({maxZoom:this.maxZoom,radius:p},g))}calculate(f){let i=!1;const p={zoom:f.map.getZoom()};if(!Jo(f.markers,this.markers)){i=!0,this.markers=[...f.markers];const g=this.markers.map(y=>{const I=et.getPosition(y);return{type:"Feature",geometry:{type:"Point",coordinates:[I.lng(),I.lat()]},properties:{marker:y}}});this.superCluster.load(g)}return i||(this.state.zoom<=this.maxZoom||p.zoom<=this.maxZoom)&&(i=!Jo(this.state,p)),this.state=p,i&&(this.clusters=this.cluster(f)),{clusters:this.clusters,changed:i}}cluster({map:f}){return this.superCluster.getClusters([-180,-90,180,90],Math.round(f.getZoom())).map(i=>this.transformCluster(i))}transformCluster({geometry:{coordinates:[f,i]},properties:p}){if(p.cluster)return new ds({markers:this.superCluster.getLeaves(p.cluster_id,1/0).map(y=>y.properties.marker),position:{lat:i,lng:f}});const g=p.marker;return new ds({markers:[g],position:et.getPosition(g)})}}class y0{constructor(f,i){this.markers={sum:f.length};const p=i.map(y=>y.count),g=p.reduce((y,I)=>y+I,0);this.clusters={count:i.length,markers:{mean:g/i.length,sum:g,min:Math.min(...p),max:Math.max(...p)}}}}class A0{render({count:f,position:i},p,g){const I=`<svg fill="${f>Math.max(10,p.clusters.markers.mean)?"#ff0000":"#0000ff"}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">${f}</text>
</svg>`,L=`Cluster of ${f} markers`,m=Number(google.maps.Marker.MAX_ZINDEX)+f;if(et.isAdvancedMarkerAvailable(g)){const C=new DOMParser().parseFromString(I,"image/svg+xml").documentElement;C.setAttribute("transform","translate(0 25)");const k={map:g,position:i,zIndex:m,title:L,content:C};return new google.maps.marker.AdvancedMarkerElement(k)}const F={position:i,zIndex:m,title:L,icon:{url:`data:image/svg+xml;base64,${btoa(I)}`,anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(F)}}function S0(S,f){for(let i in f.prototype)S.prototype[i]=f.prototype[i]}class vs{constructor(){S0(vs,google.maps.OverlayView)}}var ze;(function(S){S.CLUSTERING_BEGIN="clusteringbegin",S.CLUSTERING_END="clusteringend",S.CLUSTER_CLICK="click"})(ze||(ze={}));const I0=(S,f,i)=>{i.fitBounds(f.bounds)};class E0 extends vs{constructor({map:f,markers:i=[],algorithmOptions:p={},algorithm:g=new m0(p),renderer:y=new A0,onClusterClick:I=I0}){super(),this.markers=[...i],this.clusters=[],this.algorithm=g,this.renderer=y,this.onClusterClick=I,f&&this.setMap(f)}addMarker(f,i){this.markers.includes(f)||(this.markers.push(f),i||this.render())}addMarkers(f,i){f.forEach(p=>{this.addMarker(p,!0)}),i||this.render()}removeMarker(f,i){const p=this.markers.indexOf(f);return p===-1?!1:(et.setMap(f,null),this.markers.splice(p,1),i||this.render(),!0)}removeMarkers(f,i){let p=!1;return f.forEach(g=>{p=this.removeMarker(g,!0)||p}),p&&!i&&this.render(),p}clearMarkers(f){this.markers.length=0,f||this.render()}render(){const f=this.getMap();if(f instanceof google.maps.Map&&f.getProjection()){google.maps.event.trigger(this,ze.CLUSTERING_BEGIN,this);const{clusters:i,changed:p}=this.algorithm.calculate({markers:this.markers,map:f,mapCanvasProjection:this.getProjection()});if(p||p==null){const g=new Set;for(const I of i)I.markers.length==1&&g.add(I.markers[0]);const y=[];for(const I of this.clusters)I.marker!=null&&(I.markers.length==1?g.has(I.marker)||et.setMap(I.marker,null):y.push(I.marker));this.clusters=i,this.renderClusters(),requestAnimationFrame(()=>y.forEach(I=>et.setMap(I,null)))}google.maps.event.trigger(this,ze.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(f=>et.setMap(f,null)),this.clusters.forEach(f=>f.delete()),this.clusters=[]}renderClusters(){const f=new y0(this.markers,this.clusters),i=this.getMap();this.clusters.forEach(p=>{p.markers.length===1?p.marker=p.markers[0]:(p.marker=this.renderer.render(p,f,i),p.markers.forEach(g=>et.setMap(g,null)),this.onClusterClick&&p.marker.addListener("click",g=>{google.maps.event.trigger(this,ze.CLUSTER_CLICK,p),this.onClusterClick(g,p,i)})),et.setMap(p.marker,i)})}}var Hr={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Hr.exports;(function(S,f){(function(){var i,p="4.17.21",g=200,y="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",I="Expected a function",L="Invalid `variable` option passed into `_.template`",m="__lodash_hash_undefined__",F=500,O="__lodash_placeholder__",C=1,k=2,$=4,j=1,Y=2,Z=1,X=2,In=4,cn=8,Fn=16,dn=32,$n=64,en=128,qn=256,Vt=512,ae=30,vn="...",mn=800,Un=16,dt=1,Ct=2,B=3,Sn=1/0,En=9007199254740991,rt=17976931348623157e292,Cn=NaN,Mn=4294967295,Zr=Mn-1,zr=Mn>>>1,Kr=[["ary",en],["bind",Z],["bindKey",X],["curry",cn],["curryRight",Fn],["flip",Vt],["partial",dn],["partialRight",$n],["rearg",qn]],yt="[object Arguments]",le="[object Array]",qr="[object AsyncFunction]",Yt="[object Boolean]",Xt="[object Date]",Ke="[object DOMException]",ce="[object Error]",he="[object Function]",qe="[object GeneratorFunction]",Vn="[object Map]",Jt="[object Number]",Vr="[object Null]",_t="[object Object]",Ve="[object Promise]",Ye="[object Proxy]",Qt="[object RegExp]",x="[object Set]",R="[object String]",U="[object Symbol]",q="[object Undefined]",J="[object WeakMap]",on="[object WeakSet]",an="[object ArrayBuffer]",hn="[object DataView]",Gn="[object Float32Array]",wn="[object Float64Array]",Yn="[object Int8Array]",Bn="[object Int16Array]",it="[object Int32Array]",At="[object Uint8Array]",st="[object Uint8ClampedArray]",Yr="[object Uint16Array]",Xr="[object Uint32Array]",of=/\b__p \+= '';/g,ff=/\b(__p \+=) '' \+/g,af=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ws=/&(?:amp|lt|gt|quot|#39);/g,xs=/[&<>"']/g,lf=RegExp(ws.source),cf=RegExp(xs.source),hf=/<%-([\s\S]+?)%>/g,pf=/<%([\s\S]+?)%>/g,ms=/<%=([\s\S]+?)%>/g,gf=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,df=/^\w*$/,_f=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Jr=/[\\^$.*+?()[\]{}|]/g,vf=RegExp(Jr.source),Qr=/^\s+/,wf=/\s/,xf=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,mf=/\{\n\/\* \[wrapped with (.+)\] \*/,yf=/,? & /,Af=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Sf=/[()=,{}\[\]\/\s]/,If=/\\(\\)?/g,Ef=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ys=/\w*$/,Cf=/^[-+]0x[0-9a-f]+$/i,bf=/^0b[01]+$/i,Lf=/^\[object .+?Constructor\]$/,Mf=/^0o[0-7]+$/i,Rf=/^(?:0|[1-9]\d*)$/,Of=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Xe=/($^)/,Tf=/['\n\r\u2028\u2029\\]/g,Je="\\ud800-\\udfff",Pf="\\u0300-\\u036f",Df="\\ufe20-\\ufe2f",Ff="\\u20d0-\\u20ff",As=Pf+Df+Ff,Ss="\\u2700-\\u27bf",Is="a-z\\xdf-\\xf6\\xf8-\\xff",Uf="\\xac\\xb1\\xd7\\xf7",Bf="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Wf="\\u2000-\\u206f",Nf=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Es="A-Z\\xc0-\\xd6\\xd8-\\xde",Cs="\\ufe0e\\ufe0f",bs=Uf+Bf+Wf+Nf,jr="['’]",kf="["+Je+"]",Ls="["+bs+"]",Qe="["+As+"]",Ms="\\d+",$f="["+Ss+"]",Rs="["+Is+"]",Os="[^"+Je+bs+Ms+Ss+Is+Es+"]",ni="\\ud83c[\\udffb-\\udfff]",Gf="(?:"+Qe+"|"+ni+")",Ts="[^"+Je+"]",ti="(?:\\ud83c[\\udde6-\\uddff]){2}",ei="[\\ud800-\\udbff][\\udc00-\\udfff]",pe="["+Es+"]",Ps="\\u200d",Ds="(?:"+Rs+"|"+Os+")",Hf="(?:"+pe+"|"+Os+")",Fs="(?:"+jr+"(?:d|ll|m|re|s|t|ve))?",Us="(?:"+jr+"(?:D|LL|M|RE|S|T|VE))?",Bs=Gf+"?",Ws="["+Cs+"]?",Zf="(?:"+Ps+"(?:"+[Ts,ti,ei].join("|")+")"+Ws+Bs+")*",zf="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Kf="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ns=Ws+Bs+Zf,qf="(?:"+[$f,ti,ei].join("|")+")"+Ns,Vf="(?:"+[Ts+Qe+"?",Qe,ti,ei,kf].join("|")+")",Yf=RegExp(jr,"g"),Xf=RegExp(Qe,"g"),ri=RegExp(ni+"(?="+ni+")|"+Vf+Ns,"g"),Jf=RegExp([pe+"?"+Rs+"+"+Fs+"(?="+[Ls,pe,"$"].join("|")+")",Hf+"+"+Us+"(?="+[Ls,pe+Ds,"$"].join("|")+")",pe+"?"+Ds+"+"+Fs,pe+"+"+Us,Kf,zf,Ms,qf].join("|"),"g"),Qf=RegExp("["+Ps+Je+As+Cs+"]"),jf=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,na=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ta=-1,pn={};pn[Gn]=pn[wn]=pn[Yn]=pn[Bn]=pn[it]=pn[At]=pn[st]=pn[Yr]=pn[Xr]=!0,pn[yt]=pn[le]=pn[an]=pn[Yt]=pn[hn]=pn[Xt]=pn[ce]=pn[he]=pn[Vn]=pn[Jt]=pn[_t]=pn[Qt]=pn[x]=pn[R]=pn[J]=!1;var ln={};ln[yt]=ln[le]=ln[an]=ln[hn]=ln[Yt]=ln[Xt]=ln[Gn]=ln[wn]=ln[Yn]=ln[Bn]=ln[it]=ln[Vn]=ln[Jt]=ln[_t]=ln[Qt]=ln[x]=ln[R]=ln[U]=ln[At]=ln[st]=ln[Yr]=ln[Xr]=!0,ln[ce]=ln[he]=ln[J]=!1;var ea={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},ra={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ia={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},sa={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ua=parseFloat,oa=parseInt,ks=typeof Ge=="object"&&Ge&&Ge.Object===Object&&Ge,fa=typeof self=="object"&&self&&self.Object===Object&&self,On=ks||fa||Function("return this")(),ii=f&&!f.nodeType&&f,jt=ii&&!0&&S&&!S.nodeType&&S,$s=jt&&jt.exports===ii,si=$s&&ks.process,ut=function(){try{var c=jt&&jt.require&&jt.require("util").types;return c||si&&si.binding&&si.binding("util")}catch{}}(),Gs=ut&&ut.isArrayBuffer,Hs=ut&&ut.isDate,Zs=ut&&ut.isMap,zs=ut&&ut.isRegExp,Ks=ut&&ut.isSet,qs=ut&&ut.isTypedArray;function Xn(c,_,d){switch(d.length){case 0:return c.call(_);case 1:return c.call(_,d[0]);case 2:return c.call(_,d[0],d[1]);case 3:return c.call(_,d[0],d[1],d[2])}return c.apply(_,d)}function aa(c,_,d,b){for(var N=-1,tn=c==null?0:c.length;++N<tn;){var bn=c[N];_(b,bn,d(bn),c)}return b}function ot(c,_){for(var d=-1,b=c==null?0:c.length;++d<b&&_(c[d],d,c)!==!1;);return c}function la(c,_){for(var d=c==null?0:c.length;d--&&_(c[d],d,c)!==!1;);return c}function Vs(c,_){for(var d=-1,b=c==null?0:c.length;++d<b;)if(!_(c[d],d,c))return!1;return!0}function Ut(c,_){for(var d=-1,b=c==null?0:c.length,N=0,tn=[];++d<b;){var bn=c[d];_(bn,d,c)&&(tn[N++]=bn)}return tn}function je(c,_){var d=c==null?0:c.length;return!!d&&ge(c,_,0)>-1}function ui(c,_,d){for(var b=-1,N=c==null?0:c.length;++b<N;)if(d(_,c[b]))return!0;return!1}function gn(c,_){for(var d=-1,b=c==null?0:c.length,N=Array(b);++d<b;)N[d]=_(c[d],d,c);return N}function Bt(c,_){for(var d=-1,b=_.length,N=c.length;++d<b;)c[N+d]=_[d];return c}function oi(c,_,d,b){var N=-1,tn=c==null?0:c.length;for(b&&tn&&(d=c[++N]);++N<tn;)d=_(d,c[N],N,c);return d}function ca(c,_,d,b){var N=c==null?0:c.length;for(b&&N&&(d=c[--N]);N--;)d=_(d,c[N],N,c);return d}function fi(c,_){for(var d=-1,b=c==null?0:c.length;++d<b;)if(_(c[d],d,c))return!0;return!1}var ha=ai("length");function pa(c){return c.split("")}function ga(c){return c.match(Af)||[]}function Ys(c,_,d){var b;return d(c,function(N,tn,bn){if(_(N,tn,bn))return b=tn,!1}),b}function nr(c,_,d,b){for(var N=c.length,tn=d+(b?1:-1);b?tn--:++tn<N;)if(_(c[tn],tn,c))return tn;return-1}function ge(c,_,d){return _===_?Ca(c,_,d):nr(c,Xs,d)}function da(c,_,d,b){for(var N=d-1,tn=c.length;++N<tn;)if(b(c[N],_))return N;return-1}function Xs(c){return c!==c}function Js(c,_){var d=c==null?0:c.length;return d?ci(c,_)/d:Cn}function ai(c){return function(_){return _==null?i:_[c]}}function li(c){return function(_){return c==null?i:c[_]}}function Qs(c,_,d,b,N){return N(c,function(tn,bn,fn){d=b?(b=!1,tn):_(d,tn,bn,fn)}),d}function _a(c,_){var d=c.length;for(c.sort(_);d--;)c[d]=c[d].value;return c}function ci(c,_){for(var d,b=-1,N=c.length;++b<N;){var tn=_(c[b]);tn!==i&&(d=d===i?tn:d+tn)}return d}function hi(c,_){for(var d=-1,b=Array(c);++d<c;)b[d]=_(d);return b}function va(c,_){return gn(_,function(d){return[d,c[d]]})}function js(c){return c&&c.slice(0,ru(c)+1).replace(Qr,"")}function Jn(c){return function(_){return c(_)}}function pi(c,_){return gn(_,function(d){return c[d]})}function be(c,_){return c.has(_)}function nu(c,_){for(var d=-1,b=c.length;++d<b&&ge(_,c[d],0)>-1;);return d}function tu(c,_){for(var d=c.length;d--&&ge(_,c[d],0)>-1;);return d}function wa(c,_){for(var d=c.length,b=0;d--;)c[d]===_&&++b;return b}var xa=li(ea),ma=li(ra);function ya(c){return"\\"+sa[c]}function Aa(c,_){return c==null?i:c[_]}function de(c){return Qf.test(c)}function Sa(c){return jf.test(c)}function Ia(c){for(var _,d=[];!(_=c.next()).done;)d.push(_.value);return d}function gi(c){var _=-1,d=Array(c.size);return c.forEach(function(b,N){d[++_]=[N,b]}),d}function eu(c,_){return function(d){return c(_(d))}}function Wt(c,_){for(var d=-1,b=c.length,N=0,tn=[];++d<b;){var bn=c[d];(bn===_||bn===O)&&(c[d]=O,tn[N++]=d)}return tn}function tr(c){var _=-1,d=Array(c.size);return c.forEach(function(b){d[++_]=b}),d}function Ea(c){var _=-1,d=Array(c.size);return c.forEach(function(b){d[++_]=[b,b]}),d}function Ca(c,_,d){for(var b=d-1,N=c.length;++b<N;)if(c[b]===_)return b;return-1}function ba(c,_,d){for(var b=d+1;b--;)if(c[b]===_)return b;return b}function _e(c){return de(c)?Ma(c):ha(c)}function vt(c){return de(c)?Ra(c):pa(c)}function ru(c){for(var _=c.length;_--&&wf.test(c.charAt(_)););return _}var La=li(ia);function Ma(c){for(var _=ri.lastIndex=0;ri.test(c);)++_;return _}function Ra(c){return c.match(ri)||[]}function Oa(c){return c.match(Jf)||[]}var Ta=function c(_){_=_==null?On:ve.defaults(On.Object(),_,ve.pick(On,na));var d=_.Array,b=_.Date,N=_.Error,tn=_.Function,bn=_.Math,fn=_.Object,di=_.RegExp,Pa=_.String,ft=_.TypeError,er=d.prototype,Da=tn.prototype,we=fn.prototype,rr=_["__core-js_shared__"],ir=Da.toString,un=we.hasOwnProperty,Fa=0,iu=function(){var n=/[^.]+$/.exec(rr&&rr.keys&&rr.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),sr=we.toString,Ua=ir.call(fn),Ba=On._,Wa=di("^"+ir.call(un).replace(Jr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ur=$s?_.Buffer:i,Nt=_.Symbol,or=_.Uint8Array,su=ur?ur.allocUnsafe:i,fr=eu(fn.getPrototypeOf,fn),uu=fn.create,ou=we.propertyIsEnumerable,ar=er.splice,fu=Nt?Nt.isConcatSpreadable:i,Le=Nt?Nt.iterator:i,ne=Nt?Nt.toStringTag:i,lr=function(){try{var n=se(fn,"defineProperty");return n({},"",{}),n}catch{}}(),Na=_.clearTimeout!==On.clearTimeout&&_.clearTimeout,ka=b&&b.now!==On.Date.now&&b.now,$a=_.setTimeout!==On.setTimeout&&_.setTimeout,cr=bn.ceil,hr=bn.floor,_i=fn.getOwnPropertySymbols,Ga=ur?ur.isBuffer:i,au=_.isFinite,Ha=er.join,Za=eu(fn.keys,fn),Ln=bn.max,Pn=bn.min,za=b.now,Ka=_.parseInt,lu=bn.random,qa=er.reverse,vi=se(_,"DataView"),Me=se(_,"Map"),wi=se(_,"Promise"),xe=se(_,"Set"),Re=se(_,"WeakMap"),Oe=se(fn,"create"),pr=Re&&new Re,me={},Va=ue(vi),Ya=ue(Me),Xa=ue(wi),Ja=ue(xe),Qa=ue(Re),gr=Nt?Nt.prototype:i,Te=gr?gr.valueOf:i,cu=gr?gr.toString:i;function u(n){if(xn(n)&&!G(n)&&!(n instanceof Q)){if(n instanceof at)return n;if(un.call(n,"__wrapped__"))return ho(n)}return new at(n)}var ye=function(){function n(){}return function(t){if(!_n(t))return{};if(uu)return uu(t);n.prototype=t;var e=new n;return n.prototype=i,e}}();function dr(){}function at(n,t){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}u.templateSettings={escape:hf,evaluate:pf,interpolate:ms,variable:"",imports:{_:u}},u.prototype=dr.prototype,u.prototype.constructor=u,at.prototype=ye(dr.prototype),at.prototype.constructor=at;function Q(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Mn,this.__views__=[]}function ja(){var n=new Q(this.__wrapped__);return n.__actions__=Hn(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=Hn(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=Hn(this.__views__),n}function nl(){if(this.__filtered__){var n=new Q(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function tl(){var n=this.__wrapped__.value(),t=this.__dir__,e=G(n),r=t<0,s=e?n.length:0,o=pc(0,s,this.__views__),a=o.start,l=o.end,h=l-a,v=r?l:a-1,w=this.__iteratees__,A=w.length,E=0,M=Pn(h,this.__takeCount__);if(!e||!r&&s==h&&M==h)return Fu(n,this.__actions__);var P=[];n:for(;h--&&E<M;){v+=t;for(var z=-1,D=n[v];++z<A;){var V=w[z],nn=V.iteratee,nt=V.type,kn=nn(D);if(nt==Ct)D=kn;else if(!kn){if(nt==dt)continue n;break n}}P[E++]=D}return P}Q.prototype=ye(dr.prototype),Q.prototype.constructor=Q;function te(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}function el(){this.__data__=Oe?Oe(null):{},this.size=0}function rl(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t}function il(n){var t=this.__data__;if(Oe){var e=t[n];return e===m?i:e}return un.call(t,n)?t[n]:i}function sl(n){var t=this.__data__;return Oe?t[n]!==i:un.call(t,n)}function ul(n,t){var e=this.__data__;return this.size+=this.has(n)?0:1,e[n]=Oe&&t===i?m:t,this}te.prototype.clear=el,te.prototype.delete=rl,te.prototype.get=il,te.prototype.has=sl,te.prototype.set=ul;function bt(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}function ol(){this.__data__=[],this.size=0}function fl(n){var t=this.__data__,e=_r(t,n);if(e<0)return!1;var r=t.length-1;return e==r?t.pop():ar.call(t,e,1),--this.size,!0}function al(n){var t=this.__data__,e=_r(t,n);return e<0?i:t[e][1]}function ll(n){return _r(this.__data__,n)>-1}function cl(n,t){var e=this.__data__,r=_r(e,n);return r<0?(++this.size,e.push([n,t])):e[r][1]=t,this}bt.prototype.clear=ol,bt.prototype.delete=fl,bt.prototype.get=al,bt.prototype.has=ll,bt.prototype.set=cl;function Lt(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}function hl(){this.size=0,this.__data__={hash:new te,map:new(Me||bt),string:new te}}function pl(n){var t=Lr(this,n).delete(n);return this.size-=t?1:0,t}function gl(n){return Lr(this,n).get(n)}function dl(n){return Lr(this,n).has(n)}function _l(n,t){var e=Lr(this,n),r=e.size;return e.set(n,t),this.size+=e.size==r?0:1,this}Lt.prototype.clear=hl,Lt.prototype.delete=pl,Lt.prototype.get=gl,Lt.prototype.has=dl,Lt.prototype.set=_l;function ee(n){var t=-1,e=n==null?0:n.length;for(this.__data__=new Lt;++t<e;)this.add(n[t])}function vl(n){return this.__data__.set(n,m),this}function wl(n){return this.__data__.has(n)}ee.prototype.add=ee.prototype.push=vl,ee.prototype.has=wl;function wt(n){var t=this.__data__=new bt(n);this.size=t.size}function xl(){this.__data__=new bt,this.size=0}function ml(n){var t=this.__data__,e=t.delete(n);return this.size=t.size,e}function yl(n){return this.__data__.get(n)}function Al(n){return this.__data__.has(n)}function Sl(n,t){var e=this.__data__;if(e instanceof bt){var r=e.__data__;if(!Me||r.length<g-1)return r.push([n,t]),this.size=++e.size,this;e=this.__data__=new Lt(r)}return e.set(n,t),this.size=e.size,this}wt.prototype.clear=xl,wt.prototype.delete=ml,wt.prototype.get=yl,wt.prototype.has=Al,wt.prototype.set=Sl;function hu(n,t){var e=G(n),r=!e&&oe(n),s=!e&&!r&&Zt(n),o=!e&&!r&&!s&&Ee(n),a=e||r||s||o,l=a?hi(n.length,Pa):[],h=l.length;for(var v in n)(t||un.call(n,v))&&!(a&&(v=="length"||s&&(v=="offset"||v=="parent")||o&&(v=="buffer"||v=="byteLength"||v=="byteOffset")||Tt(v,h)))&&l.push(v);return l}function pu(n){var t=n.length;return t?n[Mi(0,t-1)]:i}function Il(n,t){return Mr(Hn(n),re(t,0,n.length))}function El(n){return Mr(Hn(n))}function xi(n,t,e){(e!==i&&!xt(n[t],e)||e===i&&!(t in n))&&Mt(n,t,e)}function Pe(n,t,e){var r=n[t];(!(un.call(n,t)&&xt(r,e))||e===i&&!(t in n))&&Mt(n,t,e)}function _r(n,t){for(var e=n.length;e--;)if(xt(n[e][0],t))return e;return-1}function Cl(n,t,e,r){return kt(n,function(s,o,a){t(r,s,e(s),a)}),r}function gu(n,t){return n&&It(t,Rn(t),n)}function bl(n,t){return n&&It(t,zn(t),n)}function Mt(n,t,e){t=="__proto__"&&lr?lr(n,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):n[t]=e}function mi(n,t){for(var e=-1,r=t.length,s=d(r),o=n==null;++e<r;)s[e]=o?i:ns(n,t[e]);return s}function re(n,t,e){return n===n&&(e!==i&&(n=n<=e?n:e),t!==i&&(n=n>=t?n:t)),n}function lt(n,t,e,r,s,o){var a,l=t&C,h=t&k,v=t&$;if(e&&(a=s?e(n,r,s,o):e(n)),a!==i)return a;if(!_n(n))return n;var w=G(n);if(w){if(a=dc(n),!l)return Hn(n,a)}else{var A=Dn(n),E=A==he||A==qe;if(Zt(n))return Wu(n,l);if(A==_t||A==yt||E&&!s){if(a=h||E?{}:ro(n),!l)return h?ic(n,bl(a,n)):rc(n,gu(a,n))}else{if(!ln[A])return s?n:{};a=_c(n,A,l)}}o||(o=new wt);var M=o.get(n);if(M)return M;o.set(n,a),Po(n)?n.forEach(function(D){a.add(lt(D,t,e,D,n,o))}):Oo(n)&&n.forEach(function(D,V){a.set(V,lt(D,t,e,V,n,o))});var P=v?h?ki:Ni:h?zn:Rn,z=w?i:P(n);return ot(z||n,function(D,V){z&&(V=D,D=n[V]),Pe(a,V,lt(D,t,e,V,n,o))}),a}function Ll(n){var t=Rn(n);return function(e){return du(e,n,t)}}function du(n,t,e){var r=e.length;if(n==null)return!r;for(n=fn(n);r--;){var s=e[r],o=t[s],a=n[s];if(a===i&&!(s in n)||!o(a))return!1}return!0}function _u(n,t,e){if(typeof n!="function")throw new ft(I);return ke(function(){n.apply(i,e)},t)}function De(n,t,e,r){var s=-1,o=je,a=!0,l=n.length,h=[],v=t.length;if(!l)return h;e&&(t=gn(t,Jn(e))),r?(o=ui,a=!1):t.length>=g&&(o=be,a=!1,t=new ee(t));n:for(;++s<l;){var w=n[s],A=e==null?w:e(w);if(w=r||w!==0?w:0,a&&A===A){for(var E=v;E--;)if(t[E]===A)continue n;h.push(w)}else o(t,A,r)||h.push(w)}return h}var kt=Hu(St),vu=Hu(Ai,!0);function Ml(n,t){var e=!0;return kt(n,function(r,s,o){return e=!!t(r,s,o),e}),e}function vr(n,t,e){for(var r=-1,s=n.length;++r<s;){var o=n[r],a=t(o);if(a!=null&&(l===i?a===a&&!jn(a):e(a,l)))var l=a,h=o}return h}function Rl(n,t,e,r){var s=n.length;for(e=H(e),e<0&&(e=-e>s?0:s+e),r=r===i||r>s?s:H(r),r<0&&(r+=s),r=e>r?0:Fo(r);e<r;)n[e++]=t;return n}function wu(n,t){var e=[];return kt(n,function(r,s,o){t(r,s,o)&&e.push(r)}),e}function Tn(n,t,e,r,s){var o=-1,a=n.length;for(e||(e=wc),s||(s=[]);++o<a;){var l=n[o];t>0&&e(l)?t>1?Tn(l,t-1,e,r,s):Bt(s,l):r||(s[s.length]=l)}return s}var yi=Zu(),xu=Zu(!0);function St(n,t){return n&&yi(n,t,Rn)}function Ai(n,t){return n&&xu(n,t,Rn)}function wr(n,t){return Ut(t,function(e){return Pt(n[e])})}function ie(n,t){t=Gt(t,n);for(var e=0,r=t.length;n!=null&&e<r;)n=n[Et(t[e++])];return e&&e==r?n:i}function mu(n,t,e){var r=t(n);return G(n)?r:Bt(r,e(n))}function Wn(n){return n==null?n===i?q:Vr:ne&&ne in fn(n)?hc(n):Ec(n)}function Si(n,t){return n>t}function Ol(n,t){return n!=null&&un.call(n,t)}function Tl(n,t){return n!=null&&t in fn(n)}function Pl(n,t,e){return n>=Pn(t,e)&&n<Ln(t,e)}function Ii(n,t,e){for(var r=e?ui:je,s=n[0].length,o=n.length,a=o,l=d(o),h=1/0,v=[];a--;){var w=n[a];a&&t&&(w=gn(w,Jn(t))),h=Pn(w.length,h),l[a]=!e&&(t||s>=120&&w.length>=120)?new ee(a&&w):i}w=n[0];var A=-1,E=l[0];n:for(;++A<s&&v.length<h;){var M=w[A],P=t?t(M):M;if(M=e||M!==0?M:0,!(E?be(E,P):r(v,P,e))){for(a=o;--a;){var z=l[a];if(!(z?be(z,P):r(n[a],P,e)))continue n}E&&E.push(P),v.push(M)}}return v}function Dl(n,t,e,r){return St(n,function(s,o,a){t(r,e(s),o,a)}),r}function Fe(n,t,e){t=Gt(t,n),n=oo(n,t);var r=n==null?n:n[Et(ht(t))];return r==null?i:Xn(r,n,e)}function yu(n){return xn(n)&&Wn(n)==yt}function Fl(n){return xn(n)&&Wn(n)==an}function Ul(n){return xn(n)&&Wn(n)==Xt}function Ue(n,t,e,r,s){return n===t?!0:n==null||t==null||!xn(n)&&!xn(t)?n!==n&&t!==t:Bl(n,t,e,r,Ue,s)}function Bl(n,t,e,r,s,o){var a=G(n),l=G(t),h=a?le:Dn(n),v=l?le:Dn(t);h=h==yt?_t:h,v=v==yt?_t:v;var w=h==_t,A=v==_t,E=h==v;if(E&&Zt(n)){if(!Zt(t))return!1;a=!0,w=!1}if(E&&!w)return o||(o=new wt),a||Ee(n)?no(n,t,e,r,s,o):lc(n,t,h,e,r,s,o);if(!(e&j)){var M=w&&un.call(n,"__wrapped__"),P=A&&un.call(t,"__wrapped__");if(M||P){var z=M?n.value():n,D=P?t.value():t;return o||(o=new wt),s(z,D,e,r,o)}}return E?(o||(o=new wt),cc(n,t,e,r,s,o)):!1}function Wl(n){return xn(n)&&Dn(n)==Vn}function Ei(n,t,e,r){var s=e.length,o=s,a=!r;if(n==null)return!o;for(n=fn(n);s--;){var l=e[s];if(a&&l[2]?l[1]!==n[l[0]]:!(l[0]in n))return!1}for(;++s<o;){l=e[s];var h=l[0],v=n[h],w=l[1];if(a&&l[2]){if(v===i&&!(h in n))return!1}else{var A=new wt;if(r)var E=r(v,w,h,n,t,A);if(!(E===i?Ue(w,v,j|Y,r,A):E))return!1}}return!0}function Au(n){if(!_n(n)||mc(n))return!1;var t=Pt(n)?Wa:Lf;return t.test(ue(n))}function Nl(n){return xn(n)&&Wn(n)==Qt}function kl(n){return xn(n)&&Dn(n)==x}function $l(n){return xn(n)&&Fr(n.length)&&!!pn[Wn(n)]}function Su(n){return typeof n=="function"?n:n==null?Kn:typeof n=="object"?G(n)?Cu(n[0],n[1]):Eu(n):Ko(n)}function Ci(n){if(!Ne(n))return Za(n);var t=[];for(var e in fn(n))un.call(n,e)&&e!="constructor"&&t.push(e);return t}function Gl(n){if(!_n(n))return Ic(n);var t=Ne(n),e=[];for(var r in n)r=="constructor"&&(t||!un.call(n,r))||e.push(r);return e}function bi(n,t){return n<t}function Iu(n,t){var e=-1,r=Zn(n)?d(n.length):[];return kt(n,function(s,o,a){r[++e]=t(s,o,a)}),r}function Eu(n){var t=Gi(n);return t.length==1&&t[0][2]?so(t[0][0],t[0][1]):function(e){return e===n||Ei(e,n,t)}}function Cu(n,t){return Zi(n)&&io(t)?so(Et(n),t):function(e){var r=ns(e,n);return r===i&&r===t?ts(e,n):Ue(t,r,j|Y)}}function xr(n,t,e,r,s){n!==t&&yi(t,function(o,a){if(s||(s=new wt),_n(o))Hl(n,t,a,e,xr,r,s);else{var l=r?r(Ki(n,a),o,a+"",n,t,s):i;l===i&&(l=o),xi(n,a,l)}},zn)}function Hl(n,t,e,r,s,o,a){var l=Ki(n,e),h=Ki(t,e),v=a.get(h);if(v){xi(n,e,v);return}var w=o?o(l,h,e+"",n,t,a):i,A=w===i;if(A){var E=G(h),M=!E&&Zt(h),P=!E&&!M&&Ee(h);w=h,E||M||P?G(l)?w=l:yn(l)?w=Hn(l):M?(A=!1,w=Wu(h,!0)):P?(A=!1,w=Nu(h,!0)):w=[]:$e(h)||oe(h)?(w=l,oe(l)?w=Uo(l):(!_n(l)||Pt(l))&&(w=ro(h))):A=!1}A&&(a.set(h,w),s(w,h,r,o,a),a.delete(h)),xi(n,e,w)}function bu(n,t){var e=n.length;if(e)return t+=t<0?e:0,Tt(t,e)?n[t]:i}function Lu(n,t,e){t.length?t=gn(t,function(o){return G(o)?function(a){return ie(a,o.length===1?o[0]:o)}:o}):t=[Kn];var r=-1;t=gn(t,Jn(T()));var s=Iu(n,function(o,a,l){var h=gn(t,function(v){return v(o)});return{criteria:h,index:++r,value:o}});return _a(s,function(o,a){return ec(o,a,e)})}function Zl(n,t){return Mu(n,t,function(e,r){return ts(n,r)})}function Mu(n,t,e){for(var r=-1,s=t.length,o={};++r<s;){var a=t[r],l=ie(n,a);e(l,a)&&Be(o,Gt(a,n),l)}return o}function zl(n){return function(t){return ie(t,n)}}function Li(n,t,e,r){var s=r?da:ge,o=-1,a=t.length,l=n;for(n===t&&(t=Hn(t)),e&&(l=gn(n,Jn(e)));++o<a;)for(var h=0,v=t[o],w=e?e(v):v;(h=s(l,w,h,r))>-1;)l!==n&&ar.call(l,h,1),ar.call(n,h,1);return n}function Ru(n,t){for(var e=n?t.length:0,r=e-1;e--;){var s=t[e];if(e==r||s!==o){var o=s;Tt(s)?ar.call(n,s,1):Ti(n,s)}}return n}function Mi(n,t){return n+hr(lu()*(t-n+1))}function Kl(n,t,e,r){for(var s=-1,o=Ln(cr((t-n)/(e||1)),0),a=d(o);o--;)a[r?o:++s]=n,n+=e;return a}function Ri(n,t){var e="";if(!n||t<1||t>En)return e;do t%2&&(e+=n),t=hr(t/2),t&&(n+=n);while(t);return e}function K(n,t){return qi(uo(n,t,Kn),n+"")}function ql(n){return pu(Ce(n))}function Vl(n,t){var e=Ce(n);return Mr(e,re(t,0,e.length))}function Be(n,t,e,r){if(!_n(n))return n;t=Gt(t,n);for(var s=-1,o=t.length,a=o-1,l=n;l!=null&&++s<o;){var h=Et(t[s]),v=e;if(h==="__proto__"||h==="constructor"||h==="prototype")return n;if(s!=a){var w=l[h];v=r?r(w,h,l):i,v===i&&(v=_n(w)?w:Tt(t[s+1])?[]:{})}Pe(l,h,v),l=l[h]}return n}var Ou=pr?function(n,t){return pr.set(n,t),n}:Kn,Yl=lr?function(n,t){return lr(n,"toString",{configurable:!0,enumerable:!1,value:rs(t),writable:!0})}:Kn;function Xl(n){return Mr(Ce(n))}function ct(n,t,e){var r=-1,s=n.length;t<0&&(t=-t>s?0:s+t),e=e>s?s:e,e<0&&(e+=s),s=t>e?0:e-t>>>0,t>>>=0;for(var o=d(s);++r<s;)o[r]=n[r+t];return o}function Jl(n,t){var e;return kt(n,function(r,s,o){return e=t(r,s,o),!e}),!!e}function mr(n,t,e){var r=0,s=n==null?r:n.length;if(typeof t=="number"&&t===t&&s<=zr){for(;r<s;){var o=r+s>>>1,a=n[o];a!==null&&!jn(a)&&(e?a<=t:a<t)?r=o+1:s=o}return s}return Oi(n,t,Kn,e)}function Oi(n,t,e,r){var s=0,o=n==null?0:n.length;if(o===0)return 0;t=e(t);for(var a=t!==t,l=t===null,h=jn(t),v=t===i;s<o;){var w=hr((s+o)/2),A=e(n[w]),E=A!==i,M=A===null,P=A===A,z=jn(A);if(a)var D=r||P;else v?D=P&&(r||E):l?D=P&&E&&(r||!M):h?D=P&&E&&!M&&(r||!z):M||z?D=!1:D=r?A<=t:A<t;D?s=w+1:o=w}return Pn(o,Zr)}function Tu(n,t){for(var e=-1,r=n.length,s=0,o=[];++e<r;){var a=n[e],l=t?t(a):a;if(!e||!xt(l,h)){var h=l;o[s++]=a===0?0:a}}return o}function Pu(n){return typeof n=="number"?n:jn(n)?Cn:+n}function Qn(n){if(typeof n=="string")return n;if(G(n))return gn(n,Qn)+"";if(jn(n))return cu?cu.call(n):"";var t=n+"";return t=="0"&&1/n==-Sn?"-0":t}function $t(n,t,e){var r=-1,s=je,o=n.length,a=!0,l=[],h=l;if(e)a=!1,s=ui;else if(o>=g){var v=t?null:fc(n);if(v)return tr(v);a=!1,s=be,h=new ee}else h=t?[]:l;n:for(;++r<o;){var w=n[r],A=t?t(w):w;if(w=e||w!==0?w:0,a&&A===A){for(var E=h.length;E--;)if(h[E]===A)continue n;t&&h.push(A),l.push(w)}else s(h,A,e)||(h!==l&&h.push(A),l.push(w))}return l}function Ti(n,t){return t=Gt(t,n),n=oo(n,t),n==null||delete n[Et(ht(t))]}function Du(n,t,e,r){return Be(n,t,e(ie(n,t)),r)}function yr(n,t,e,r){for(var s=n.length,o=r?s:-1;(r?o--:++o<s)&&t(n[o],o,n););return e?ct(n,r?0:o,r?o+1:s):ct(n,r?o+1:0,r?s:o)}function Fu(n,t){var e=n;return e instanceof Q&&(e=e.value()),oi(t,function(r,s){return s.func.apply(s.thisArg,Bt([r],s.args))},e)}function Pi(n,t,e){var r=n.length;if(r<2)return r?$t(n[0]):[];for(var s=-1,o=d(r);++s<r;)for(var a=n[s],l=-1;++l<r;)l!=s&&(o[s]=De(o[s]||a,n[l],t,e));return $t(Tn(o,1),t,e)}function Uu(n,t,e){for(var r=-1,s=n.length,o=t.length,a={};++r<s;){var l=r<o?t[r]:i;e(a,n[r],l)}return a}function Di(n){return yn(n)?n:[]}function Fi(n){return typeof n=="function"?n:Kn}function Gt(n,t){return G(n)?n:Zi(n,t)?[n]:co(rn(n))}var Ql=K;function Ht(n,t,e){var r=n.length;return e=e===i?r:e,!t&&e>=r?n:ct(n,t,e)}var Bu=Na||function(n){return On.clearTimeout(n)};function Wu(n,t){if(t)return n.slice();var e=n.length,r=su?su(e):new n.constructor(e);return n.copy(r),r}function Ui(n){var t=new n.constructor(n.byteLength);return new or(t).set(new or(n)),t}function jl(n,t){var e=t?Ui(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.byteLength)}function nc(n){var t=new n.constructor(n.source,ys.exec(n));return t.lastIndex=n.lastIndex,t}function tc(n){return Te?fn(Te.call(n)):{}}function Nu(n,t){var e=t?Ui(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.length)}function ku(n,t){if(n!==t){var e=n!==i,r=n===null,s=n===n,o=jn(n),a=t!==i,l=t===null,h=t===t,v=jn(t);if(!l&&!v&&!o&&n>t||o&&a&&h&&!l&&!v||r&&a&&h||!e&&h||!s)return 1;if(!r&&!o&&!v&&n<t||v&&e&&s&&!r&&!o||l&&e&&s||!a&&s||!h)return-1}return 0}function ec(n,t,e){for(var r=-1,s=n.criteria,o=t.criteria,a=s.length,l=e.length;++r<a;){var h=ku(s[r],o[r]);if(h){if(r>=l)return h;var v=e[r];return h*(v=="desc"?-1:1)}}return n.index-t.index}function $u(n,t,e,r){for(var s=-1,o=n.length,a=e.length,l=-1,h=t.length,v=Ln(o-a,0),w=d(h+v),A=!r;++l<h;)w[l]=t[l];for(;++s<a;)(A||s<o)&&(w[e[s]]=n[s]);for(;v--;)w[l++]=n[s++];return w}function Gu(n,t,e,r){for(var s=-1,o=n.length,a=-1,l=e.length,h=-1,v=t.length,w=Ln(o-l,0),A=d(w+v),E=!r;++s<w;)A[s]=n[s];for(var M=s;++h<v;)A[M+h]=t[h];for(;++a<l;)(E||s<o)&&(A[M+e[a]]=n[s++]);return A}function Hn(n,t){var e=-1,r=n.length;for(t||(t=d(r));++e<r;)t[e]=n[e];return t}function It(n,t,e,r){var s=!e;e||(e={});for(var o=-1,a=t.length;++o<a;){var l=t[o],h=r?r(e[l],n[l],l,e,n):i;h===i&&(h=n[l]),s?Mt(e,l,h):Pe(e,l,h)}return e}function rc(n,t){return It(n,Hi(n),t)}function ic(n,t){return It(n,to(n),t)}function Ar(n,t){return function(e,r){var s=G(e)?aa:Cl,o=t?t():{};return s(e,n,T(r,2),o)}}function Ae(n){return K(function(t,e){var r=-1,s=e.length,o=s>1?e[s-1]:i,a=s>2?e[2]:i;for(o=n.length>3&&typeof o=="function"?(s--,o):i,a&&Nn(e[0],e[1],a)&&(o=s<3?i:o,s=1),t=fn(t);++r<s;){var l=e[r];l&&n(t,l,r,o)}return t})}function Hu(n,t){return function(e,r){if(e==null)return e;if(!Zn(e))return n(e,r);for(var s=e.length,o=t?s:-1,a=fn(e);(t?o--:++o<s)&&r(a[o],o,a)!==!1;);return e}}function Zu(n){return function(t,e,r){for(var s=-1,o=fn(t),a=r(t),l=a.length;l--;){var h=a[n?l:++s];if(e(o[h],h,o)===!1)break}return t}}function sc(n,t,e){var r=t&Z,s=We(n);function o(){var a=this&&this!==On&&this instanceof o?s:n;return a.apply(r?e:this,arguments)}return o}function zu(n){return function(t){t=rn(t);var e=de(t)?vt(t):i,r=e?e[0]:t.charAt(0),s=e?Ht(e,1).join(""):t.slice(1);return r[n]()+s}}function Se(n){return function(t){return oi(Zo(Ho(t).replace(Yf,"")),n,"")}}function We(n){return function(){var t=arguments;switch(t.length){case 0:return new n;case 1:return new n(t[0]);case 2:return new n(t[0],t[1]);case 3:return new n(t[0],t[1],t[2]);case 4:return new n(t[0],t[1],t[2],t[3]);case 5:return new n(t[0],t[1],t[2],t[3],t[4]);case 6:return new n(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new n(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var e=ye(n.prototype),r=n.apply(e,t);return _n(r)?r:e}}function uc(n,t,e){var r=We(n);function s(){for(var o=arguments.length,a=d(o),l=o,h=Ie(s);l--;)a[l]=arguments[l];var v=o<3&&a[0]!==h&&a[o-1]!==h?[]:Wt(a,h);if(o-=v.length,o<e)return Xu(n,t,Sr,s.placeholder,i,a,v,i,i,e-o);var w=this&&this!==On&&this instanceof s?r:n;return Xn(w,this,a)}return s}function Ku(n){return function(t,e,r){var s=fn(t);if(!Zn(t)){var o=T(e,3);t=Rn(t),e=function(l){return o(s[l],l,s)}}var a=n(t,e,r);return a>-1?s[o?t[a]:a]:i}}function qu(n){return Ot(function(t){var e=t.length,r=e,s=at.prototype.thru;for(n&&t.reverse();r--;){var o=t[r];if(typeof o!="function")throw new ft(I);if(s&&!a&&br(o)=="wrapper")var a=new at([],!0)}for(r=a?r:e;++r<e;){o=t[r];var l=br(o),h=l=="wrapper"?$i(o):i;h&&zi(h[0])&&h[1]==(en|cn|dn|qn)&&!h[4].length&&h[9]==1?a=a[br(h[0])].apply(a,h[3]):a=o.length==1&&zi(o)?a[l]():a.thru(o)}return function(){var v=arguments,w=v[0];if(a&&v.length==1&&G(w))return a.plant(w).value();for(var A=0,E=e?t[A].apply(this,v):w;++A<e;)E=t[A].call(this,E);return E}})}function Sr(n,t,e,r,s,o,a,l,h,v){var w=t&en,A=t&Z,E=t&X,M=t&(cn|Fn),P=t&Vt,z=E?i:We(n);function D(){for(var V=arguments.length,nn=d(V),nt=V;nt--;)nn[nt]=arguments[nt];if(M)var kn=Ie(D),tt=wa(nn,kn);if(r&&(nn=$u(nn,r,s,M)),o&&(nn=Gu(nn,o,a,M)),V-=tt,M&&V<v){var An=Wt(nn,kn);return Xu(n,t,Sr,D.placeholder,e,nn,An,l,h,v-V)}var mt=A?e:this,Ft=E?mt[n]:n;return V=nn.length,l?nn=Cc(nn,l):P&&V>1&&nn.reverse(),w&&h<V&&(nn.length=h),this&&this!==On&&this instanceof D&&(Ft=z||We(Ft)),Ft.apply(mt,nn)}return D}function Vu(n,t){return function(e,r){return Dl(e,n,t(r),{})}}function Ir(n,t){return function(e,r){var s;if(e===i&&r===i)return t;if(e!==i&&(s=e),r!==i){if(s===i)return r;typeof e=="string"||typeof r=="string"?(e=Qn(e),r=Qn(r)):(e=Pu(e),r=Pu(r)),s=n(e,r)}return s}}function Bi(n){return Ot(function(t){return t=gn(t,Jn(T())),K(function(e){var r=this;return n(t,function(s){return Xn(s,r,e)})})})}function Er(n,t){t=t===i?" ":Qn(t);var e=t.length;if(e<2)return e?Ri(t,n):t;var r=Ri(t,cr(n/_e(t)));return de(t)?Ht(vt(r),0,n).join(""):r.slice(0,n)}function oc(n,t,e,r){var s=t&Z,o=We(n);function a(){for(var l=-1,h=arguments.length,v=-1,w=r.length,A=d(w+h),E=this&&this!==On&&this instanceof a?o:n;++v<w;)A[v]=r[v];for(;h--;)A[v++]=arguments[++l];return Xn(E,s?e:this,A)}return a}function Yu(n){return function(t,e,r){return r&&typeof r!="number"&&Nn(t,e,r)&&(e=r=i),t=Dt(t),e===i?(e=t,t=0):e=Dt(e),r=r===i?t<e?1:-1:Dt(r),Kl(t,e,r,n)}}function Cr(n){return function(t,e){return typeof t=="string"&&typeof e=="string"||(t=pt(t),e=pt(e)),n(t,e)}}function Xu(n,t,e,r,s,o,a,l,h,v){var w=t&cn,A=w?a:i,E=w?i:a,M=w?o:i,P=w?i:o;t|=w?dn:$n,t&=~(w?$n:dn),t&In||(t&=~(Z|X));var z=[n,t,s,M,A,P,E,l,h,v],D=e.apply(i,z);return zi(n)&&fo(D,z),D.placeholder=r,ao(D,n,t)}function Wi(n){var t=bn[n];return function(e,r){if(e=pt(e),r=r==null?0:Pn(H(r),292),r&&au(e)){var s=(rn(e)+"e").split("e"),o=t(s[0]+"e"+(+s[1]+r));return s=(rn(o)+"e").split("e"),+(s[0]+"e"+(+s[1]-r))}return t(e)}}var fc=xe&&1/tr(new xe([,-0]))[1]==Sn?function(n){return new xe(n)}:us;function Ju(n){return function(t){var e=Dn(t);return e==Vn?gi(t):e==x?Ea(t):va(t,n(t))}}function Rt(n,t,e,r,s,o,a,l){var h=t&X;if(!h&&typeof n!="function")throw new ft(I);var v=r?r.length:0;if(v||(t&=~(dn|$n),r=s=i),a=a===i?a:Ln(H(a),0),l=l===i?l:H(l),v-=s?s.length:0,t&$n){var w=r,A=s;r=s=i}var E=h?i:$i(n),M=[n,t,e,r,s,w,A,o,a,l];if(E&&Sc(M,E),n=M[0],t=M[1],e=M[2],r=M[3],s=M[4],l=M[9]=M[9]===i?h?0:n.length:Ln(M[9]-v,0),!l&&t&(cn|Fn)&&(t&=~(cn|Fn)),!t||t==Z)var P=sc(n,t,e);else t==cn||t==Fn?P=uc(n,t,l):(t==dn||t==(Z|dn))&&!s.length?P=oc(n,t,e,r):P=Sr.apply(i,M);var z=E?Ou:fo;return ao(z(P,M),n,t)}function Qu(n,t,e,r){return n===i||xt(n,we[e])&&!un.call(r,e)?t:n}function ju(n,t,e,r,s,o){return _n(n)&&_n(t)&&(o.set(t,n),xr(n,t,i,ju,o),o.delete(t)),n}function ac(n){return $e(n)?i:n}function no(n,t,e,r,s,o){var a=e&j,l=n.length,h=t.length;if(l!=h&&!(a&&h>l))return!1;var v=o.get(n),w=o.get(t);if(v&&w)return v==t&&w==n;var A=-1,E=!0,M=e&Y?new ee:i;for(o.set(n,t),o.set(t,n);++A<l;){var P=n[A],z=t[A];if(r)var D=a?r(z,P,A,t,n,o):r(P,z,A,n,t,o);if(D!==i){if(D)continue;E=!1;break}if(M){if(!fi(t,function(V,nn){if(!be(M,nn)&&(P===V||s(P,V,e,r,o)))return M.push(nn)})){E=!1;break}}else if(!(P===z||s(P,z,e,r,o))){E=!1;break}}return o.delete(n),o.delete(t),E}function lc(n,t,e,r,s,o,a){switch(e){case hn:if(n.byteLength!=t.byteLength||n.byteOffset!=t.byteOffset)return!1;n=n.buffer,t=t.buffer;case an:return!(n.byteLength!=t.byteLength||!o(new or(n),new or(t)));case Yt:case Xt:case Jt:return xt(+n,+t);case ce:return n.name==t.name&&n.message==t.message;case Qt:case R:return n==t+"";case Vn:var l=gi;case x:var h=r&j;if(l||(l=tr),n.size!=t.size&&!h)return!1;var v=a.get(n);if(v)return v==t;r|=Y,a.set(n,t);var w=no(l(n),l(t),r,s,o,a);return a.delete(n),w;case U:if(Te)return Te.call(n)==Te.call(t)}return!1}function cc(n,t,e,r,s,o){var a=e&j,l=Ni(n),h=l.length,v=Ni(t),w=v.length;if(h!=w&&!a)return!1;for(var A=h;A--;){var E=l[A];if(!(a?E in t:un.call(t,E)))return!1}var M=o.get(n),P=o.get(t);if(M&&P)return M==t&&P==n;var z=!0;o.set(n,t),o.set(t,n);for(var D=a;++A<h;){E=l[A];var V=n[E],nn=t[E];if(r)var nt=a?r(nn,V,E,t,n,o):r(V,nn,E,n,t,o);if(!(nt===i?V===nn||s(V,nn,e,r,o):nt)){z=!1;break}D||(D=E=="constructor")}if(z&&!D){var kn=n.constructor,tt=t.constructor;kn!=tt&&"constructor"in n&&"constructor"in t&&!(typeof kn=="function"&&kn instanceof kn&&typeof tt=="function"&&tt instanceof tt)&&(z=!1)}return o.delete(n),o.delete(t),z}function Ot(n){return qi(uo(n,i,_o),n+"")}function Ni(n){return mu(n,Rn,Hi)}function ki(n){return mu(n,zn,to)}var $i=pr?function(n){return pr.get(n)}:us;function br(n){for(var t=n.name+"",e=me[t],r=un.call(me,t)?e.length:0;r--;){var s=e[r],o=s.func;if(o==null||o==n)return s.name}return t}function Ie(n){var t=un.call(u,"placeholder")?u:n;return t.placeholder}function T(){var n=u.iteratee||is;return n=n===is?Su:n,arguments.length?n(arguments[0],arguments[1]):n}function Lr(n,t){var e=n.__data__;return xc(t)?e[typeof t=="string"?"string":"hash"]:e.map}function Gi(n){for(var t=Rn(n),e=t.length;e--;){var r=t[e],s=n[r];t[e]=[r,s,io(s)]}return t}function se(n,t){var e=Aa(n,t);return Au(e)?e:i}function hc(n){var t=un.call(n,ne),e=n[ne];try{n[ne]=i;var r=!0}catch{}var s=sr.call(n);return r&&(t?n[ne]=e:delete n[ne]),s}var Hi=_i?function(n){return n==null?[]:(n=fn(n),Ut(_i(n),function(t){return ou.call(n,t)}))}:os,to=_i?function(n){for(var t=[];n;)Bt(t,Hi(n)),n=fr(n);return t}:os,Dn=Wn;(vi&&Dn(new vi(new ArrayBuffer(1)))!=hn||Me&&Dn(new Me)!=Vn||wi&&Dn(wi.resolve())!=Ve||xe&&Dn(new xe)!=x||Re&&Dn(new Re)!=J)&&(Dn=function(n){var t=Wn(n),e=t==_t?n.constructor:i,r=e?ue(e):"";if(r)switch(r){case Va:return hn;case Ya:return Vn;case Xa:return Ve;case Ja:return x;case Qa:return J}return t});function pc(n,t,e){for(var r=-1,s=e.length;++r<s;){var o=e[r],a=o.size;switch(o.type){case"drop":n+=a;break;case"dropRight":t-=a;break;case"take":t=Pn(t,n+a);break;case"takeRight":n=Ln(n,t-a);break}}return{start:n,end:t}}function gc(n){var t=n.match(mf);return t?t[1].split(yf):[]}function eo(n,t,e){t=Gt(t,n);for(var r=-1,s=t.length,o=!1;++r<s;){var a=Et(t[r]);if(!(o=n!=null&&e(n,a)))break;n=n[a]}return o||++r!=s?o:(s=n==null?0:n.length,!!s&&Fr(s)&&Tt(a,s)&&(G(n)||oe(n)))}function dc(n){var t=n.length,e=new n.constructor(t);return t&&typeof n[0]=="string"&&un.call(n,"index")&&(e.index=n.index,e.input=n.input),e}function ro(n){return typeof n.constructor=="function"&&!Ne(n)?ye(fr(n)):{}}function _c(n,t,e){var r=n.constructor;switch(t){case an:return Ui(n);case Yt:case Xt:return new r(+n);case hn:return jl(n,e);case Gn:case wn:case Yn:case Bn:case it:case At:case st:case Yr:case Xr:return Nu(n,e);case Vn:return new r;case Jt:case R:return new r(n);case Qt:return nc(n);case x:return new r;case U:return tc(n)}}function vc(n,t){var e=t.length;if(!e)return n;var r=e-1;return t[r]=(e>1?"& ":"")+t[r],t=t.join(e>2?", ":" "),n.replace(xf,`{
/* [wrapped with `+t+`] */
`)}function wc(n){return G(n)||oe(n)||!!(fu&&n&&n[fu])}function Tt(n,t){var e=typeof n;return t=t??En,!!t&&(e=="number"||e!="symbol"&&Rf.test(n))&&n>-1&&n%1==0&&n<t}function Nn(n,t,e){if(!_n(e))return!1;var r=typeof t;return(r=="number"?Zn(e)&&Tt(t,e.length):r=="string"&&t in e)?xt(e[t],n):!1}function Zi(n,t){if(G(n))return!1;var e=typeof n;return e=="number"||e=="symbol"||e=="boolean"||n==null||jn(n)?!0:df.test(n)||!gf.test(n)||t!=null&&n in fn(t)}function xc(n){var t=typeof n;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?n!=="__proto__":n===null}function zi(n){var t=br(n),e=u[t];if(typeof e!="function"||!(t in Q.prototype))return!1;if(n===e)return!0;var r=$i(e);return!!r&&n===r[0]}function mc(n){return!!iu&&iu in n}var yc=rr?Pt:fs;function Ne(n){var t=n&&n.constructor,e=typeof t=="function"&&t.prototype||we;return n===e}function io(n){return n===n&&!_n(n)}function so(n,t){return function(e){return e==null?!1:e[n]===t&&(t!==i||n in fn(e))}}function Ac(n){var t=Pr(n,function(r){return e.size===F&&e.clear(),r}),e=t.cache;return t}function Sc(n,t){var e=n[1],r=t[1],s=e|r,o=s<(Z|X|en),a=r==en&&e==cn||r==en&&e==qn&&n[7].length<=t[8]||r==(en|qn)&&t[7].length<=t[8]&&e==cn;if(!(o||a))return n;r&Z&&(n[2]=t[2],s|=e&Z?0:In);var l=t[3];if(l){var h=n[3];n[3]=h?$u(h,l,t[4]):l,n[4]=h?Wt(n[3],O):t[4]}return l=t[5],l&&(h=n[5],n[5]=h?Gu(h,l,t[6]):l,n[6]=h?Wt(n[5],O):t[6]),l=t[7],l&&(n[7]=l),r&en&&(n[8]=n[8]==null?t[8]:Pn(n[8],t[8])),n[9]==null&&(n[9]=t[9]),n[0]=t[0],n[1]=s,n}function Ic(n){var t=[];if(n!=null)for(var e in fn(n))t.push(e);return t}function Ec(n){return sr.call(n)}function uo(n,t,e){return t=Ln(t===i?n.length-1:t,0),function(){for(var r=arguments,s=-1,o=Ln(r.length-t,0),a=d(o);++s<o;)a[s]=r[t+s];s=-1;for(var l=d(t+1);++s<t;)l[s]=r[s];return l[t]=e(a),Xn(n,this,l)}}function oo(n,t){return t.length<2?n:ie(n,ct(t,0,-1))}function Cc(n,t){for(var e=n.length,r=Pn(t.length,e),s=Hn(n);r--;){var o=t[r];n[r]=Tt(o,e)?s[o]:i}return n}function Ki(n,t){if(!(t==="constructor"&&typeof n[t]=="function")&&t!="__proto__")return n[t]}var fo=lo(Ou),ke=$a||function(n,t){return On.setTimeout(n,t)},qi=lo(Yl);function ao(n,t,e){var r=t+"";return qi(n,vc(r,bc(gc(r),e)))}function lo(n){var t=0,e=0;return function(){var r=za(),s=Un-(r-e);if(e=r,s>0){if(++t>=mn)return arguments[0]}else t=0;return n.apply(i,arguments)}}function Mr(n,t){var e=-1,r=n.length,s=r-1;for(t=t===i?r:t;++e<t;){var o=Mi(e,s),a=n[o];n[o]=n[e],n[e]=a}return n.length=t,n}var co=Ac(function(n){var t=[];return n.charCodeAt(0)===46&&t.push(""),n.replace(_f,function(e,r,s,o){t.push(s?o.replace(If,"$1"):r||e)}),t});function Et(n){if(typeof n=="string"||jn(n))return n;var t=n+"";return t=="0"&&1/n==-Sn?"-0":t}function ue(n){if(n!=null){try{return ir.call(n)}catch{}try{return n+""}catch{}}return""}function bc(n,t){return ot(Kr,function(e){var r="_."+e[0];t&e[1]&&!je(n,r)&&n.push(r)}),n.sort()}function ho(n){if(n instanceof Q)return n.clone();var t=new at(n.__wrapped__,n.__chain__);return t.__actions__=Hn(n.__actions__),t.__index__=n.__index__,t.__values__=n.__values__,t}function Lc(n,t,e){(e?Nn(n,t,e):t===i)?t=1:t=Ln(H(t),0);var r=n==null?0:n.length;if(!r||t<1)return[];for(var s=0,o=0,a=d(cr(r/t));s<r;)a[o++]=ct(n,s,s+=t);return a}function Mc(n){for(var t=-1,e=n==null?0:n.length,r=0,s=[];++t<e;){var o=n[t];o&&(s[r++]=o)}return s}function Rc(){var n=arguments.length;if(!n)return[];for(var t=d(n-1),e=arguments[0],r=n;r--;)t[r-1]=arguments[r];return Bt(G(e)?Hn(e):[e],Tn(t,1))}var Oc=K(function(n,t){return yn(n)?De(n,Tn(t,1,yn,!0)):[]}),Tc=K(function(n,t){var e=ht(t);return yn(e)&&(e=i),yn(n)?De(n,Tn(t,1,yn,!0),T(e,2)):[]}),Pc=K(function(n,t){var e=ht(t);return yn(e)&&(e=i),yn(n)?De(n,Tn(t,1,yn,!0),i,e):[]});function Dc(n,t,e){var r=n==null?0:n.length;return r?(t=e||t===i?1:H(t),ct(n,t<0?0:t,r)):[]}function Fc(n,t,e){var r=n==null?0:n.length;return r?(t=e||t===i?1:H(t),t=r-t,ct(n,0,t<0?0:t)):[]}function Uc(n,t){return n&&n.length?yr(n,T(t,3),!0,!0):[]}function Bc(n,t){return n&&n.length?yr(n,T(t,3),!0):[]}function Wc(n,t,e,r){var s=n==null?0:n.length;return s?(e&&typeof e!="number"&&Nn(n,t,e)&&(e=0,r=s),Rl(n,t,e,r)):[]}function po(n,t,e){var r=n==null?0:n.length;if(!r)return-1;var s=e==null?0:H(e);return s<0&&(s=Ln(r+s,0)),nr(n,T(t,3),s)}function go(n,t,e){var r=n==null?0:n.length;if(!r)return-1;var s=r-1;return e!==i&&(s=H(e),s=e<0?Ln(r+s,0):Pn(s,r-1)),nr(n,T(t,3),s,!0)}function _o(n){var t=n==null?0:n.length;return t?Tn(n,1):[]}function Nc(n){var t=n==null?0:n.length;return t?Tn(n,Sn):[]}function kc(n,t){var e=n==null?0:n.length;return e?(t=t===i?1:H(t),Tn(n,t)):[]}function $c(n){for(var t=-1,e=n==null?0:n.length,r={};++t<e;){var s=n[t];r[s[0]]=s[1]}return r}function vo(n){return n&&n.length?n[0]:i}function Gc(n,t,e){var r=n==null?0:n.length;if(!r)return-1;var s=e==null?0:H(e);return s<0&&(s=Ln(r+s,0)),ge(n,t,s)}function Hc(n){var t=n==null?0:n.length;return t?ct(n,0,-1):[]}var Zc=K(function(n){var t=gn(n,Di);return t.length&&t[0]===n[0]?Ii(t):[]}),zc=K(function(n){var t=ht(n),e=gn(n,Di);return t===ht(e)?t=i:e.pop(),e.length&&e[0]===n[0]?Ii(e,T(t,2)):[]}),Kc=K(function(n){var t=ht(n),e=gn(n,Di);return t=typeof t=="function"?t:i,t&&e.pop(),e.length&&e[0]===n[0]?Ii(e,i,t):[]});function qc(n,t){return n==null?"":Ha.call(n,t)}function ht(n){var t=n==null?0:n.length;return t?n[t-1]:i}function Vc(n,t,e){var r=n==null?0:n.length;if(!r)return-1;var s=r;return e!==i&&(s=H(e),s=s<0?Ln(r+s,0):Pn(s,r-1)),t===t?ba(n,t,s):nr(n,Xs,s,!0)}function Yc(n,t){return n&&n.length?bu(n,H(t)):i}var Xc=K(wo);function wo(n,t){return n&&n.length&&t&&t.length?Li(n,t):n}function Jc(n,t,e){return n&&n.length&&t&&t.length?Li(n,t,T(e,2)):n}function Qc(n,t,e){return n&&n.length&&t&&t.length?Li(n,t,i,e):n}var jc=Ot(function(n,t){var e=n==null?0:n.length,r=mi(n,t);return Ru(n,gn(t,function(s){return Tt(s,e)?+s:s}).sort(ku)),r});function nh(n,t){var e=[];if(!(n&&n.length))return e;var r=-1,s=[],o=n.length;for(t=T(t,3);++r<o;){var a=n[r];t(a,r,n)&&(e.push(a),s.push(r))}return Ru(n,s),e}function Vi(n){return n==null?n:qa.call(n)}function th(n,t,e){var r=n==null?0:n.length;return r?(e&&typeof e!="number"&&Nn(n,t,e)?(t=0,e=r):(t=t==null?0:H(t),e=e===i?r:H(e)),ct(n,t,e)):[]}function eh(n,t){return mr(n,t)}function rh(n,t,e){return Oi(n,t,T(e,2))}function ih(n,t){var e=n==null?0:n.length;if(e){var r=mr(n,t);if(r<e&&xt(n[r],t))return r}return-1}function sh(n,t){return mr(n,t,!0)}function uh(n,t,e){return Oi(n,t,T(e,2),!0)}function oh(n,t){var e=n==null?0:n.length;if(e){var r=mr(n,t,!0)-1;if(xt(n[r],t))return r}return-1}function fh(n){return n&&n.length?Tu(n):[]}function ah(n,t){return n&&n.length?Tu(n,T(t,2)):[]}function lh(n){var t=n==null?0:n.length;return t?ct(n,1,t):[]}function ch(n,t,e){return n&&n.length?(t=e||t===i?1:H(t),ct(n,0,t<0?0:t)):[]}function hh(n,t,e){var r=n==null?0:n.length;return r?(t=e||t===i?1:H(t),t=r-t,ct(n,t<0?0:t,r)):[]}function ph(n,t){return n&&n.length?yr(n,T(t,3),!1,!0):[]}function gh(n,t){return n&&n.length?yr(n,T(t,3)):[]}var dh=K(function(n){return $t(Tn(n,1,yn,!0))}),_h=K(function(n){var t=ht(n);return yn(t)&&(t=i),$t(Tn(n,1,yn,!0),T(t,2))}),vh=K(function(n){var t=ht(n);return t=typeof t=="function"?t:i,$t(Tn(n,1,yn,!0),i,t)});function wh(n){return n&&n.length?$t(n):[]}function xh(n,t){return n&&n.length?$t(n,T(t,2)):[]}function mh(n,t){return t=typeof t=="function"?t:i,n&&n.length?$t(n,i,t):[]}function Yi(n){if(!(n&&n.length))return[];var t=0;return n=Ut(n,function(e){if(yn(e))return t=Ln(e.length,t),!0}),hi(t,function(e){return gn(n,ai(e))})}function xo(n,t){if(!(n&&n.length))return[];var e=Yi(n);return t==null?e:gn(e,function(r){return Xn(t,i,r)})}var yh=K(function(n,t){return yn(n)?De(n,t):[]}),Ah=K(function(n){return Pi(Ut(n,yn))}),Sh=K(function(n){var t=ht(n);return yn(t)&&(t=i),Pi(Ut(n,yn),T(t,2))}),Ih=K(function(n){var t=ht(n);return t=typeof t=="function"?t:i,Pi(Ut(n,yn),i,t)}),Eh=K(Yi);function Ch(n,t){return Uu(n||[],t||[],Pe)}function bh(n,t){return Uu(n||[],t||[],Be)}var Lh=K(function(n){var t=n.length,e=t>1?n[t-1]:i;return e=typeof e=="function"?(n.pop(),e):i,xo(n,e)});function mo(n){var t=u(n);return t.__chain__=!0,t}function Mh(n,t){return t(n),n}function Rr(n,t){return t(n)}var Rh=Ot(function(n){var t=n.length,e=t?n[0]:0,r=this.__wrapped__,s=function(o){return mi(o,n)};return t>1||this.__actions__.length||!(r instanceof Q)||!Tt(e)?this.thru(s):(r=r.slice(e,+e+(t?1:0)),r.__actions__.push({func:Rr,args:[s],thisArg:i}),new at(r,this.__chain__).thru(function(o){return t&&!o.length&&o.push(i),o}))});function Oh(){return mo(this)}function Th(){return new at(this.value(),this.__chain__)}function Ph(){this.__values__===i&&(this.__values__=Do(this.value()));var n=this.__index__>=this.__values__.length,t=n?i:this.__values__[this.__index__++];return{done:n,value:t}}function Dh(){return this}function Fh(n){for(var t,e=this;e instanceof dr;){var r=ho(e);r.__index__=0,r.__values__=i,t?s.__wrapped__=r:t=r;var s=r;e=e.__wrapped__}return s.__wrapped__=n,t}function Uh(){var n=this.__wrapped__;if(n instanceof Q){var t=n;return this.__actions__.length&&(t=new Q(this)),t=t.reverse(),t.__actions__.push({func:Rr,args:[Vi],thisArg:i}),new at(t,this.__chain__)}return this.thru(Vi)}function Bh(){return Fu(this.__wrapped__,this.__actions__)}var Wh=Ar(function(n,t,e){un.call(n,e)?++n[e]:Mt(n,e,1)});function Nh(n,t,e){var r=G(n)?Vs:Ml;return e&&Nn(n,t,e)&&(t=i),r(n,T(t,3))}function kh(n,t){var e=G(n)?Ut:wu;return e(n,T(t,3))}var $h=Ku(po),Gh=Ku(go);function Hh(n,t){return Tn(Or(n,t),1)}function Zh(n,t){return Tn(Or(n,t),Sn)}function zh(n,t,e){return e=e===i?1:H(e),Tn(Or(n,t),e)}function yo(n,t){var e=G(n)?ot:kt;return e(n,T(t,3))}function Ao(n,t){var e=G(n)?la:vu;return e(n,T(t,3))}var Kh=Ar(function(n,t,e){un.call(n,e)?n[e].push(t):Mt(n,e,[t])});function qh(n,t,e,r){n=Zn(n)?n:Ce(n),e=e&&!r?H(e):0;var s=n.length;return e<0&&(e=Ln(s+e,0)),Ur(n)?e<=s&&n.indexOf(t,e)>-1:!!s&&ge(n,t,e)>-1}var Vh=K(function(n,t,e){var r=-1,s=typeof t=="function",o=Zn(n)?d(n.length):[];return kt(n,function(a){o[++r]=s?Xn(t,a,e):Fe(a,t,e)}),o}),Yh=Ar(function(n,t,e){Mt(n,e,t)});function Or(n,t){var e=G(n)?gn:Iu;return e(n,T(t,3))}function Xh(n,t,e,r){return n==null?[]:(G(t)||(t=t==null?[]:[t]),e=r?i:e,G(e)||(e=e==null?[]:[e]),Lu(n,t,e))}var Jh=Ar(function(n,t,e){n[e?0:1].push(t)},function(){return[[],[]]});function Qh(n,t,e){var r=G(n)?oi:Qs,s=arguments.length<3;return r(n,T(t,4),e,s,kt)}function jh(n,t,e){var r=G(n)?ca:Qs,s=arguments.length<3;return r(n,T(t,4),e,s,vu)}function np(n,t){var e=G(n)?Ut:wu;return e(n,Dr(T(t,3)))}function tp(n){var t=G(n)?pu:ql;return t(n)}function ep(n,t,e){(e?Nn(n,t,e):t===i)?t=1:t=H(t);var r=G(n)?Il:Vl;return r(n,t)}function rp(n){var t=G(n)?El:Xl;return t(n)}function ip(n){if(n==null)return 0;if(Zn(n))return Ur(n)?_e(n):n.length;var t=Dn(n);return t==Vn||t==x?n.size:Ci(n).length}function sp(n,t,e){var r=G(n)?fi:Jl;return e&&Nn(n,t,e)&&(t=i),r(n,T(t,3))}var up=K(function(n,t){if(n==null)return[];var e=t.length;return e>1&&Nn(n,t[0],t[1])?t=[]:e>2&&Nn(t[0],t[1],t[2])&&(t=[t[0]]),Lu(n,Tn(t,1),[])}),Tr=ka||function(){return On.Date.now()};function op(n,t){if(typeof t!="function")throw new ft(I);return n=H(n),function(){if(--n<1)return t.apply(this,arguments)}}function So(n,t,e){return t=e?i:t,t=n&&t==null?n.length:t,Rt(n,en,i,i,i,i,t)}function Io(n,t){var e;if(typeof t!="function")throw new ft(I);return n=H(n),function(){return--n>0&&(e=t.apply(this,arguments)),n<=1&&(t=i),e}}var Xi=K(function(n,t,e){var r=Z;if(e.length){var s=Wt(e,Ie(Xi));r|=dn}return Rt(n,r,t,e,s)}),Eo=K(function(n,t,e){var r=Z|X;if(e.length){var s=Wt(e,Ie(Eo));r|=dn}return Rt(t,r,n,e,s)});function Co(n,t,e){t=e?i:t;var r=Rt(n,cn,i,i,i,i,i,t);return r.placeholder=Co.placeholder,r}function bo(n,t,e){t=e?i:t;var r=Rt(n,Fn,i,i,i,i,i,t);return r.placeholder=bo.placeholder,r}function Lo(n,t,e){var r,s,o,a,l,h,v=0,w=!1,A=!1,E=!0;if(typeof n!="function")throw new ft(I);t=pt(t)||0,_n(e)&&(w=!!e.leading,A="maxWait"in e,o=A?Ln(pt(e.maxWait)||0,t):o,E="trailing"in e?!!e.trailing:E);function M(An){var mt=r,Ft=s;return r=s=i,v=An,a=n.apply(Ft,mt),a}function P(An){return v=An,l=ke(V,t),w?M(An):a}function z(An){var mt=An-h,Ft=An-v,qo=t-mt;return A?Pn(qo,o-Ft):qo}function D(An){var mt=An-h,Ft=An-v;return h===i||mt>=t||mt<0||A&&Ft>=o}function V(){var An=Tr();if(D(An))return nn(An);l=ke(V,z(An))}function nn(An){return l=i,E&&r?M(An):(r=s=i,a)}function nt(){l!==i&&Bu(l),v=0,r=h=s=l=i}function kn(){return l===i?a:nn(Tr())}function tt(){var An=Tr(),mt=D(An);if(r=arguments,s=this,h=An,mt){if(l===i)return P(h);if(A)return Bu(l),l=ke(V,t),M(h)}return l===i&&(l=ke(V,t)),a}return tt.cancel=nt,tt.flush=kn,tt}var fp=K(function(n,t){return _u(n,1,t)}),ap=K(function(n,t,e){return _u(n,pt(t)||0,e)});function lp(n){return Rt(n,Vt)}function Pr(n,t){if(typeof n!="function"||t!=null&&typeof t!="function")throw new ft(I);var e=function(){var r=arguments,s=t?t.apply(this,r):r[0],o=e.cache;if(o.has(s))return o.get(s);var a=n.apply(this,r);return e.cache=o.set(s,a)||o,a};return e.cache=new(Pr.Cache||Lt),e}Pr.Cache=Lt;function Dr(n){if(typeof n!="function")throw new ft(I);return function(){var t=arguments;switch(t.length){case 0:return!n.call(this);case 1:return!n.call(this,t[0]);case 2:return!n.call(this,t[0],t[1]);case 3:return!n.call(this,t[0],t[1],t[2])}return!n.apply(this,t)}}function cp(n){return Io(2,n)}var hp=Ql(function(n,t){t=t.length==1&&G(t[0])?gn(t[0],Jn(T())):gn(Tn(t,1),Jn(T()));var e=t.length;return K(function(r){for(var s=-1,o=Pn(r.length,e);++s<o;)r[s]=t[s].call(this,r[s]);return Xn(n,this,r)})}),Ji=K(function(n,t){var e=Wt(t,Ie(Ji));return Rt(n,dn,i,t,e)}),Mo=K(function(n,t){var e=Wt(t,Ie(Mo));return Rt(n,$n,i,t,e)}),pp=Ot(function(n,t){return Rt(n,qn,i,i,i,t)});function gp(n,t){if(typeof n!="function")throw new ft(I);return t=t===i?t:H(t),K(n,t)}function dp(n,t){if(typeof n!="function")throw new ft(I);return t=t==null?0:Ln(H(t),0),K(function(e){var r=e[t],s=Ht(e,0,t);return r&&Bt(s,r),Xn(n,this,s)})}function _p(n,t,e){var r=!0,s=!0;if(typeof n!="function")throw new ft(I);return _n(e)&&(r="leading"in e?!!e.leading:r,s="trailing"in e?!!e.trailing:s),Lo(n,t,{leading:r,maxWait:t,trailing:s})}function vp(n){return So(n,1)}function wp(n,t){return Ji(Fi(t),n)}function xp(){if(!arguments.length)return[];var n=arguments[0];return G(n)?n:[n]}function mp(n){return lt(n,$)}function yp(n,t){return t=typeof t=="function"?t:i,lt(n,$,t)}function Ap(n){return lt(n,C|$)}function Sp(n,t){return t=typeof t=="function"?t:i,lt(n,C|$,t)}function Ip(n,t){return t==null||du(n,t,Rn(t))}function xt(n,t){return n===t||n!==n&&t!==t}var Ep=Cr(Si),Cp=Cr(function(n,t){return n>=t}),oe=yu(function(){return arguments}())?yu:function(n){return xn(n)&&un.call(n,"callee")&&!ou.call(n,"callee")},G=d.isArray,bp=Gs?Jn(Gs):Fl;function Zn(n){return n!=null&&Fr(n.length)&&!Pt(n)}function yn(n){return xn(n)&&Zn(n)}function Lp(n){return n===!0||n===!1||xn(n)&&Wn(n)==Yt}var Zt=Ga||fs,Mp=Hs?Jn(Hs):Ul;function Rp(n){return xn(n)&&n.nodeType===1&&!$e(n)}function Op(n){if(n==null)return!0;if(Zn(n)&&(G(n)||typeof n=="string"||typeof n.splice=="function"||Zt(n)||Ee(n)||oe(n)))return!n.length;var t=Dn(n);if(t==Vn||t==x)return!n.size;if(Ne(n))return!Ci(n).length;for(var e in n)if(un.call(n,e))return!1;return!0}function Tp(n,t){return Ue(n,t)}function Pp(n,t,e){e=typeof e=="function"?e:i;var r=e?e(n,t):i;return r===i?Ue(n,t,i,e):!!r}function Qi(n){if(!xn(n))return!1;var t=Wn(n);return t==ce||t==Ke||typeof n.message=="string"&&typeof n.name=="string"&&!$e(n)}function Dp(n){return typeof n=="number"&&au(n)}function Pt(n){if(!_n(n))return!1;var t=Wn(n);return t==he||t==qe||t==qr||t==Ye}function Ro(n){return typeof n=="number"&&n==H(n)}function Fr(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=En}function _n(n){var t=typeof n;return n!=null&&(t=="object"||t=="function")}function xn(n){return n!=null&&typeof n=="object"}var Oo=Zs?Jn(Zs):Wl;function Fp(n,t){return n===t||Ei(n,t,Gi(t))}function Up(n,t,e){return e=typeof e=="function"?e:i,Ei(n,t,Gi(t),e)}function Bp(n){return To(n)&&n!=+n}function Wp(n){if(yc(n))throw new N(y);return Au(n)}function Np(n){return n===null}function kp(n){return n==null}function To(n){return typeof n=="number"||xn(n)&&Wn(n)==Jt}function $e(n){if(!xn(n)||Wn(n)!=_t)return!1;var t=fr(n);if(t===null)return!0;var e=un.call(t,"constructor")&&t.constructor;return typeof e=="function"&&e instanceof e&&ir.call(e)==Ua}var ji=zs?Jn(zs):Nl;function $p(n){return Ro(n)&&n>=-En&&n<=En}var Po=Ks?Jn(Ks):kl;function Ur(n){return typeof n=="string"||!G(n)&&xn(n)&&Wn(n)==R}function jn(n){return typeof n=="symbol"||xn(n)&&Wn(n)==U}var Ee=qs?Jn(qs):$l;function Gp(n){return n===i}function Hp(n){return xn(n)&&Dn(n)==J}function Zp(n){return xn(n)&&Wn(n)==on}var zp=Cr(bi),Kp=Cr(function(n,t){return n<=t});function Do(n){if(!n)return[];if(Zn(n))return Ur(n)?vt(n):Hn(n);if(Le&&n[Le])return Ia(n[Le]());var t=Dn(n),e=t==Vn?gi:t==x?tr:Ce;return e(n)}function Dt(n){if(!n)return n===0?n:0;if(n=pt(n),n===Sn||n===-Sn){var t=n<0?-1:1;return t*rt}return n===n?n:0}function H(n){var t=Dt(n),e=t%1;return t===t?e?t-e:t:0}function Fo(n){return n?re(H(n),0,Mn):0}function pt(n){if(typeof n=="number")return n;if(jn(n))return Cn;if(_n(n)){var t=typeof n.valueOf=="function"?n.valueOf():n;n=_n(t)?t+"":t}if(typeof n!="string")return n===0?n:+n;n=js(n);var e=bf.test(n);return e||Mf.test(n)?oa(n.slice(2),e?2:8):Cf.test(n)?Cn:+n}function Uo(n){return It(n,zn(n))}function qp(n){return n?re(H(n),-En,En):n===0?n:0}function rn(n){return n==null?"":Qn(n)}var Vp=Ae(function(n,t){if(Ne(t)||Zn(t)){It(t,Rn(t),n);return}for(var e in t)un.call(t,e)&&Pe(n,e,t[e])}),Bo=Ae(function(n,t){It(t,zn(t),n)}),Br=Ae(function(n,t,e,r){It(t,zn(t),n,r)}),Yp=Ae(function(n,t,e,r){It(t,Rn(t),n,r)}),Xp=Ot(mi);function Jp(n,t){var e=ye(n);return t==null?e:gu(e,t)}var Qp=K(function(n,t){n=fn(n);var e=-1,r=t.length,s=r>2?t[2]:i;for(s&&Nn(t[0],t[1],s)&&(r=1);++e<r;)for(var o=t[e],a=zn(o),l=-1,h=a.length;++l<h;){var v=a[l],w=n[v];(w===i||xt(w,we[v])&&!un.call(n,v))&&(n[v]=o[v])}return n}),jp=K(function(n){return n.push(i,ju),Xn(Wo,i,n)});function ng(n,t){return Ys(n,T(t,3),St)}function tg(n,t){return Ys(n,T(t,3),Ai)}function eg(n,t){return n==null?n:yi(n,T(t,3),zn)}function rg(n,t){return n==null?n:xu(n,T(t,3),zn)}function ig(n,t){return n&&St(n,T(t,3))}function sg(n,t){return n&&Ai(n,T(t,3))}function ug(n){return n==null?[]:wr(n,Rn(n))}function og(n){return n==null?[]:wr(n,zn(n))}function ns(n,t,e){var r=n==null?i:ie(n,t);return r===i?e:r}function fg(n,t){return n!=null&&eo(n,t,Ol)}function ts(n,t){return n!=null&&eo(n,t,Tl)}var ag=Vu(function(n,t,e){t!=null&&typeof t.toString!="function"&&(t=sr.call(t)),n[t]=e},rs(Kn)),lg=Vu(function(n,t,e){t!=null&&typeof t.toString!="function"&&(t=sr.call(t)),un.call(n,t)?n[t].push(e):n[t]=[e]},T),cg=K(Fe);function Rn(n){return Zn(n)?hu(n):Ci(n)}function zn(n){return Zn(n)?hu(n,!0):Gl(n)}function hg(n,t){var e={};return t=T(t,3),St(n,function(r,s,o){Mt(e,t(r,s,o),r)}),e}function pg(n,t){var e={};return t=T(t,3),St(n,function(r,s,o){Mt(e,s,t(r,s,o))}),e}var gg=Ae(function(n,t,e){xr(n,t,e)}),Wo=Ae(function(n,t,e,r){xr(n,t,e,r)}),dg=Ot(function(n,t){var e={};if(n==null)return e;var r=!1;t=gn(t,function(o){return o=Gt(o,n),r||(r=o.length>1),o}),It(n,ki(n),e),r&&(e=lt(e,C|k|$,ac));for(var s=t.length;s--;)Ti(e,t[s]);return e});function _g(n,t){return No(n,Dr(T(t)))}var vg=Ot(function(n,t){return n==null?{}:Zl(n,t)});function No(n,t){if(n==null)return{};var e=gn(ki(n),function(r){return[r]});return t=T(t),Mu(n,e,function(r,s){return t(r,s[0])})}function wg(n,t,e){t=Gt(t,n);var r=-1,s=t.length;for(s||(s=1,n=i);++r<s;){var o=n==null?i:n[Et(t[r])];o===i&&(r=s,o=e),n=Pt(o)?o.call(n):o}return n}function xg(n,t,e){return n==null?n:Be(n,t,e)}function mg(n,t,e,r){return r=typeof r=="function"?r:i,n==null?n:Be(n,t,e,r)}var ko=Ju(Rn),$o=Ju(zn);function yg(n,t,e){var r=G(n),s=r||Zt(n)||Ee(n);if(t=T(t,4),e==null){var o=n&&n.constructor;s?e=r?new o:[]:_n(n)?e=Pt(o)?ye(fr(n)):{}:e={}}return(s?ot:St)(n,function(a,l,h){return t(e,a,l,h)}),e}function Ag(n,t){return n==null?!0:Ti(n,t)}function Sg(n,t,e){return n==null?n:Du(n,t,Fi(e))}function Ig(n,t,e,r){return r=typeof r=="function"?r:i,n==null?n:Du(n,t,Fi(e),r)}function Ce(n){return n==null?[]:pi(n,Rn(n))}function Eg(n){return n==null?[]:pi(n,zn(n))}function Cg(n,t,e){return e===i&&(e=t,t=i),e!==i&&(e=pt(e),e=e===e?e:0),t!==i&&(t=pt(t),t=t===t?t:0),re(pt(n),t,e)}function bg(n,t,e){return t=Dt(t),e===i?(e=t,t=0):e=Dt(e),n=pt(n),Pl(n,t,e)}function Lg(n,t,e){if(e&&typeof e!="boolean"&&Nn(n,t,e)&&(t=e=i),e===i&&(typeof t=="boolean"?(e=t,t=i):typeof n=="boolean"&&(e=n,n=i)),n===i&&t===i?(n=0,t=1):(n=Dt(n),t===i?(t=n,n=0):t=Dt(t)),n>t){var r=n;n=t,t=r}if(e||n%1||t%1){var s=lu();return Pn(n+s*(t-n+ua("1e-"+((s+"").length-1))),t)}return Mi(n,t)}var Mg=Se(function(n,t,e){return t=t.toLowerCase(),n+(e?Go(t):t)});function Go(n){return es(rn(n).toLowerCase())}function Ho(n){return n=rn(n),n&&n.replace(Of,xa).replace(Xf,"")}function Rg(n,t,e){n=rn(n),t=Qn(t);var r=n.length;e=e===i?r:re(H(e),0,r);var s=e;return e-=t.length,e>=0&&n.slice(e,s)==t}function Og(n){return n=rn(n),n&&cf.test(n)?n.replace(xs,ma):n}function Tg(n){return n=rn(n),n&&vf.test(n)?n.replace(Jr,"\\$&"):n}var Pg=Se(function(n,t,e){return n+(e?"-":"")+t.toLowerCase()}),Dg=Se(function(n,t,e){return n+(e?" ":"")+t.toLowerCase()}),Fg=zu("toLowerCase");function Ug(n,t,e){n=rn(n),t=H(t);var r=t?_e(n):0;if(!t||r>=t)return n;var s=(t-r)/2;return Er(hr(s),e)+n+Er(cr(s),e)}function Bg(n,t,e){n=rn(n),t=H(t);var r=t?_e(n):0;return t&&r<t?n+Er(t-r,e):n}function Wg(n,t,e){n=rn(n),t=H(t);var r=t?_e(n):0;return t&&r<t?Er(t-r,e)+n:n}function Ng(n,t,e){return e||t==null?t=0:t&&(t=+t),Ka(rn(n).replace(Qr,""),t||0)}function kg(n,t,e){return(e?Nn(n,t,e):t===i)?t=1:t=H(t),Ri(rn(n),t)}function $g(){var n=arguments,t=rn(n[0]);return n.length<3?t:t.replace(n[1],n[2])}var Gg=Se(function(n,t,e){return n+(e?"_":"")+t.toLowerCase()});function Hg(n,t,e){return e&&typeof e!="number"&&Nn(n,t,e)&&(t=e=i),e=e===i?Mn:e>>>0,e?(n=rn(n),n&&(typeof t=="string"||t!=null&&!ji(t))&&(t=Qn(t),!t&&de(n))?Ht(vt(n),0,e):n.split(t,e)):[]}var Zg=Se(function(n,t,e){return n+(e?" ":"")+es(t)});function zg(n,t,e){return n=rn(n),e=e==null?0:re(H(e),0,n.length),t=Qn(t),n.slice(e,e+t.length)==t}function Kg(n,t,e){var r=u.templateSettings;e&&Nn(n,t,e)&&(t=i),n=rn(n),t=Br({},t,r,Qu);var s=Br({},t.imports,r.imports,Qu),o=Rn(s),a=pi(s,o),l,h,v=0,w=t.interpolate||Xe,A="__p += '",E=di((t.escape||Xe).source+"|"+w.source+"|"+(w===ms?Ef:Xe).source+"|"+(t.evaluate||Xe).source+"|$","g"),M="//# sourceURL="+(un.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ta+"]")+`
`;n.replace(E,function(D,V,nn,nt,kn,tt){return nn||(nn=nt),A+=n.slice(v,tt).replace(Tf,ya),V&&(l=!0,A+=`' +
__e(`+V+`) +
'`),kn&&(h=!0,A+=`';
`+kn+`;
__p += '`),nn&&(A+=`' +
((__t = (`+nn+`)) == null ? '' : __t) +
'`),v=tt+D.length,D}),A+=`';
`;var P=un.call(t,"variable")&&t.variable;if(!P)A=`with (obj) {
`+A+`
}
`;else if(Sf.test(P))throw new N(L);A=(h?A.replace(of,""):A).replace(ff,"$1").replace(af,"$1;"),A="function("+(P||"obj")+`) {
`+(P?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(l?", __e = _.escape":"")+(h?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+A+`return __p
}`;var z=zo(function(){return tn(o,M+"return "+A).apply(i,a)});if(z.source=A,Qi(z))throw z;return z}function qg(n){return rn(n).toLowerCase()}function Vg(n){return rn(n).toUpperCase()}function Yg(n,t,e){if(n=rn(n),n&&(e||t===i))return js(n);if(!n||!(t=Qn(t)))return n;var r=vt(n),s=vt(t),o=nu(r,s),a=tu(r,s)+1;return Ht(r,o,a).join("")}function Xg(n,t,e){if(n=rn(n),n&&(e||t===i))return n.slice(0,ru(n)+1);if(!n||!(t=Qn(t)))return n;var r=vt(n),s=tu(r,vt(t))+1;return Ht(r,0,s).join("")}function Jg(n,t,e){if(n=rn(n),n&&(e||t===i))return n.replace(Qr,"");if(!n||!(t=Qn(t)))return n;var r=vt(n),s=nu(r,vt(t));return Ht(r,s).join("")}function Qg(n,t){var e=ae,r=vn;if(_n(t)){var s="separator"in t?t.separator:s;e="length"in t?H(t.length):e,r="omission"in t?Qn(t.omission):r}n=rn(n);var o=n.length;if(de(n)){var a=vt(n);o=a.length}if(e>=o)return n;var l=e-_e(r);if(l<1)return r;var h=a?Ht(a,0,l).join(""):n.slice(0,l);if(s===i)return h+r;if(a&&(l+=h.length-l),ji(s)){if(n.slice(l).search(s)){var v,w=h;for(s.global||(s=di(s.source,rn(ys.exec(s))+"g")),s.lastIndex=0;v=s.exec(w);)var A=v.index;h=h.slice(0,A===i?l:A)}}else if(n.indexOf(Qn(s),l)!=l){var E=h.lastIndexOf(s);E>-1&&(h=h.slice(0,E))}return h+r}function jg(n){return n=rn(n),n&&lf.test(n)?n.replace(ws,La):n}var nd=Se(function(n,t,e){return n+(e?" ":"")+t.toUpperCase()}),es=zu("toUpperCase");function Zo(n,t,e){return n=rn(n),t=e?i:t,t===i?Sa(n)?Oa(n):ga(n):n.match(t)||[]}var zo=K(function(n,t){try{return Xn(n,i,t)}catch(e){return Qi(e)?e:new N(e)}}),td=Ot(function(n,t){return ot(t,function(e){e=Et(e),Mt(n,e,Xi(n[e],n))}),n});function ed(n){var t=n==null?0:n.length,e=T();return n=t?gn(n,function(r){if(typeof r[1]!="function")throw new ft(I);return[e(r[0]),r[1]]}):[],K(function(r){for(var s=-1;++s<t;){var o=n[s];if(Xn(o[0],this,r))return Xn(o[1],this,r)}})}function rd(n){return Ll(lt(n,C))}function rs(n){return function(){return n}}function id(n,t){return n==null||n!==n?t:n}var sd=qu(),ud=qu(!0);function Kn(n){return n}function is(n){return Su(typeof n=="function"?n:lt(n,C))}function od(n){return Eu(lt(n,C))}function fd(n,t){return Cu(n,lt(t,C))}var ad=K(function(n,t){return function(e){return Fe(e,n,t)}}),ld=K(function(n,t){return function(e){return Fe(n,e,t)}});function ss(n,t,e){var r=Rn(t),s=wr(t,r);e==null&&!(_n(t)&&(s.length||!r.length))&&(e=t,t=n,n=this,s=wr(t,Rn(t)));var o=!(_n(e)&&"chain"in e)||!!e.chain,a=Pt(n);return ot(s,function(l){var h=t[l];n[l]=h,a&&(n.prototype[l]=function(){var v=this.__chain__;if(o||v){var w=n(this.__wrapped__),A=w.__actions__=Hn(this.__actions__);return A.push({func:h,args:arguments,thisArg:n}),w.__chain__=v,w}return h.apply(n,Bt([this.value()],arguments))})}),n}function cd(){return On._===this&&(On._=Ba),this}function us(){}function hd(n){return n=H(n),K(function(t){return bu(t,n)})}var pd=Bi(gn),gd=Bi(Vs),dd=Bi(fi);function Ko(n){return Zi(n)?ai(Et(n)):zl(n)}function _d(n){return function(t){return n==null?i:ie(n,t)}}var vd=Yu(),wd=Yu(!0);function os(){return[]}function fs(){return!1}function xd(){return{}}function md(){return""}function yd(){return!0}function Ad(n,t){if(n=H(n),n<1||n>En)return[];var e=Mn,r=Pn(n,Mn);t=T(t),n-=Mn;for(var s=hi(r,t);++e<n;)t(e);return s}function Sd(n){return G(n)?gn(n,Et):jn(n)?[n]:Hn(co(rn(n)))}function Id(n){var t=++Fa;return rn(n)+t}var Ed=Ir(function(n,t){return n+t},0),Cd=Wi("ceil"),bd=Ir(function(n,t){return n/t},1),Ld=Wi("floor");function Md(n){return n&&n.length?vr(n,Kn,Si):i}function Rd(n,t){return n&&n.length?vr(n,T(t,2),Si):i}function Od(n){return Js(n,Kn)}function Td(n,t){return Js(n,T(t,2))}function Pd(n){return n&&n.length?vr(n,Kn,bi):i}function Dd(n,t){return n&&n.length?vr(n,T(t,2),bi):i}var Fd=Ir(function(n,t){return n*t},1),Ud=Wi("round"),Bd=Ir(function(n,t){return n-t},0);function Wd(n){return n&&n.length?ci(n,Kn):0}function Nd(n,t){return n&&n.length?ci(n,T(t,2)):0}return u.after=op,u.ary=So,u.assign=Vp,u.assignIn=Bo,u.assignInWith=Br,u.assignWith=Yp,u.at=Xp,u.before=Io,u.bind=Xi,u.bindAll=td,u.bindKey=Eo,u.castArray=xp,u.chain=mo,u.chunk=Lc,u.compact=Mc,u.concat=Rc,u.cond=ed,u.conforms=rd,u.constant=rs,u.countBy=Wh,u.create=Jp,u.curry=Co,u.curryRight=bo,u.debounce=Lo,u.defaults=Qp,u.defaultsDeep=jp,u.defer=fp,u.delay=ap,u.difference=Oc,u.differenceBy=Tc,u.differenceWith=Pc,u.drop=Dc,u.dropRight=Fc,u.dropRightWhile=Uc,u.dropWhile=Bc,u.fill=Wc,u.filter=kh,u.flatMap=Hh,u.flatMapDeep=Zh,u.flatMapDepth=zh,u.flatten=_o,u.flattenDeep=Nc,u.flattenDepth=kc,u.flip=lp,u.flow=sd,u.flowRight=ud,u.fromPairs=$c,u.functions=ug,u.functionsIn=og,u.groupBy=Kh,u.initial=Hc,u.intersection=Zc,u.intersectionBy=zc,u.intersectionWith=Kc,u.invert=ag,u.invertBy=lg,u.invokeMap=Vh,u.iteratee=is,u.keyBy=Yh,u.keys=Rn,u.keysIn=zn,u.map=Or,u.mapKeys=hg,u.mapValues=pg,u.matches=od,u.matchesProperty=fd,u.memoize=Pr,u.merge=gg,u.mergeWith=Wo,u.method=ad,u.methodOf=ld,u.mixin=ss,u.negate=Dr,u.nthArg=hd,u.omit=dg,u.omitBy=_g,u.once=cp,u.orderBy=Xh,u.over=pd,u.overArgs=hp,u.overEvery=gd,u.overSome=dd,u.partial=Ji,u.partialRight=Mo,u.partition=Jh,u.pick=vg,u.pickBy=No,u.property=Ko,u.propertyOf=_d,u.pull=Xc,u.pullAll=wo,u.pullAllBy=Jc,u.pullAllWith=Qc,u.pullAt=jc,u.range=vd,u.rangeRight=wd,u.rearg=pp,u.reject=np,u.remove=nh,u.rest=gp,u.reverse=Vi,u.sampleSize=ep,u.set=xg,u.setWith=mg,u.shuffle=rp,u.slice=th,u.sortBy=up,u.sortedUniq=fh,u.sortedUniqBy=ah,u.split=Hg,u.spread=dp,u.tail=lh,u.take=ch,u.takeRight=hh,u.takeRightWhile=ph,u.takeWhile=gh,u.tap=Mh,u.throttle=_p,u.thru=Rr,u.toArray=Do,u.toPairs=ko,u.toPairsIn=$o,u.toPath=Sd,u.toPlainObject=Uo,u.transform=yg,u.unary=vp,u.union=dh,u.unionBy=_h,u.unionWith=vh,u.uniq=wh,u.uniqBy=xh,u.uniqWith=mh,u.unset=Ag,u.unzip=Yi,u.unzipWith=xo,u.update=Sg,u.updateWith=Ig,u.values=Ce,u.valuesIn=Eg,u.without=yh,u.words=Zo,u.wrap=wp,u.xor=Ah,u.xorBy=Sh,u.xorWith=Ih,u.zip=Eh,u.zipObject=Ch,u.zipObjectDeep=bh,u.zipWith=Lh,u.entries=ko,u.entriesIn=$o,u.extend=Bo,u.extendWith=Br,ss(u,u),u.add=Ed,u.attempt=zo,u.camelCase=Mg,u.capitalize=Go,u.ceil=Cd,u.clamp=Cg,u.clone=mp,u.cloneDeep=Ap,u.cloneDeepWith=Sp,u.cloneWith=yp,u.conformsTo=Ip,u.deburr=Ho,u.defaultTo=id,u.divide=bd,u.endsWith=Rg,u.eq=xt,u.escape=Og,u.escapeRegExp=Tg,u.every=Nh,u.find=$h,u.findIndex=po,u.findKey=ng,u.findLast=Gh,u.findLastIndex=go,u.findLastKey=tg,u.floor=Ld,u.forEach=yo,u.forEachRight=Ao,u.forIn=eg,u.forInRight=rg,u.forOwn=ig,u.forOwnRight=sg,u.get=ns,u.gt=Ep,u.gte=Cp,u.has=fg,u.hasIn=ts,u.head=vo,u.identity=Kn,u.includes=qh,u.indexOf=Gc,u.inRange=bg,u.invoke=cg,u.isArguments=oe,u.isArray=G,u.isArrayBuffer=bp,u.isArrayLike=Zn,u.isArrayLikeObject=yn,u.isBoolean=Lp,u.isBuffer=Zt,u.isDate=Mp,u.isElement=Rp,u.isEmpty=Op,u.isEqual=Tp,u.isEqualWith=Pp,u.isError=Qi,u.isFinite=Dp,u.isFunction=Pt,u.isInteger=Ro,u.isLength=Fr,u.isMap=Oo,u.isMatch=Fp,u.isMatchWith=Up,u.isNaN=Bp,u.isNative=Wp,u.isNil=kp,u.isNull=Np,u.isNumber=To,u.isObject=_n,u.isObjectLike=xn,u.isPlainObject=$e,u.isRegExp=ji,u.isSafeInteger=$p,u.isSet=Po,u.isString=Ur,u.isSymbol=jn,u.isTypedArray=Ee,u.isUndefined=Gp,u.isWeakMap=Hp,u.isWeakSet=Zp,u.join=qc,u.kebabCase=Pg,u.last=ht,u.lastIndexOf=Vc,u.lowerCase=Dg,u.lowerFirst=Fg,u.lt=zp,u.lte=Kp,u.max=Md,u.maxBy=Rd,u.mean=Od,u.meanBy=Td,u.min=Pd,u.minBy=Dd,u.stubArray=os,u.stubFalse=fs,u.stubObject=xd,u.stubString=md,u.stubTrue=yd,u.multiply=Fd,u.nth=Yc,u.noConflict=cd,u.noop=us,u.now=Tr,u.pad=Ug,u.padEnd=Bg,u.padStart=Wg,u.parseInt=Ng,u.random=Lg,u.reduce=Qh,u.reduceRight=jh,u.repeat=kg,u.replace=$g,u.result=wg,u.round=Ud,u.runInContext=c,u.sample=tp,u.size=ip,u.snakeCase=Gg,u.some=sp,u.sortedIndex=eh,u.sortedIndexBy=rh,u.sortedIndexOf=ih,u.sortedLastIndex=sh,u.sortedLastIndexBy=uh,u.sortedLastIndexOf=oh,u.startCase=Zg,u.startsWith=zg,u.subtract=Bd,u.sum=Wd,u.sumBy=Nd,u.template=Kg,u.times=Ad,u.toFinite=Dt,u.toInteger=H,u.toLength=Fo,u.toLower=qg,u.toNumber=pt,u.toSafeInteger=qp,u.toString=rn,u.toUpper=Vg,u.trim=Yg,u.trimEnd=Xg,u.trimStart=Jg,u.truncate=Qg,u.unescape=jg,u.uniqueId=Id,u.upperCase=nd,u.upperFirst=es,u.each=yo,u.eachRight=Ao,u.first=vo,ss(u,function(){var n={};return St(u,function(t,e){un.call(u.prototype,e)||(n[e]=t)}),n}(),{chain:!1}),u.VERSION=p,ot(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){u[n].placeholder=u}),ot(["drop","take"],function(n,t){Q.prototype[n]=function(e){e=e===i?1:Ln(H(e),0);var r=this.__filtered__&&!t?new Q(this):this.clone();return r.__filtered__?r.__takeCount__=Pn(e,r.__takeCount__):r.__views__.push({size:Pn(e,Mn),type:n+(r.__dir__<0?"Right":"")}),r},Q.prototype[n+"Right"]=function(e){return this.reverse()[n](e).reverse()}}),ot(["filter","map","takeWhile"],function(n,t){var e=t+1,r=e==dt||e==B;Q.prototype[n]=function(s){var o=this.clone();return o.__iteratees__.push({iteratee:T(s,3),type:e}),o.__filtered__=o.__filtered__||r,o}}),ot(["head","last"],function(n,t){var e="take"+(t?"Right":"");Q.prototype[n]=function(){return this[e](1).value()[0]}}),ot(["initial","tail"],function(n,t){var e="drop"+(t?"":"Right");Q.prototype[n]=function(){return this.__filtered__?new Q(this):this[e](1)}}),Q.prototype.compact=function(){return this.filter(Kn)},Q.prototype.find=function(n){return this.filter(n).head()},Q.prototype.findLast=function(n){return this.reverse().find(n)},Q.prototype.invokeMap=K(function(n,t){return typeof n=="function"?new Q(this):this.map(function(e){return Fe(e,n,t)})}),Q.prototype.reject=function(n){return this.filter(Dr(T(n)))},Q.prototype.slice=function(n,t){n=H(n);var e=this;return e.__filtered__&&(n>0||t<0)?new Q(e):(n<0?e=e.takeRight(-n):n&&(e=e.drop(n)),t!==i&&(t=H(t),e=t<0?e.dropRight(-t):e.take(t-n)),e)},Q.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},Q.prototype.toArray=function(){return this.take(Mn)},St(Q.prototype,function(n,t){var e=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),s=u[r?"take"+(t=="last"?"Right":""):t],o=r||/^find/.test(t);s&&(u.prototype[t]=function(){var a=this.__wrapped__,l=r?[1]:arguments,h=a instanceof Q,v=l[0],w=h||G(a),A=function(V){var nn=s.apply(u,Bt([V],l));return r&&E?nn[0]:nn};w&&e&&typeof v=="function"&&v.length!=1&&(h=w=!1);var E=this.__chain__,M=!!this.__actions__.length,P=o&&!E,z=h&&!M;if(!o&&w){a=z?a:new Q(this);var D=n.apply(a,l);return D.__actions__.push({func:Rr,args:[A],thisArg:i}),new at(D,E)}return P&&z?n.apply(this,l):(D=this.thru(A),P?r?D.value()[0]:D.value():D)})}),ot(["pop","push","shift","sort","splice","unshift"],function(n){var t=er[n],e=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",r=/^(?:pop|shift)$/.test(n);u.prototype[n]=function(){var s=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply(G(o)?o:[],s)}return this[e](function(a){return t.apply(G(a)?a:[],s)})}}),St(Q.prototype,function(n,t){var e=u[t];if(e){var r=e.name+"";un.call(me,r)||(me[r]=[]),me[r].push({name:t,func:e})}}),me[Sr(i,X).name]=[{name:"wrapper",func:i}],Q.prototype.clone=ja,Q.prototype.reverse=nl,Q.prototype.value=tl,u.prototype.at=Rh,u.prototype.chain=Oh,u.prototype.commit=Th,u.prototype.next=Ph,u.prototype.plant=Fh,u.prototype.reverse=Uh,u.prototype.toJSON=u.prototype.valueOf=u.prototype.value=Bh,u.prototype.first=u.prototype.head,Le&&(u.prototype[Le]=Dh),u},ve=Ta();jt?((jt.exports=ve)._=ve,ii._=ve):On._=ve}).call(Ge)})(Hr,Hr.exports);Hr.exports;const C0="/assets/top_view-4gr4hmiW.svg",b0="AIzaSyD8TrUWS9FRTu-MRP339mJF_iWlORvEGUA";function L0({showCard:S,loadingVehicle:f}){const{center:i,selectedParameterList:p,selectedVehicle:g,vehicleList:y,icons:I,locationData:L,placesData:m,imeiNumbers:F,onlineVehicle:O,loading:C,services_loading:k}=qt(x=>x.liveMap),{mode:$,styles:j,vehicles_details:Y}=qt(x=>x.dashboard),{collapsed:Z}=qt(x=>x.auth),[X,In]=sn.useState(null),[cn,Fn]=sn.useState(""),[dn,$n]=sn.useState(),[en,qn]=sn.useState(),[Vt,ae]=sn.useState(null);sn.useState("");const[vn,mn]=sn.useState(),[Un,dt]=sn.useState(!1),Ct=ef(),B={},Sn=sn.useRef([]),En=sn.useRef(null),rt=sn.useRef({}),{isLoaded:Cn,loadError:Mn}=e0({googleMapsApiKey:`${b0}`,loadingElement:W.jsx(Qd,{})});sn.useEffect(()=>{Cn&&In(window.google.maps)},[Cn]),sn.useEffect(()=>{if(Object.keys(g).length>0){const x=L==null?void 0:L.filter(R=>{var U;return((U=R==null?void 0:R.latestDocument)==null?void 0:U.imei)==(g==null?void 0:g.imei)});$n(x)}else $n(L)},[L,g]),sn.useEffect(()=>{qn(p)},[p]),sn.useEffect(()=>{Ct($d({})),dt(!0)},[g]),sn.useEffect(()=>{if(console.log("before: ",dn),!X)return;const x=En.current;let R=null;return(async()=>{console.log("after: ",dn);const q=await Zr(dn,g,Gr,x);R&&R.clearMarkers(),R=ce(q,x),as.on("locationinfo",J=>{console.log("locationinfo: ",J),qe(J,Sn,rt,g,dn,en)})})(),()=>{R&&R.clearMarkers(),Object.keys(rt.current).forEach(q=>cancelAnimationFrame(rt.current[q])),as.off("locationinfo")}},[X,dn,g,as,en,L,Sn]);const Zr=(x,R,U,q)=>x.map(J=>{const on=J.latestDocument.imei,an=Sn.current[on]||zr(J,R,U,q);return Sn.current[on]&&Kr(J,an),an}),zr=(x,R,U,q)=>{const J=x.latestDocument.imei,on=new X.Marker({position:{lat:x.latestDocument.lat,lng:x.latestDocument.lng},map:q,icon:yt(x)});return on.addListener("click",()=>Xt(x,on,q)),Sn.current[J]=on,on},Kr=async(x,R,U,q)=>{var wn;const J=R.getPosition(),on=((wn=R.getIcon())==null?void 0:wn.rotation)||0,an={lat:x.latestDocument.lat,lng:x.latestDocument.lng},hn=x.latestDocument.heading||0;Ke(R,J,an,on,hn);const Gn=await yt(x);R.setIcon(Gn)},yt=async(x,R,U)=>{var wn,Yn,Bn,it,At;const q=(wn=x==null?void 0:x.latestDocument)==null?void 0:wn.imei;Vn(q);const J=Vr(),on=((Yn=x==null?void 0:x.latestDocument)==null?void 0:Yn.heading)||0;let an=le((Bn=x==null?void 0:x.latestDocument)==null?void 0:Bn.imei),hn="black";return an&&qr((it=x==null?void 0:x.latestDocument)==null?void 0:it.imei)&&(hn="red"),{url:await Yt(J,on,hn),fillOpacity:2,strokeWeight:1,scale:4.5,rotation:(At=x==null?void 0:x.latestDocument)==null?void 0:At.heading,size:new X.Size(30,30),scaledSize:new X.Size(30,30)}},le=x=>O.includes(Number(x)),qr=x=>L==null?void 0:L.some(R=>Number(R.latestDocument.imei)===Number(x)&&R.latestDocument.speed>0&&(R.latestDocument.ignition===!0||R.latestDocument.ignition===1)),Yt=(x,R,U,q=80)=>{const J=`${x}-${R}-${q}-${U}`;if(B[J])return Promise.resolve(B[J]);const on=document.createElement("canvas"),an=on.getContext("2d");on.width=q,on.height=q;const hn=new Image;return hn.src=x,new Promise(Gn=>{hn.onload=()=>{if(an.clearRect(0,0,on.width,on.height),an.translate(q/2,q/2),an.rotate(R*Math.PI/180),an.translate(-q/2,-q/2),an.drawImage(hn,0,0,q,q),U){const Bn=q-30-5,it=q-30-5;an.beginPath(),an.arc(Bn,it,30/2,0,Math.PI*2),an.fillStyle=U,an.fill()}const wn=on.toDataURL("image/png");B[J]=wn,Gn(wn)},hn.onerror=wn=>{console.error("Error loading image for rotation:",wn),Gn(x)}})},Xt=(x,R,U)=>{_t(x.latestDocument._id,x,R,U),Ve(x.latestDocument.imei)},Ke=(x,R,U,q,J)=>{const an=performance.now(),hn=()=>{const Gn=performance.now()-an,wn=Math.min(Gn/500,1),Yn=R.lat()+wn*(U.lat-R.lat()),Bn=R.lng()+wn*(U.lng-R.lng()),it=(J-q+360)%360-180,At=(q+it*wn+360)%360;x.setPosition({lat:Yn,lng:Bn});const st=x.getIcon();st&&typeof st=="object"&&x.setIcon({...st,rotation:At}),wn<1?rt.current[x.getPosition()]=requestAnimationFrame(hn):(x.setPosition(U),st&&typeof st=="object"&&x.setIcon({...st,rotation:J}),delete rt.current[x.getPosition()])};rt.current[x.getPosition()]=requestAnimationFrame(hn)},ce=(x,R)=>new E0({map:R,markers:x,renderer:{render:({count:U,position:q})=>he(U,q)}}),he=(x,R)=>{const U=40+Math.min(x*2,40),q=30;let J;return x<10?J={start:"#76c7c0",end:"#34a853"}:x<50?J={start:"#fbbc05",end:"#f2994a"}:J={start:"#f45c42",end:"#d32f2f"},new X.Marker({position:R,icon:{url:`data:image/svg+xml,${encodeURIComponent(`
          <svg xmlns="http://www.w3.org/2000/svg" width="${U}" height="${U}" viewBox="0 0 100 100">
            <defs>
              <radialGradient id="gradient" cx="50%" cy="50%" r="50%">
                <stop offset="0%" stop-color="${J.start}" />
                <stop offset="100%" stop-color="${J.end}" />
              </radialGradient>
              <filter id="shadow" x="-50%" y="-50%" width="200%" height="200%">
                <feDropShadow dx="0" dy="2" stdDeviation="3" flood-color="rgba(0, 0, 0, 0.5)" />
              </filter>
            </defs>
            <!-- Outer Pulsating Ring -->
            <circle cx="50" cy="50" r="48" fill="url(#gradient)" filter="url(#shadow)" stroke="#ffffff" stroke-width="3" />
            <!-- Decorative Inner Ring -->
            <circle cx="50" cy="50" r="38" fill="none" stroke="#ffffff" stroke-width="2" stroke-dasharray="4 2" />
            <!-- Star Decoration -->
            <polygon points="50,15 54,38 70,38 57,50 62,68 50,57 38,68 43,50 30,38 46,38" fill="#ffffff" opacity="0.4" />
            <!-- Count Text -->
            <text x="50" y="55" font-size="${q}" fill="black" text-anchor="middle" font-family="'Courier New', monospace" font-weight="bold">
              ${x}
            </text>
          </svg>
        `)}`,scaledSize:new X.Size(U,U)},label:null})},qe=async(x,R,U,q,J,on)=>{var Gn,wn;const an=x.imei,hn=R.current[an];if(hn){const Yn=hn.getPosition(),Bn=((Gn=hn.getIcon())==null?void 0:Gn.rotation)||0,it={lat:x.lat,lng:x.lng},At=x.heading||0;Ke(hn,Yn,it,Bn,At);const st=await yt({latestDocument:x});hn.setIcon(st)}if(String(x.imei)===String((wn=on[0])==null?void 0:wn.imei)){const Yn=on[0].params.map(Bn=>({...Bn,value:x[Bn.label]}));qn([{...on[0],params:Yn}])}},Vn=x=>{if(!x)return"motorBike";const R=Jt(x);return R||console.error(`No vehicle type found for IMEI: ${x}, defaulting to motorBike`),R||"motorBike"},Jt=x=>{if(!Y||Y.length===0)return console.error("vehicles_details is not available"),null;const R=Y.find(U=>(U==null?void 0:U.value)===x&&(U==null?void 0:U.vehilce_type));return R||console.error(`No vehicle found for IMEI: ${x}`),R?R.vehilce_type:null},Vr=x=>C0,_t=(x,R,U,q)=>{const J=new X.InfoWindow,on=`
      <div>
        <h3>Vehicle IMEI: ${R.latestDocument.imei}</h3>
         
      </div>
    `;Vt===x?(J.close(),ae(null)):(J.setContent(on),J.open(q,U),ae(x))},Ve=x=>{const R=Y&&(Y==null?void 0:Y.length)>0&&Y.find(U=>(U==null?void 0:U.value)===x&&U);mn(R||null)},Ye=()=>{Object.keys(g).length>0||Un?dt(!Un):$r.error("Please select any vehicle")};if(Mn)return"Error loading maps";if(!Cn)return"Loading maps";if(!X)return null;const Qt={height:S?"85vh":"93vh",width:"100%",transition:"transform 0.5s ease-in-out"};return W.jsxs(W.Fragment,{children:[S&&W.jsx(f0,{activeParams:en}),W.jsx(gt,{sx:{position:"absolute",top:"780px",left:Z?"74px":"250px",zIndex:1,background:Gr.bgColor,padding:"5px",borderRadius:"10px",color:"white"},children:W.jsxs(kr,{sx:{color:"white"},onClick:Ye,children:[Un?"Hide":"Show"," Vehicle Info",W.jsx(u0,{})]})}),Un===!0&&W.jsx(c0,{handleVehicleInfo:Ye}),W.jsxs(r0,{id:"map",mapContainerStyle:Qt,zoom:Object.keys(g).length>0?15:5.8,center:i,onLoad:x=>{En.current=x},options:{styles:$?j:""},children:[Object.keys(g).length>0&&W.jsx(jd,{setPlace:Fn,place:cn}),k||f?W.jsx(gt,{sx:{position:"absolute",top:"50%",left:"50%"},children:W.jsx(s0,{})}):m&&m.length>0&&m.map((x,R)=>{var U,q;return W.jsx(i0,{position:{lat:parseFloat((U=x==null?void 0:x.location)==null?void 0:U.lat),lng:parseFloat((q=x==null?void 0:x.location)==null?void 0:q.lng)},animation:window.google.maps.Animation.DROP,icon:{path:I[`${cn}`],fillOpacity:2,strokeWeight:1,scale:1,fillColor:"orange"}},R)})]})]})}function Q0(){const{locationData:S,selectedVehicle:f,selectedParameterList:i}=qt(vn=>vn.liveMap),{mode:p,selectedVehicleGroup:g}=qt(vn=>vn.dashboard),y=Jd(p),[I,L]=sn.useState([]),{w_customer_id:m}=qt(vn=>vn.auth),[F,O]=sn.useState(),[C,k]=sn.useState(!1),[$,j]=sn.useState(!1),[Y,Z]=sn.useState([]),[X,In]=sn.useState(!0),[cn,Fn]=sn.useState(!1),[dn,$n]=sn.useState(!1);let en=ef();sn.useEffect(()=>{en(Gd({}))},[]),sn.useEffect(()=>{qn()},[]),sn.useEffect(()=>{var vn;if(Object.keys(f).length>0){const mn=(S==null?void 0:S.length)>0&&(S==null?void 0:S.filter(B=>Number(B.latestDocument.imei)===Number(f==null?void 0:f.imei)));if((mn==null?void 0:mn.length)<=0){$r.error("Data not available for this vehicle",{id:"clipboard"});return}const{lat:Un,lng:dt}=((vn=mn==null?void 0:mn[0])==null?void 0:vn.latestDocument)??{},Ct={lat:Un||Yo.lat,lng:dt||Yo.lat};en(Hd(Ct))}},[f,S]),sn.useEffect(()=>{Z([]),en(Vo([{reg_id:"",imei:"",params:[]}]))},[f]);const qn=async()=>{try{Fn(!0);let vn=[],mn=[];const Un=await en(Zd({w_customer_id:m}));if(Array.isArray(Un.payload)){Un.payload.forEach(B=>{var Sn,En,rt,Cn;Array.isArray(B.imei)&&B.imei.length>0&&((Sn=B.imei[0])!=null&&Sn.mac_id)?(vn.push({id:B.id,label:B.registration_id,value:(En=B.imei[0])==null?void 0:En.mac_id,vehilce_type:B==null?void 0:B.segment,chassis_no:B==null?void 0:B.chassis_no,engine_no:B==null?void 0:B.engine_no,workShop:B==null?void 0:B.workshop,registration_id:B==null?void 0:B.registration_id,sell_date:B==null?void 0:B.sell_date,customer_name:B==null?void 0:B.customer_name,vehicle_model:(rt=B==null?void 0:B.vehicle_model)==null?void 0:rt.name,vehicle_group:B==null?void 0:B.vehicle_group}),mn.push((Cn=B.imei[0])==null?void 0:Cn.mac_id)):console.error("IMEI data not found for item:",B)});const dt="one",Ct=mn;mn.length>0&&en(zd({type:dt,imei:Ct})),L(vn),en(Kd(vn)),en(qd({w_customer_id:m})),Fn(!1)}else Fn(!1),console.error("Unexpected data format:",Un),$r.error("Unexpected data format:")}catch(vn){console.error("Error fetching vehicle data:",vn),$r.error(`Error fetching vehicle data: ${vn}`)}},Vt=async vn=>{const{label:mn,imei:Un,id:dt,reg_id:Ct,checked:B}=vn;O(Cn=>Cn.map(Mn=>Mn.id===dt?{...Mn,checked:!B}:Mn));let Sn=[...Y],En=[...Y];if(!B)S.forEach(Cn=>{Cn.latestDocument.imei===Un&&(Sn.push({label:mn,value:Cn.latestDocument[mn==="maininputvoltage"?"mainInputVoltage":mn]}),En=Sn,Z(Sn))});else{let Cn=Y.filter(Mn=>Mn.label!==mn);En=Cn,Z(Cn)}console.log("tempParamList",En),en(Vo([{reg_id:Ct,imei:Un,params:En}]))},ae=I.filter(vn=>Object.keys(g).length===0||vn.vehicle_group===g.id);return W.jsxs("div",{className:"app",children:[W.jsx(Xd,{}),W.jsxs("main",{className:"content",style:{width:"100%",background:"#dad6d626"},children:[W.jsx(Vd,{title:"Live Map",setShowVehicles:k,showVehicles:C,showParameters:$,setShowParameters:j,setShowCard:In,showCard:X,setShowVehiclesGroup:$n,showVehiclesGroup:dn}),W.jsx(t0,{setShowVehiclesGroup:$n,showVehiclesGroup:dn,where:"livemap"}),W.jsxs(gt,{style:{display:"flex",width:"100%",height:"95vh"},children:[W.jsx(gt,{style:{width:C||$?"80%":"100%"},children:W.jsx(L0,{showCard:X,loadingVehicle:cn})}),C&&W.jsx(gt,{style:{width:"20%",backgroundColor:y.grey[100]},children:W.jsx(Yd,{vehicleData:ae,title:"Live Map",setParameterData:O,loadingVehicle:cn,setShowVehicles:k,showVehicles:C,showParameters:$,setShowParameters:j})}),$&&W.jsx(gt,{style:{width:"20%",backgroundColor:y.grey[100]},children:W.jsx(n0,{parametersData:F,setParameterData:O,handleParameterChange:Vt})})]})]})]})}export{Q0 as default};
