import{o as f,p as o,r as c,j as s,cj as T,aQ as R,ck as k,cl as y,cm as g,cn as t,co as D,P as v,dn as A,dL as _,a0 as B,V as E,B as m,A as I}from"./index-Cp4QFi0W.js";import"./DateTimePicker-DHqm5Cvb.js";import"./InspectionsTable-CyOUTR2I.js";import"./ServiceRecordTable-BJa7wQCj.js";import"./Loader-Du2YI5Q4.js";import{S as V}from"./ServicesTopBar-BEgtO04z.js";import{A as H}from"./AddBreakdown-BSBI88-R.js";import"./BarChart-sMXJqTXF.js";import"./DialogContentText-BZk7AFaF.js";import"./Edit-OuhzljC0.js";import"./index.esm-CnKBoDe4.js";import"./formik.esm-Bm3T1UYG.js";import"./TextField-DDxAz2Ki.js";import"./Autocomplete-sE5ONsgP.js";import"./excelUtils-B6Yt8QvY.js";import"./Card-Boprh9Dj.js";import"./CardContent-VKOGL9Uv.js";import"./Add-DK7Jy2M5.js";import"./useMediaQuery-C8ySBz--.js";const U=()=>{const d=f(),{ticketList:r}=o(e=>e.rsaReport),{searchTerm:n}=o(e=>e.inspection),[h,x]=c.useState([]),[i,l]=c.useState(0),[a,C]=c.useState(12),P=async()=>{try{d(_())}catch(e){console.log("error",e)}};c.useEffect(()=>{P()},[]),c.useEffect(()=>{},[r]);const L=(e,p)=>{l(p)},S=e=>{C(parseInt(e.target.value,10)),l(0)},b=r.filter(e=>e.ticket_id.toLowerCase().includes(n.toLowerCase())||e.status.toLowerCase().includes(n.toLowerCase())||e.vehicle.toLowerCase().includes(n.toLowerCase())||e.user.first_name.toLowerCase().includes(n.toLowerCase())||e.user.last_name.toLowerCase().includes(n.toLowerCase()));return s.jsxs(T,{component:R,children:[s.jsxs(k,{children:[s.jsx(y,{children:s.jsxs(g,{children:[s.jsx(t,{children:"Sr no"}),s.jsx(t,{children:"Req ID"}),s.jsx(t,{children:"User"}),s.jsx(t,{children:"Created Date"}),s.jsx(t,{children:"Vehicle"}),s.jsx(t,{children:"Current Status"})]})}),s.jsx(D,{children:b.slice(i*a,i*a+a).map((e,p)=>{var u,j;return s.jsxs(g,{children:[s.jsx(t,{children:i*a+p+1}),s.jsx(t,{children:e==null?void 0:e.ticket_id}),s.jsx(t,{children:((u=e==null?void 0:e.user)==null?void 0:u.first_name)+" "+((j=e==null?void 0:e.user)==null?void 0:j.last_name)}),s.jsx(t,{children:v(new Date(e==null?void 0:e.created)).format("DD-MM-YYY HH:mm")}),s.jsx(t,{children:e==null?void 0:e.vehicle}),s.jsx(t,{children:e==null?void 0:e.status})]},e==null?void 0:e.id)})})]}),s.jsx(A,{rowsPerPageOptions:[12],component:"div",count:h.length,rowsPerPage:a,page:i,onPageChange:L,onRowsPerPageChange:S})]})},ae=()=>{o(a=>a.dashboard);const{w_customer_id:d}=o(a=>a.auth);let r=f();c.useState(!1);const[n,h]=c.useState(!1),[x,i]=c.useState(!1);c.useState([]),c.useEffect(()=>{l()},[]);const l=async()=>{try{const a=await r(B({w_customer_id:d}))}catch{}};return s.jsxs("div",{className:"app",children:[s.jsx(E,{}),s.jsxs("main",{className:"content",style:{width:"100%",background:"#dad6d626"},children:[s.jsx(V,{title:"Rsa Reports"}),s.jsx(m,{style:{display:"flex",width:"100%",height:"95vh"},children:s.jsxs(m,{style:{width:"100%",background:I.bgShadow},children:[s.jsx(H,{where:"RSA",isAdd:n,isUpdate:x,setIsAdd:h,setIsUpdate:i}),s.jsx(m,{sx:{m:"10px"},children:s.jsx(U,{})})]})})]})]})};export{ae as default};
