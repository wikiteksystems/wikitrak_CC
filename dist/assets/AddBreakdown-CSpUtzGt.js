import{o as z,p as O,r as T,ff as me,fy as K,j as t,B as A,d0 as w,cl as l,D as E,aw as pe,T as ee,m as H,V as _,fz as he,y as xe,eZ as fe,fA as be,fB as ge,fC as _e,dm as te,fb as ie,fD as J,a8 as je,dd as re,cp as oe,aH as Y,fs as ae,fc as we,A as ye,dg as se,dh as ne,cQ as le,di as ce}from"./index-Ds6FVMyp.js";import{d as X}from"./Add-DQzBxANX.js";import{u as ve,F as de}from"./formik.esm-B7HvObs5.js";import{c as Q,d as ke,a as u,f as Ce}from"./index.esm-D6DYQ70I.js";import{A as G}from"./Autocomplete-DdKvbCmR.js";import{R as Ne,A as qe,D as Se}from"./Remove-BIfc8E92.js";import{u as ue}from"./useMediaQuery-Dyr14vmU.js";function Te(){var d,c,f,m,v,F;const p=z(),{vehicles_details:N}=O(i=>i.dashboard),{w_customer_id:S}=O(i=>i.auth),{breakdownTopics:y,UpdatedBreakdownData:r,technicianList:j,breakdownSubTopics:q}=O(i=>i.breakdown),{sparePartList:k}=O(i=>i.inspection);JSON.parse(localStorage.getItem("w_userDetails"));const[L,P]=T.useState(null),[I,M]=T.useState(""),[B,W]=T.useState(!1),[R,$]=T.useState(!1);T.useEffect(()=>{r&&(P(r.attachment),M("edit"))},[r]),console.log(q,"brekdownSubTopics"),T.useEffect(()=>{console.log("technician list",j)},[j]);const D=i=>(N==null?void 0:N.filter(o=>o.id===i))||[],h=i=>{const o=i.currentTarget.files[0];if(e.setFieldValue("attachment",o),M((o==null?void 0:o.name)||""),o&&o.type.startsWith("image/")){const b=new FileReader;b.onload=()=>P(b.result),b.readAsDataURL(o)}else P(null)},x=async()=>{$(!0),navigator.geolocation?navigator.geolocation.getCurrentPosition(async i=>{const{latitude:o,longitude:b}=i.coords;try{const g=await he(o,b);e.setFieldValue("location",g)}catch{_.error("Failed to convert coordinates to address.")}finally{$(!1)}},()=>{_.error("Failed to retrieve location."),$(!1)}):(_.error("Geolocation not supported."),$(!1))};let a=r==null?void 0:r.breakdown_parts.map(i=>{var o;return{spare_parts:(o=i==null?void 0:i.spare_parts)==null?void 0:o.id,quantity:i==null?void 0:i.quantity}});console.log(r,"UpdatedBreakdownData");const e=ve({initialValues:{submission_date:(r==null?void 0:r.submission_date)||me(new Date),vehicle:((d=r==null?void 0:r.vehicle)==null?void 0:d.id)||"",breakdown_topic:((c=r==null?void 0:r.breakdown_topic)==null?void 0:c.id)||"",technician:((f=r==null?void 0:r.technician)==null?void 0:f.id)||"",description:(r==null?void 0:r.description)||"",mob_no:(r==null?void 0:r.mob_no)||"",attachment:(r==null?void 0:r.attachment)||"",location:(r==null?void 0:r.location)||"",contact_person:(r==null?void 0:r.contact_person)||"",breakdown_parts:a||[],breakdown_sub_topic:(m=r==null?void 0:r.breakdown_sub_topic)==null?void 0:m.id},validationSchema:Q({submission_date:Ce().required("Submission Date is required"),vehicle:u().required("Vehicle is required"),breakdown_topic:u().required("Breakdown Topic is required"),breakdown_sub_topic:u().required("breakdown_sub_topic  is required"),technician:u().required("Technician is required"),description:u().required("Description is required"),mob_no:u().matches(/^\d{10,11}$/,"Mobile number must be 10-11 digits").required("Mobile number is required"),location:u().required("Location is required"),contact_person:u().required("Contact Person is required"),attachment:ke()}),onSubmit:async(i,{resetForm:o})=>{var b;try{W(!0);const g=D(i.vehicle);i.user=S,i.status="Open";const V=xe(i.submission_date).format("YYYY-MM-DDTHH:mm:ss");i.submission_date=V;let n;if(r){typeof i.attachment=="string"&&(i.attachment=await fe(i.attachment));const C=r.id;n=await p(be({values:i,id:C}))}else n=await p(ge(i));if(n.payload.success){console.log(n.payload),console.log("values",i.breakdown_parts);const{id:C}=(b=n==null?void 0:n.payload)==null?void 0:b.data,{breakdown_parts:Z}=i;let Ae=await p(_e({breakdown:C,parts:Z}));_.success("Breakdown submitted successfully!"),o(),P(null),M(""),p(te(null)),p(ie(!1)),p(J(!1)),p(je(S))}else throw new Error(n.payload.error||"Failed to submit breakdown")}catch(g){console.log("eror",g),_.error("Submission failed. Please try again. aniket")}finally{W(!1)}}}),s=i=>{var b;const o=(b=y.find(g=>g.id===i))==null?void 0:b.sub_topics;console.log(o,"filter Data:>>"),p(K(o||[]))};return T.useEffect(()=>{var i;if(r){const o=(i=y.find(b=>{var g;return b.id===((g=r==null?void 0:r.breakdown_topic)==null?void 0:g.id)}))==null?void 0:i.sub_topics;p(K(o||[]))}},[r]),t.jsx(A,{sx:{p:3,maxWidth:"100%",margin:"auto"},children:t.jsx("form",{onSubmit:e.handleSubmit,children:t.jsxs(w,{container:!0,spacing:2,children:[t.jsx(w,{item:!0,xs:12,sm:6,children:t.jsx(l,{label:"Date",name:"submission_date",type:"datetime-local",value:e.values.submission_date,onChange:e.handleChange,onBlur:e.handleBlur,error:e.touched.submission_date&&!!e.errors.submission_date,helperText:e.touched.submission_date&&e.errors.submission_date,fullWidth:!0,InputLabelProps:{shrink:!0},disabled:!0})}),t.jsx(w,{item:!0,xs:12,sm:6,children:t.jsx(G,{options:N,getOptionLabel:i=>i.registration_id||"",value:N.find(i=>i.id===e.values.vehicle)||null,onChange:(i,o)=>e.setFieldValue("vehicle",(o==null?void 0:o.id)||""),renderInput:i=>t.jsx(l,{...i,label:"Vehicle",error:e.touched.vehicle&&!!e.errors.vehicle,helperText:e.touched.vehicle&&e.errors.vehicle})})}),t.jsx(w,{item:!0,xs:12,sm:6,children:t.jsx(G,{options:y,getOptionLabel:i=>i.topic,value:y.find(i=>i.id===e.values.breakdown_topic)||null,onChange:(i,o)=>{e.setFieldValue("breakdown_topic",(o==null?void 0:o.id)||""),s(o==null?void 0:o.id)},renderInput:i=>t.jsx(l,{...i,label:"Breakdown Topic",error:e.touched.breakdown_topic&&!!e.errors.breakdown_topic,helperText:e.touched.breakdown_topic&&e.errors.breakdown_topic})})}),t.jsx(w,{item:!0,xs:12,sm:6,children:t.jsx(G,{options:q,getOptionLabel:i=>i.name,value:q.find(i=>i.id===e.values.breakdown_sub_topic)||null,onChange:(i,o)=>e.setFieldValue("breakdown_sub_topic",(o==null?void 0:o.id)||""),renderInput:i=>t.jsx(l,{...i,label:"Breakdown Sub Topic",error:e.touched.breakdown_sub_topic&&!!e.errors.breakdown_sub_topic,helperText:e.touched.breakdown_sub_topic&&e.errors.breakdown_sub_topic})})}),t.jsx(w,{item:!0,xs:12,sm:6,children:t.jsx(G,{options:j,getOptionLabel:i=>`${i.first_name} ${i.last_name}`||"",value:j.find(i=>i.id===e.values.technician)||null,onChange:(i,o)=>e.setFieldValue("technician",(o==null?void 0:o.id)||""),renderInput:i=>t.jsx(l,{...i,label:"Assign technician",error:e.touched.technician&&!!e.errors.technician,helperText:e.touched.technician&&e.errors.technician})})}),t.jsx(w,{item:!0,xs:12,sm:6,children:t.jsx(l,{label:"Contact Person Name*",name:"contact_person",value:e.values.contact_person,onChange:e.handleChange,onBlur:e.handleBlur,error:e.touched.contact_person&&!!e.errors.contact_person,helperText:e.touched.contact_person&&e.errors.contact_person,fullWidth:!0})}),t.jsx(w,{item:!0,xs:12,sm:6,children:t.jsx(l,{label:"Customer complaint",name:"description",value:e.values.description,onChange:e.handleChange,onBlur:e.handleBlur,error:e.touched.description&&!!e.errors.description,helperText:e.touched.description&&e.errors.description,fullWidth:!0})}),t.jsx(w,{item:!0,xs:12,sm:6,children:t.jsx(l,{label:"Contact Person Mobile No*",name:"mob_no",value:e.values.mob_no,onChange:e.handleChange,onBlur:e.handleBlur,error:e.touched.mob_no&&!!e.errors.mob_no,helperText:e.touched.mob_no&&e.errors.mob_no,fullWidth:!0})}),t.jsxs(w,{item:!0,xs:12,sm:6,children:[t.jsx(l,{label:"Location",name:"location",value:e.values.location,onChange:e.handleChange,onBlur:e.handleBlur,error:e.touched.location&&!!e.errors.location,helperText:e.touched.location&&e.errors.location,fullWidth:!0}),t.jsx(E,{size:"small",onClick:x,disabled:R,sx:{mt:1},children:R?t.jsx(pe,{size:16}):"Use Current Location"})]}),t.jsxs(w,{item:!0,xs:12,children:[t.jsx(ee,{variant:"h6",gutterBottom:!0,children:"Parts Requirement*(If any information available)"}),(F=(v=e==null?void 0:e.values)==null?void 0:v.breakdown_parts)==null?void 0:F.map((i,o)=>{var V;const b=(V=e.values)==null?void 0:V.breakdown_parts.map(n=>n.spare_parts).filter((n,C)=>C!==o),g=k.filter(n=>!b.includes(n.id));return t.jsxs(w,{container:!0,spacing:2,marginTop:"0px",alignItems:"center",children:[t.jsx(w,{item:!0,xs:12,md:6,children:t.jsx(G,{options:g,getOptionLabel:n=>n.description,value:k.find(n=>n.id===i.spare_parts)||null,onChange:(n,C)=>e.setFieldValue(`breakdown_parts[${o}].spare_parts`,(C==null?void 0:C.id)||""),renderInput:n=>t.jsx(l,{...n,label:"Spare Part",fullWidth:!0})})}),t.jsx(w,{item:!0,xs:8,md:4,children:t.jsxs(A,{display:"flex",alignItems:"center",children:[t.jsx(H,{onClick:()=>e.setFieldValue(`breakdown_parts[${o}].quantity`,Math.max(1,i.quantity-1)),children:t.jsx(Ne,{})}),t.jsx(l,{value:i.quantity,type:"number",inputProps:{min:1},onChange:n=>e.setFieldValue(`breakdown_parts[${o}].quantity`,parseInt(n.target.value,10)),sx:{width:90,mx:1,textAlign:"center"}}),t.jsx(H,{onClick:()=>e.setFieldValue(`breakdown_parts[${o}].quantity`,i.quantity+1),children:t.jsx(qe,{})})]})}),t.jsx(w,{item:!0,xs:4,md:2,children:t.jsx(H,{color:"error",onClick:()=>{var C;const n=[...(C=e.values)==null?void 0:C.breakdown_parts];n.splice(o,1),e.setFieldValue("breakdown_parts",n)},children:t.jsx(Se,{})})})]},o)}),t.jsx(E,{variant:"outlined",onClick:()=>{var b,g,V;const i=(g=(b=e.values)==null?void 0:b.breakdown_parts)==null?void 0:g.map(n=>n.spare_parts);if(k.filter(n=>!(i!=null&&i.includes(n.id))).length===0){_.error("All available spare parts have already been added.");return}e.setFieldValue("breakdown_parts",[...(V=e.values)==null?void 0:V.breakdown_parts,{spare_parts:"",quantity:1}])},sx:{mt:2},children:"+ Add Spare Part"})]}),t.jsxs(w,{item:!0,xs:12,children:[t.jsx("input",{type:"file",onChange:h,accept:"image/*",style:{marginTop:"10px"}}),L&&t.jsx(A,{mt:1,children:t.jsx("img",{src:L,alt:"Preview",style:{width:"100px",height:"auto"}})})]}),t.jsx(w,{item:!0,xs:12,children:t.jsx(E,{variant:"contained",type:"submit",fullWidth:!0,disabled:B,children:B?"Submitting...":"Submit Breakdown"})})]})})})}const U="https://wikitek.io/api/v1",Le=({setIsAdd:p,setIsUpdate:N})=>{const{vehicleList:S}=O(a=>a.liveMap),y=ue("(min-width:600px)"),[r,j]=T.useState(!1),[q,k]=T.useState(!1),L=z(),P=a=>{k(!0);const{firstName:e,lastName:s,email:d,mobile:c,password:f,vehicleNo:m,location:v,model:F,description:i}=a;console.log("Form Submitted:",a);let o={first_name:e,last_name:s,email:d,mobile:c,password:f};try{Y.post(`${U}/users/new/user/register/`,o).then(g=>{var C;let V={ticket_id:"",user:(C=g==null?void 0:g.data)==null?void 0:C.id,status:"open",description:i,latlong:v,vehicle:m,model:F};Y.post(`${U}/tickets/create/ticket/`,V).then(Z=>{p(!1),N(!1),L(ae()),k(!1),_.success("User registered and Ticket created successfully")}).catch(()=>{k(!1),_.error("Error occurred while creating ticket")})}).catch(g=>{k(!1),_.error("Error occurred while registering user")})}catch{k(!1),_.error("Error occurred while registering user")}},I=async a=>{j(!0),navigator.geolocation?navigator.geolocation.getCurrentPosition(async e=>{const{latitude:s,longitude:d}=e.coords;try{a("location",`${s},${d}`)}catch(c){console.error("Error fetching address:",c),_.error("Failed to convert coordinates to address.")}finally{j(!1)}},e=>{console.error("Geolocation Error:",e),_.error("Failed to retrieve location. Please try again."),j(!1)}):(_.error("Geolocation is not supported by this browser."),j(!1))},M=/^((\+[1-9]{1,4}[ -]?)|(\([0-9]{2,3}\)[ -]?)|([0-9]{2,4})[ -]?)*?[0-9]{3,4}[ -]?[0-9]{3,4}$/,B=Q().shape({firstName:u().required("required"),lastName:u().required("required"),fullName:u().required("required"),vehicleNo:u().required("required"),model:u().required("required"),email:u().email("invalid email").required("required"),mobile:u().matches(M,"Phone number is not valid").required("required"),location:u().required("required"),password:u().required("required"),description:u().required("required")}),W=JSON.parse(localStorage.getItem("w_userDetails")),{email:R,first_name:$,last_name:D,mobile:h}=W,x={firstName:$||"",lastName:D||"",fullName:`${$} ${D}`||"",vehicleNo:"",email:R||"",model:"",mobile:h||"",location:"",password:"",description:""};return t.jsxs(A,{m:"20px",children:[q&&t.jsx(re,{}),t.jsx(de,{onSubmit:P,initialValues:x,validationSchema:B,children:({values:a,errors:e,touched:s,handleBlur:d,handleChange:c,handleSubmit:f,setFieldValue:m})=>t.jsxs("form",{onSubmit:f,children:[t.jsxs(A,{display:"grid",gap:"30px",gridTemplateColumns:"repeat(4, minmax(0, 1fr))",sx:{"& > div":{gridColumn:y?void 0:"span 4"}},children:[t.jsx(l,{fullWidth:!0,variant:"filled",type:"text",label:"First Name",onBlur:d,onChange:c,value:a.firstName,name:"firstName",error:!!s.firstName&&!!e.firstName,helperText:s.firstName&&e.firstName,sx:{gridColumn:"span 2"}}),t.jsx(l,{fullWidth:!0,variant:"filled",type:"text",label:"Last Name",onBlur:d,onChange:c,value:a.lastName,name:"lastName",error:!!s.lastName&&!!e.lastName,helperText:s.lastName&&e.lastName,sx:{gridColumn:"span 2"}}),t.jsx(l,{fullWidth:!0,variant:"filled",type:"text",label:"Full Name",onBlur:d,onChange:c,value:a.fullName,name:"fullName",error:!!s.fullName&&!!e.fullName,helperText:s.fullName&&e.fullName,sx:{gridColumn:"span 2"}}),t.jsx(l,{fullWidth:!0,select:!0,variant:"filled",label:"Vehicle No",onBlur:d,onChange:v=>{const F=S.find(i=>i.registration_id===v.target.value);m("vehicleNo",v.target.value),m("model",(F==null?void 0:F.vehicle_model.name)||"")},value:a.vehicleNo,name:"vehicleNo",error:!!s.vehicleNo&&!!e.vehicleNo,helperText:s.vehicleNo&&e.vehicleNo,sx:{gridColumn:"span 2"},MenuProps:{PaperProps:{style:{maxHeight:200,overflowY:"auto"}}},children:S.map(v=>t.jsx(oe,{value:v.registration_id,children:v.registration_id},v.id))}),t.jsx(l,{fullWidth:!0,variant:"filled",type:"text",label:"Email",onBlur:d,onChange:c,value:a.email,name:"email",error:!!s.email&&!!e.email,helperText:s.email&&e.email,sx:{gridColumn:"span 2"}}),t.jsx(l,{fullWidth:!0,variant:"filled",type:"text",label:"Model",value:a==null?void 0:a.model,name:"model",disabled:!0,sx:{gridColumn:"span 2"}}),t.jsx(l,{fullWidth:!0,variant:"filled",type:"text",label:"Mobile",onBlur:d,onChange:c,value:a.mobile,name:"mobile",error:!!s.mobile&&!!e.mobile,helperText:s.mobile&&e.mobile,sx:{gridColumn:"span 2"}}),t.jsx(l,{fullWidth:!0,variant:"filled",type:"password",label:"Password",onBlur:d,onChange:c,value:a.password,name:"password",error:!!s.password&&!!e.password,helperText:s.password&&e.password,sx:{gridColumn:"span 2"}}),t.jsx(l,{fullWidth:!0,variant:"filled",type:"text",label:"Location",onBlur:d,onChange:c,value:a.location,name:"location",disabled:!0,error:!!s.location&&!!e.location,helperText:s.location&&e.location,sx:{gridColumn:"span 2"}}),t.jsx(l,{fullWidth:!0,variant:"filled",type:"text",label:"Description",onBlur:d,onChange:c,value:a.description,name:"description",error:!!s.description&&!!e.description,helperText:s.description&&e.description,sx:{gridColumn:"span 2"}}),t.jsx(E,{variant:"outlined",onClick:()=>I(m),disabled:r,sx:{mt:-2,width:"300px"},children:r?"Fetching Location...":"Use Current Location"})]}),t.jsx(A,{display:"flex",justifyContent:"center",mt:"25px",children:t.jsx(E,{type:"submit",color:"secondary",variant:"contained",children:"Submit"})})]})})]})},Fe="https://wikitek.io/api/v1",Pe=({userId:p,setIsAdd:N,setIsUpdate:S})=>{const y=z(),{vehicleList:r}=O(h=>h.liveMap),j=ue("(min-width:600px)"),[q,k]=T.useState(!1),L=h=>{const{description:x,vehicleNo:a,model:e,location:s}=h;let d={ticket_id:"",user:p,status:"open",description:x,latlong:s,vehicle:a,model:e};localStorage.getItem("w_userToken");try{Y.post(`${Fe}/tickets/create/ticket/`,d).then(f=>{S(!1),N(!1),y(ae()),_.success("Ticket created successfully")})}catch{_.error("Error occurred while creating ticket")}},P=async h=>{k(!0),navigator.geolocation?navigator.geolocation.getCurrentPosition(async x=>{const{latitude:a,longitude:e}=x.coords;try{h("location",`${a},${e}`)}catch(s){console.error("Error fetching address:",s),_.error("Failed to convert coordinates to address.")}finally{k(!1)}},x=>{console.error("Geolocation Error:",x),_.error("Failed to retrieve location. Please try again."),k(!1)}):(_.error("Geolocation is not supported by this browser."),k(!1))},I=Q().shape({fullName:u().required("required"),vehicleNo:u().required("required"),model:u().required("required"),location:u().required("required"),description:u().required("required")}),M=JSON.parse(localStorage.getItem("w_userDetails")),{email:B,first_name:W,last_name:R,mobile:$}=M,D={fullName:`${W} ${R}`||"",vehicleNo:"",model:"",location:"",description:""};return t.jsx(A,{m:"20px",children:t.jsx(de,{onSubmit:L,initialValues:D,validationSchema:I,children:({values:h,errors:x,touched:a,handleBlur:e,handleChange:s,handleSubmit:d,setFieldValue:c})=>t.jsxs("form",{onSubmit:d,children:[t.jsxs(A,{display:"grid",gap:"30px",gridTemplateColumns:"repeat(4, minmax(0, 1fr))",sx:{"& > div":{gridColumn:j?void 0:"span 4"}},children:[t.jsx(l,{fullWidth:!0,variant:"filled",type:"text",label:"Full Name",onBlur:e,onChange:s,value:h.fullName,name:"fullName",disabled:!0,error:!!a.fullName&&!!x.fullName,helperText:a.fullName&&x.fullName,sx:{gridColumn:"span 4"}}),t.jsx(l,{fullWidth:!0,select:!0,variant:"filled",label:"Vehicle No",onBlur:e,onChange:f=>{const m=r.find(v=>v.registration_id===f.target.value);c("vehicleNo",f.target.value),c("model",(m==null?void 0:m.vehicle_model.name)||"")},value:h.vehicleNo,name:"vehicleNo",error:!!a.vehicleNo&&!!x.vehicleNo,helperText:a.vehicleNo&&x.vehicleNo,sx:{gridColumn:"span 4"},SelectProps:{MenuProps:{PaperProps:{sx:{maxHeight:250,overflowY:"auto"}}}},children:r.map(f=>t.jsx(oe,{value:f.registration_id,children:f.registration_id},f.id))}),t.jsx(l,{fullWidth:!0,variant:"filled",type:"text",label:"Model",value:h.model,name:"model",disabled:!0,sx:{gridColumn:"span 4"}}),t.jsx(l,{fullWidth:!0,variant:"filled",type:"text",label:"Description",onBlur:e,onChange:s,value:h.description,name:"description",error:!!a.description&&!!x.description,helperText:a.description&&x.description,sx:{gridColumn:"span 4"}}),t.jsx(l,{fullWidth:!0,variant:"filled",type:"text",label:"Location",onBlur:e,onChange:s,value:h.location,name:"location",disabled:!0,error:!!a.location&&!!x.location,helperText:a.location&&x.location,sx:{gridColumn:"span 4"}}),t.jsx(E,{variant:"outlined",onClick:()=>P(c),disabled:q,sx:{mt:-2,width:"300px"},children:q?"Fetching Location...":"Use Current Location"})]}),t.jsx(A,{display:"flex",justifyContent:"center",mt:"25px",children:t.jsx(E,{type:"submit",sx:{backgroundColor:"#8DA6C6DD"},variant:"contained",children:"Submit"})})]})})})},Be="https://wikitek.io/api/v1";function Ge({where:p,isAdd:N,isUpdate:S,setIsUpdate:y,setIsAdd:r}){const{isAddBreakdown:j,isUpdateBreakdown:q,UpdatedBreakdownData:k}=O(a=>a.breakdown);let L=z();const[P,I]=T.useState(null),[M,B]=T.useState(!1),W=()=>{L(J(!1)),L(ie(!1)),L(te(null)),r(!1),y(!1)},R=()=>{L(J(!j))},$=async()=>{var d,c;B(!0);const a=JSON.parse(localStorage.getItem("w_userDetails")),{email:e}=a;let s={email:e};try{Y.post(`${Be}/users/check/user`,s).then(m=>{var v,F;(v=m==null?void 0:m.data)!=null&&v.success?(I((F=m==null?void 0:m.data)==null?void 0:F.user_id),y(!0),r(!0)):I(null),B(!1)}).catch(m=>{y(!1),r(!0),B(!1),console.log("error",m)})}catch(f){console.log("eror",f),r(!0),y(!1),B(!1),(c=(d=f==null?void 0:f.response)==null?void 0:d.data)!=null&&c.success}},D={fontSize:"18px",fontWeight:500,lineHeight:"18.38px",textAlign:"center",paddingTop:"5px",fontFamily:"ubuntu"};let h=we("Breakdown");const x=(h==null?void 0:h.includes("Create"))||h==="Read-Write-Only";return t.jsxs(A,{sx:{bgcolor:"white",m:"10px",display:"flex",textAlign:"left",justifyContent:"space-between",alignItems:"center",borderRadius:"6px",padding:"20px"},children:[M&&t.jsx(re,{}),t.jsx(ee,{variant:"h6",sx:D,children:`${p} New Requests`}),p.toLowerCase()==="breakdown"&&x&&t.jsxs(E,{onClick:R,variant:"outlined",children:[t.jsx(X,{}),p]}),p.toLowerCase()==="rsa"&&t.jsxs(E,{onClick:$,sx:{color:"black",background:ye.bgColor},children:[t.jsx(X,{}),"Raise ticket"]}),t.jsxs(se,{open:j||q,onClose:W,maxWidth:"xl",fullWidth:!0,children:[t.jsxs(ne,{children:[q?"Update":"Add"," Breakdown",t.jsx(H,{"aria-label":"close",onClick:W,sx:{position:"absolute",right:8,top:8,color:a=>a.palette.grey[500]},children:t.jsx(le,{})})]}),t.jsx(ce,{children:t.jsx(Te,{})})]}),t.jsx(We,{isAdd:N,isUpdate:S,setIsUpdate:y,setIsAdd:r,handleClose:W,userId:P})]})}const We=({isAdd:p,isUpdate:N,handleClose:S,userId:y,setIsAdd:r,setIsUpdate:j})=>t.jsxs(se,{open:p,onClose:S,maxWidth:"md",fullWidth:!0,children:[t.jsxs(ne,{children:[N?"Ticket For RSA":"Registration form for RSA",t.jsx(H,{"aria-label":"close",onClick:S,sx:{position:"absolute",right:8,top:8,color:q=>q.palette.grey[500]},children:t.jsx(le,{})})]}),t.jsx(ce,{children:N?t.jsx(Pe,{userId:y,setIsUpdate:j,setIsAdd:r,children:" "}):t.jsx(Le,{setIsUpdate:j,setIsAdd:r})})]});export{Ge as A};
