import{a$ as f,b0 as d,b as n,j as s,dU as T,cg as R,dV as k,dW as y,dX as g,dY as t,dZ as D,bn as v,f2 as _,ft as A,bx as B,br as E,aX as u,bb as I}from"./index-Cdz_WO7e.js";import"./jspdf.plugin.autotable-C9YZ2SuL.js";import"./index.esm-6HYcfm54.js";import{S as U}from"./ServicesTopBar-Dyf29pnT.js";import{A as V}from"./AddBreakdown-D3Rtuqjk.js";import"./Add-D0fF9oqB.js";import"./formik.esm-CJx2oNMs.js";import"./Autocomplete-q70qGIR8.js";import"./Remove-ULGzt9ai.js";import"./useMediaQuery-DVup-omu.js";const Y=()=>{const o=f(),{ticketList:r}=d(e=>e.rsaReport),{searchTerm:c}=d(e=>e.inspection),[h,p]=n.useState([]),[i,l]=n.useState(0),[a,b]=n.useState(12),C=async()=>{try{o(A())}catch(e){console.log("error",e)}};n.useEffect(()=>{C()},[]),n.useEffect(()=>{},[r]);const P=(e,x)=>{l(x)},S=e=>{b(parseInt(e.target.value,10)),l(0)},L=r.filter(e=>e.ticket_id.toLowerCase().includes(c.toLowerCase())||e.status.toLowerCase().includes(c.toLowerCase())||e.vehicle.toLowerCase().includes(c.toLowerCase())||e.user.first_name.toLowerCase().includes(c.toLowerCase())||e.user.last_name.toLowerCase().includes(c.toLowerCase()));return s.jsxs(T,{component:R,children:[s.jsxs(k,{children:[s.jsx(y,{children:s.jsxs(g,{children:[s.jsx(t,{children:"Sr no"}),s.jsx(t,{children:"Req ID"}),s.jsx(t,{children:"User"}),s.jsx(t,{children:"Created Date"}),s.jsx(t,{children:"Vehicle"}),s.jsx(t,{children:"Current Status"})]})}),s.jsx(D,{children:L.slice(i*a,i*a+a).map((e,x)=>{var j,m;return s.jsxs(g,{children:[s.jsx(t,{children:i*a+x+1}),s.jsx(t,{children:e==null?void 0:e.ticket_id}),s.jsx(t,{children:((j=e==null?void 0:e.user)==null?void 0:j.first_name)+" "+((m=e==null?void 0:e.user)==null?void 0:m.last_name)}),s.jsx(t,{children:v(new Date(e==null?void 0:e.created)).format("DD-MM-YYY HH:mm")}),s.jsx(t,{children:e==null?void 0:e.vehicle}),s.jsx(t,{children:e==null?void 0:e.status})]},e==null?void 0:e.id)})})]}),s.jsx(_,{rowsPerPageOptions:[12],component:"div",count:h.length,rowsPerPage:a,page:i,onPageChange:P,onRowsPerPageChange:S})]})},F=()=>{d(a=>a.dashboard);const{w_customer_id:o}=d(a=>a.auth);let r=f();n.useState(!1);const[c,h]=n.useState(!1),[p,i]=n.useState(!1);n.useState([]),n.useEffect(()=>{l()},[]);const l=async()=>{try{const a=await r(B({w_customer_id:o}))}catch{}};return s.jsxs("div",{className:"app",children:[s.jsx(E,{}),s.jsxs("main",{className:"content",style:{width:"100%",background:"#dad6d626"},children:[s.jsx(U,{title:"Rsa Reports"}),s.jsx(u,{style:{display:"flex",width:"100%",height:"95vh"},children:s.jsxs(u,{style:{width:"100%",background:I.bgShadow},children:[s.jsx(V,{where:"RSA",isAdd:c,isUpdate:p,setIsAdd:h,setIsUpdate:i}),s.jsx(u,{sx:{m:"10px"},children:s.jsx(Y,{})})]})})]})]})};export{F as default};
