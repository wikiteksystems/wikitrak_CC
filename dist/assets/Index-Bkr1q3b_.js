import{j as W,t as Ke,B as kr,k as zt,r as j,T as ps,h as kd,p as Ze,i as ef,Q as $d,w as $r,m as Gd,v as Zd,W as Vo,K as Hd,L as zd,N as Kd,O as qd,X as Yo}from"./index-qR5_4q7m.js";import{L as Vd}from"./LiveMapTopBar-CLOdih89.js";import{V as Yd}from"./VehicleMenu-DbPkbgvd.js";import{L as Xd,t as Jd}from"./LeftSideBar2-BwuQdGYp.js";import Qd from"./Loader-CbsxlpsZ.js";import{L as jd}from"./LiveMapServices-DP22Vekv.js";import{s as as}from"./Socket-0N_gnJcr.js";import{P as n0}from"./Parameters-94C7-lzQ.js";/* empty css           */import"./proj-XQwXs9DQ.js";import{V as t0}from"./VehicleGroups-CuSWY-4O.js";import{u as e0,G as r0,M as i0}from"./esm-nvOhq2VF.js";import{B as ft,C as s0}from"./menu2-o2S8OUTn.js";import{d as u0}from"./Info-DYMKC-AV.js";import{d as o0}from"./Close-IqMwfY3q.js";import"./jcb-aCHXMCXy.js";import"./index-Dgq_4SYb.js";import"./createSvgIcon-BNk9rkul.js";import"./useControlled-BhSc7wpy.js";import"./index-D_YKrru_.js";import"./Card-B1Fa2_5f.js";import"./Skeleton-AxbPzYt2.js";import"./CardContent-BP2ejk0V.js";function f0({activeParams:A}){return W.jsx(ft,{sx:{bgcolor:Ke.bgColor,position:"relative",color:"white",display:"flex",alignItems:"center",justifyContent:"space-around",overflowX:"hidden",flexWrap:"wrap",border:"1px solid white"},children:A&&A[0].params.length>0?W.jsxs(W.Fragment,{children:[A[0].params.length>0&&W.jsxs(kr,{variant:"outlined",sx:{color:"black",border:"1px solid white",fontSize:"12px",background:"white","&:hover":{border:"1px solid white",background:"transparent",color:"white"}},children:["Registration Id : ",A[0].reg_id]}),A.length>0&&A[0].params.map((f,i)=>{f.label==="maininputvoltage"&&console.log("item.label",f.label,f);const p=A[0].params.find(S=>S.label==="ignition"),g=p&&(p.value===!0||p.value===1)?f.value:0,m=f.label==="mainInputVoltage"||f.label==="maininputvoltage";return W.jsx(kr,{variant:"outlined",sx:{color:"black",border:"1px solid white",mx:"5px",my:"15px",fontSize:"12px",background:"white","&:hover":{border:"1px solid white",background:"transparent",color:"white"}},children:f.label==="speed"?`${f.label} : ${g} km/h`:m&&f.value!==void 0?`${f.label} : ${f.value} voltage`:f.label==="ignition"?`${f.label} : ${f.value===!0||(f==null?void 0:f.value)===1?"On":"Off"}`:`${f.label} : ${f.value!==void 0?f.value:""}`},i)})]}):W.jsx(W.Fragment,{children:W.jsx(kr,{variant:"outlined",sx:{color:"white",border:"1px solid white",mx:"5px",my:"15px"},children:"No Parameters Selected"})})})}const a0=({label:A,value:f})=>W.jsxs(ft,{sx:{display:"flex",justifyContent:"space-between",py:.5},children:[W.jsx(ps,{variant:"body2",color:"textSecondary",children:A}),W.jsx(ps,{variant:"body2",color:"textPrimary",fontWeight:"medium",children:f||"N/A"})]}),l0=(A,f)=>(A==null?void 0:A.find(i=>{var p,g;return((g=(p=i.imei)==null?void 0:p[0])==null?void 0:g.mac_id)===f.imei}))||{},Xo=({title:A,details:f})=>W.jsx(ft,{sx:{width:"45%"},children:f.map(({label:i,value:p})=>W.jsx(a0,{label:i,value:p},i))});function c0({handleVehicleInfo:A}){var x,B,T,C,k,$;const{collapsed:f}=zt(J=>J.auth),{vehicleList:i,selectedVehicle:p}=zt(J=>J.liveMap),[g,m]=j.useState({});j.useEffect(()=>{m(l0(i,p))},[i,p]);const S=[{label:"Vehicle No:",value:g==null?void 0:g.registration_id},{label:"Model:",value:(x=g==null?void 0:g.vehicle_model)==null?void 0:x.name},{label:"IMEI No:",value:(T=(B=g==null?void 0:g.imei)==null?void 0:B[0])==null?void 0:T.mac_id},{label:"Chassis No:",value:g==null?void 0:g.chassis_no},{label:"Engine No:",value:g==null?void 0:g.engine_no}],b=[{label:"Customer Name:",value:(C=g==null?void 0:g.user)!=null&&C.us_user?`${g.user.us_user.first_name.charAt(0).toUpperCase()}${g.user.us_user.first_name.slice(1)} ${g.user.us_user.last_name.charAt(0).toUpperCase()}${g.user.us_user.last_name.slice(1)}`:null},{label:"Mobile: ",value:((k=g==null?void 0:g.user)==null?void 0:k.us_user)&&g.user.us_user.mobile},{label:"Date of Sell:",value:g==null?void 0:g.sell_date},{label:"Workshop Name:",value:($=g==null?void 0:g.workshop)==null?void 0:$.name}];return W.jsxs(ft,{sx:{position:"absolute",top:"600px",left:f?"280px":"450px",zIndex:1,background:Ke.bgShadow,p:2,borderRadius:2,color:"white",width:"60%",boxShadow:"0px 4px 12px rgba(0,0,0,0.4)"},children:[W.jsxs(ft,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[W.jsx(ps,{variant:"h5",sx:{fontWeight:"bold",color:"black"},children:"Vehicle Information"}),W.jsx(o0,{sx:{cursor:"pointer",color:"black"},onClick:A})]}),W.jsxs(ft,{sx:{display:"flex",justifyContent:"space-between"},children:[W.jsx(Xo,{title:"Vehicle Details",details:S}),W.jsx(Xo,{title:"Customer Details",details:b})]})]})}var h0=function A(f,i){if(f===i)return!0;if(f&&i&&typeof f=="object"&&typeof i=="object"){if(f.constructor!==i.constructor)return!1;var p,g,m;if(Array.isArray(f)){if(p=f.length,p!=i.length)return!1;for(g=p;g--!==0;)if(!A(f[g],i[g]))return!1;return!0}if(f.constructor===RegExp)return f.source===i.source&&f.flags===i.flags;if(f.valueOf!==Object.prototype.valueOf)return f.valueOf()===i.valueOf();if(f.toString!==Object.prototype.toString)return f.toString()===i.toString();if(m=Object.keys(f),p=m.length,p!==Object.keys(i).length)return!1;for(g=p;g--!==0;)if(!Object.prototype.hasOwnProperty.call(i,m[g]))return!1;for(g=p;g--!==0;){var S=m[g];if(!A(f[S],i[S]))return!1}return!0}return f!==f&&i!==i};const Jo=kd(h0),Qo=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],ls=1,He=8;class _s{static from(f){if(!(f instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[i,p]=new Uint8Array(f,0,2);if(i!==219)throw new Error("Data does not appear to be in a KDBush format.");const g=p>>4;if(g!==ls)throw new Error(`Got v${g} data when expected v${ls}.`);const m=Qo[p&15];if(!m)throw new Error("Unrecognized array type.");const[S]=new Uint16Array(f,2,1),[b]=new Uint32Array(f,4,1);return new _s(b,S,m,f)}constructor(f,i=64,p=Float64Array,g){if(isNaN(f)||f<0)throw new Error(`Unpexpected numItems value: ${f}.`);this.numItems=+f,this.nodeSize=Math.min(Math.max(+i,2),65535),this.ArrayType=p,this.IndexArrayType=f<65536?Uint16Array:Uint32Array;const m=Qo.indexOf(this.ArrayType),S=f*2*this.ArrayType.BYTES_PER_ELEMENT,b=f*this.IndexArrayType.BYTES_PER_ELEMENT,x=(8-b%8)%8;if(m<0)throw new Error(`Unexpected typed array class: ${p}.`);g&&g instanceof ArrayBuffer?(this.data=g,this.ids=new this.IndexArrayType(this.data,He,f),this.coords=new this.ArrayType(this.data,He+b+x,f*2),this._pos=f*2,this._finished=!0):(this.data=new ArrayBuffer(He+S+b+x),this.ids=new this.IndexArrayType(this.data,He,f),this.coords=new this.ArrayType(this.data,He+b+x,f*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(ls<<4)+m]),new Uint16Array(this.data,2,1)[0]=i,new Uint32Array(this.data,4,1)[0]=f)}add(f,i){const p=this._pos>>1;return this.ids[p]=p,this.coords[this._pos++]=f,this.coords[this._pos++]=i,p}finish(){const f=this._pos>>1;if(f!==this.numItems)throw new Error(`Added ${f} items when expected ${this.numItems}.`);return gs(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(f,i,p,g){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:m,coords:S,nodeSize:b}=this,x=[0,m.length-1,0],B=[];for(;x.length;){const T=x.pop()||0,C=x.pop()||0,k=x.pop()||0;if(C-k<=b){for(let H=k;H<=C;H++){const Y=S[2*H],yn=S[2*H+1];Y>=f&&Y<=p&&yn>=i&&yn<=g&&B.push(m[H])}continue}const $=k+C>>1,J=S[2*$],V=S[2*$+1];J>=f&&J<=p&&V>=i&&V<=g&&B.push(m[$]),(T===0?f<=J:i<=V)&&(x.push(k),x.push($-1),x.push(1-T)),(T===0?p>=J:g>=V)&&(x.push($+1),x.push(C),x.push(1-T))}return B}within(f,i,p){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:g,coords:m,nodeSize:S}=this,b=[0,g.length-1,0],x=[],B=p*p;for(;b.length;){const T=b.pop()||0,C=b.pop()||0,k=b.pop()||0;if(C-k<=S){for(let H=k;H<=C;H++)jo(m[2*H],m[2*H+1],f,i)<=B&&x.push(g[H]);continue}const $=k+C>>1,J=m[2*$],V=m[2*$+1];jo(J,V,f,i)<=B&&x.push(g[$]),(T===0?f-p<=J:i-p<=V)&&(b.push(k),b.push($-1),b.push(1-T)),(T===0?f+p>=J:i+p>=V)&&(b.push($+1),b.push(C),b.push(1-T))}return x}}function gs(A,f,i,p,g,m){if(g-p<=i)return;const S=p+g>>1;rf(A,f,S,p,g,m),gs(A,f,i,p,S-1,1-m),gs(A,f,i,S+1,g,1-m)}function rf(A,f,i,p,g,m){for(;g>p;){if(g-p>600){const B=g-p+1,T=i-p+1,C=Math.log(B),k=.5*Math.exp(2*C/3),$=.5*Math.sqrt(C*k*(B-k)/B)*(T-B/2<0?-1:1),J=Math.max(p,Math.floor(i-T*k/B+$)),V=Math.min(g,Math.floor(i+(B-T)*k/B+$));rf(A,f,i,J,V,m)}const S=f[2*i+m];let b=p,x=g;for(ze(A,f,p,i),f[2*g+m]>S&&ze(A,f,p,g);b<x;){for(ze(A,f,b,x),b++,x--;f[2*b+m]<S;)b++;for(;f[2*x+m]>S;)x--}f[2*p+m]===S?ze(A,f,p,x):(x++,ze(A,f,x,g)),x<=i&&(p=x+1),i<=x&&(g=x-1)}}function ze(A,f,i,p){cs(A,i,p),cs(f,2*i,2*p),cs(f,2*i+1,2*p+1)}function cs(A,f,i){const p=A[f];A[f]=A[i],A[i]=p}function jo(A,f,i,p){const g=A-i,m=f-p;return g*g+m*m}const p0={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:A=>A},nf=Math.fround||(A=>f=>(A[0]=+f,A[0]))(new Float32Array(1)),ie=2,Ht=3,hs=4,Zt=5,sf=6;class g0{constructor(f){this.options=Object.assign(Object.create(p0),f),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(f){const{log:i,minZoom:p,maxZoom:g}=this.options;i&&console.time("total time");const m=`prepare ${f.length} points`;i&&console.time(m),this.points=f;const S=[];for(let x=0;x<f.length;x++){const B=f[x];if(!B.geometry)continue;const[T,C]=B.geometry.coordinates,k=nf(Wr(T)),$=nf(Nr(C));S.push(k,$,1/0,x,-1,1),this.options.reduce&&S.push(0)}let b=this.trees[g+1]=this._createTree(S);i&&console.timeEnd(m);for(let x=g;x>=p;x--){const B=+Date.now();b=this.trees[x]=this._createTree(this._cluster(b,x)),i&&console.log("z%d: %d clusters in %dms",x,b.numItems,+Date.now()-B)}return i&&console.timeEnd("total time"),this}getClusters(f,i){let p=((f[0]+180)%360+360)%360-180;const g=Math.max(-90,Math.min(90,f[1]));let m=f[2]===180?180:((f[2]+180)%360+360)%360-180;const S=Math.max(-90,Math.min(90,f[3]));if(f[2]-f[0]>=360)p=-180,m=180;else if(p>m){const C=this.getClusters([p,g,180,S],i),k=this.getClusters([-180,g,m,S],i);return C.concat(k)}const b=this.trees[this._limitZoom(i)],x=b.range(Wr(p),Nr(S),Wr(m),Nr(g)),B=b.data,T=[];for(const C of x){const k=this.stride*C;T.push(B[k+Zt]>1?tf(B,k,this.clusterProps):this.points[B[k+Ht]])}return T}getChildren(f){const i=this._getOriginId(f),p=this._getOriginZoom(f),g="No cluster with the specified id.",m=this.trees[p];if(!m)throw new Error(g);const S=m.data;if(i*this.stride>=S.length)throw new Error(g);const b=this.options.radius/(this.options.extent*Math.pow(2,p-1)),x=S[i*this.stride],B=S[i*this.stride+1],T=m.within(x,B,b),C=[];for(const k of T){const $=k*this.stride;S[$+hs]===f&&C.push(S[$+Zt]>1?tf(S,$,this.clusterProps):this.points[S[$+Ht]])}if(C.length===0)throw new Error(g);return C}getLeaves(f,i,p){i=i||10,p=p||0;const g=[];return this._appendLeaves(g,f,i,p,0),g}getTile(f,i,p){const g=this.trees[this._limitZoom(f)],m=Math.pow(2,f),{extent:S,radius:b}=this.options,x=b/S,B=(p-x)/m,T=(p+1+x)/m,C={features:[]};return this._addTileFeatures(g.range((i-x)/m,B,(i+1+x)/m,T),g.data,i,p,m,C),i===0&&this._addTileFeatures(g.range(1-x/m,B,1,T),g.data,m,p,m,C),i===m-1&&this._addTileFeatures(g.range(0,B,x/m,T),g.data,-1,p,m,C),C.features.length?C:null}getClusterExpansionZoom(f){let i=this._getOriginZoom(f)-1;for(;i<=this.options.maxZoom;){const p=this.getChildren(f);if(i++,p.length!==1)break;f=p[0].properties.cluster_id}return i}_appendLeaves(f,i,p,g,m){const S=this.getChildren(i);for(const b of S){const x=b.properties;if(x&&x.cluster?m+x.point_count<=g?m+=x.point_count:m=this._appendLeaves(f,x.cluster_id,p,g,m):m<g?m++:f.push(b),f.length===p)break}return m}_createTree(f){const i=new _s(f.length/this.stride|0,this.options.nodeSize,Float32Array);for(let p=0;p<f.length;p+=this.stride)i.add(f[p],f[p+1]);return i.finish(),i.data=f,i}_addTileFeatures(f,i,p,g,m,S){for(const b of f){const x=b*this.stride,B=i[x+Zt]>1;let T,C,k;if(B)T=uf(i,x,this.clusterProps),C=i[x],k=i[x+1];else{const V=this.points[i[x+Ht]];T=V.properties;const[H,Y]=V.geometry.coordinates;C=Wr(H),k=Nr(Y)}const $={type:1,geometry:[[Math.round(this.options.extent*(C*m-p)),Math.round(this.options.extent*(k*m-g))]],tags:T};let J;B||this.options.generateId?J=i[x+Ht]:J=this.points[i[x+Ht]].id,J!==void 0&&($.id=J),S.features.push($)}}_limitZoom(f){return Math.max(this.options.minZoom,Math.min(Math.floor(+f),this.options.maxZoom+1))}_cluster(f,i){const{radius:p,extent:g,reduce:m,minPoints:S}=this.options,b=p/(g*Math.pow(2,i)),x=f.data,B=[],T=this.stride;for(let C=0;C<x.length;C+=T){if(x[C+ie]<=i)continue;x[C+ie]=i;const k=x[C],$=x[C+1],J=f.within(x[C],x[C+1],b),V=x[C+Zt];let H=V;for(const Y of J){const yn=Y*T;x[yn+ie]>i&&(H+=x[yn+Zt])}if(H>V&&H>=S){let Y=k*V,yn=$*V,ln,Pn=-1;const Cn=((C/T|0)<<5)+(i+1)+this.points.length;for(const Un of J){const un=Un*T;if(x[un+ie]<=i)continue;x[un+ie]=i;const Zn=x[un+Zt];Y+=x[un]*Zn,yn+=x[un+1]*Zn,x[un+hs]=Cn,m&&(ln||(ln=this._map(x,C,!0),Pn=this.clusterProps.length,this.clusterProps.push(ln)),m(ln,this._map(x,un)))}x[C+hs]=Cn,B.push(Y/H,yn/H,1/0,Cn,-1,H),m&&B.push(Pn)}else{for(let Y=0;Y<T;Y++)B.push(x[C+Y]);if(H>1)for(const Y of J){const yn=Y*T;if(!(x[yn+ie]<=i)){x[yn+ie]=i;for(let ln=0;ln<T;ln++)B.push(x[yn+ln])}}}}return B}_getOriginId(f){return f-this.points.length>>5}_getOriginZoom(f){return(f-this.points.length)%32}_map(f,i,p){if(f[i+Zt]>1){const S=this.clusterProps[f[i+sf]];return p?Object.assign({},S):S}const g=this.points[f[i+Ht]].properties,m=this.options.map(g);return p&&m===g?Object.assign({},m):m}}function tf(A,f,i){return{type:"Feature",id:A[f+Ht],properties:uf(A,f,i),geometry:{type:"Point",coordinates:[d0(A[f]),_0(A[f+1])]}}}function uf(A,f,i){const p=A[f+Zt],g=p>=1e4?`${Math.round(p/1e3)}k`:p>=1e3?`${Math.round(p/100)/10}k`:p,m=A[f+sf],S=m===-1?{}:Object.assign({},i[m]);return Object.assign(S,{cluster:!0,cluster_id:A[f+Ht],point_count:p,point_count_abbreviated:g})}function Wr(A){return A/360+.5}function Nr(A){const f=Math.sin(A*Math.PI/180),i=.5-.25*Math.log((1+f)/(1-f))/Math.PI;return i<0?0:i>1?1:i}function d0(A){return(A-.5)*360}function _0(A){const f=(180-A*360)*Math.PI/180;return 360*Math.atan(Math.exp(f))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function v0(A,f){var i={};for(var p in A)Object.prototype.hasOwnProperty.call(A,p)&&f.indexOf(p)<0&&(i[p]=A[p]);if(A!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,p=Object.getOwnPropertySymbols(A);g<p.length;g++)f.indexOf(p[g])<0&&Object.prototype.propertyIsEnumerable.call(A,p[g])&&(i[p[g]]=A[p[g]]);return i}class Jn{static isAdvancedMarkerAvailable(f){return google.maps.marker&&f.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(f){return google.maps.marker&&f instanceof google.maps.marker.AdvancedMarkerElement}static setMap(f,i){this.isAdvancedMarker(f)?f.map=i:f.setMap(i)}static getPosition(f){if(this.isAdvancedMarker(f)){if(f.position){if(f.position instanceof google.maps.LatLng)return f.position;if(f.position.lat&&f.position.lng)return new google.maps.LatLng(f.position.lat,f.position.lng)}return new google.maps.LatLng(null)}return f.getPosition()}static getVisible(f){return this.isAdvancedMarker(f)?!0:f.getVisible()}}class ds{constructor({markers:f,position:i}){this.markers=f,i&&(i instanceof google.maps.LatLng?this._position=i:this._position=new google.maps.LatLng(i))}get bounds(){if(this.markers.length===0&&!this._position)return;const f=new google.maps.LatLngBounds(this._position,this._position);for(const i of this.markers)f.extend(Jn.getPosition(i));return f}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(f=>Jn.getVisible(f)).length}push(f){this.markers.push(f)}delete(){this.marker&&(Jn.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class w0{constructor({maxZoom:f=16}){this.maxZoom=f}noop({markers:f}){return x0(f)}}const x0=A=>A.map(i=>new ds({position:Jn.getPosition(i),markers:[i]}));class m0 extends w0{constructor(f){var{maxZoom:i,radius:p=60}=f,g=v0(f,["maxZoom","radius"]);super({maxZoom:i}),this.state={zoom:-1},this.superCluster=new g0(Object.assign({maxZoom:this.maxZoom,radius:p},g))}calculate(f){let i=!1;const p={zoom:f.map.getZoom()};if(!Jo(f.markers,this.markers)){i=!0,this.markers=[...f.markers];const g=this.markers.map(m=>{const S=Jn.getPosition(m);return{type:"Feature",geometry:{type:"Point",coordinates:[S.lng(),S.lat()]},properties:{marker:m}}});this.superCluster.load(g)}return i||(this.state.zoom<=this.maxZoom||p.zoom<=this.maxZoom)&&(i=!Jo(this.state,p)),this.state=p,i&&(this.clusters=this.cluster(f)),{clusters:this.clusters,changed:i}}cluster({map:f}){return this.superCluster.getClusters([-180,-90,180,90],Math.round(f.getZoom())).map(i=>this.transformCluster(i))}transformCluster({geometry:{coordinates:[f,i]},properties:p}){if(p.cluster)return new ds({markers:this.superCluster.getLeaves(p.cluster_id,1/0).map(m=>m.properties.marker),position:{lat:i,lng:f}});const g=p.marker;return new ds({markers:[g],position:Jn.getPosition(g)})}}class y0{constructor(f,i){this.markers={sum:f.length};const p=i.map(m=>m.count),g=p.reduce((m,S)=>m+S,0);this.clusters={count:i.length,markers:{mean:g/i.length,sum:g,min:Math.min(...p),max:Math.max(...p)}}}}class A0{render({count:f,position:i},p,g){const S=`<svg fill="${f>Math.max(10,p.clusters.markers.mean)?"#ff0000":"#0000ff"}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">${f}</text>
</svg>`,b=`Cluster of ${f} markers`,x=Number(google.maps.Marker.MAX_ZINDEX)+f;if(Jn.isAdvancedMarkerAvailable(g)){const C=new DOMParser().parseFromString(S,"image/svg+xml").documentElement;C.setAttribute("transform","translate(0 25)");const k={map:g,position:i,zIndex:x,title:b,content:C};return new google.maps.marker.AdvancedMarkerElement(k)}const B={position:i,zIndex:x,title:b,icon:{url:`data:image/svg+xml;base64,${btoa(S)}`,anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(B)}}function S0(A,f){for(let i in f.prototype)A.prototype[i]=f.prototype[i]}class vs{constructor(){S0(vs,google.maps.OverlayView)}}var qe;(function(A){A.CLUSTERING_BEGIN="clusteringbegin",A.CLUSTERING_END="clusteringend",A.CLUSTER_CLICK="click"})(qe||(qe={}));const E0=(A,f,i)=>{i.fitBounds(f.bounds)};class I0 extends vs{constructor({map:f,markers:i=[],algorithmOptions:p={},algorithm:g=new m0(p),renderer:m=new A0,onClusterClick:S=E0}){super(),this.markers=[...i],this.clusters=[],this.algorithm=g,this.renderer=m,this.onClusterClick=S,f&&this.setMap(f)}addMarker(f,i){this.markers.includes(f)||(this.markers.push(f),i||this.render())}addMarkers(f,i){f.forEach(p=>{this.addMarker(p,!0)}),i||this.render()}removeMarker(f,i){const p=this.markers.indexOf(f);return p===-1?!1:(Jn.setMap(f,null),this.markers.splice(p,1),i||this.render(),!0)}removeMarkers(f,i){let p=!1;return f.forEach(g=>{p=this.removeMarker(g,!0)||p}),p&&!i&&this.render(),p}clearMarkers(f){this.markers.length=0,f||this.render()}render(){const f=this.getMap();if(f instanceof google.maps.Map&&f.getProjection()){google.maps.event.trigger(this,qe.CLUSTERING_BEGIN,this);const{clusters:i,changed:p}=this.algorithm.calculate({markers:this.markers,map:f,mapCanvasProjection:this.getProjection()});if(p||p==null){const g=new Set;for(const S of i)S.markers.length==1&&g.add(S.markers[0]);const m=[];for(const S of this.clusters)S.marker!=null&&(S.markers.length==1?g.has(S.marker)||Jn.setMap(S.marker,null):m.push(S.marker));this.clusters=i,this.renderClusters(),requestAnimationFrame(()=>m.forEach(S=>Jn.setMap(S,null)))}google.maps.event.trigger(this,qe.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(f=>Jn.setMap(f,null)),this.clusters.forEach(f=>f.delete()),this.clusters=[]}renderClusters(){const f=new y0(this.markers,this.clusters),i=this.getMap();this.clusters.forEach(p=>{p.markers.length===1?p.marker=p.markers[0]:(p.marker=this.renderer.render(p,f,i),p.markers.forEach(g=>Jn.setMap(g,null)),this.onClusterClick&&p.marker.addListener("click",g=>{google.maps.event.trigger(this,qe.CLUSTER_CLICK,p),this.onClusterClick(g,p,i)})),Jn.setMap(p.marker,i)})}}var Gr={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Gr.exports;(function(A,f){(function(){var i,p="4.17.21",g=200,m="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",S="Expected a function",b="Invalid `variable` option passed into `_.template`",x="__lodash_hash_undefined__",B=500,T="__lodash_placeholder__",C=1,k=2,$=4,J=1,V=2,H=1,Y=2,yn=4,ln=8,Pn=16,Cn=32,Un=64,un=128,Zn=256,vt=512,se=30,cn="...",_n=800,Qn=16,at=1,Rt=2,U=3,An=1/0,Sn=9007199254740991,Kt=17976931348623157e292,xn=NaN,mn=4294967295,Tt=mn-1,Ee=mn>>>1,Zr=[["ary",un],["bind",H],["bindKey",Y],["curry",ln],["curryRight",Pn],["flip",vt],["partial",Cn],["partialRight",Un],["rearg",Zn]],Pt="[object Arguments]",ue="[object Array]",Hr="[object AsyncFunction]",yt="[object Boolean]",qt="[object Date]",Ve="[object DOMException]",oe="[object Error]",fe="[object Function]",Ye="[object GeneratorFunction]",Hn="[object Map]",Vt="[object Number]",zr="[object Null]",lt="[object Object]",Ie="[object Promise]",Kr="[object Proxy]",E="[object RegExp]",M="[object Set]",R="[object String]",nn="[object Symbol]",rn="[object Undefined]",on="[object WeakMap]",bn="[object WeakSet]",jn="[object ArrayBuffer]",ct="[object DataView]",Wn="[object Float32Array]",ht="[object Float64Array]",Ce="[object Int8Array]",Le="[object Int16Array]",ae="[object Int32Array]",qr="[object Uint8Array]",Vr="[object Uint8ClampedArray]",Yr="[object Uint16Array]",Xr="[object Uint32Array]",of=/\b__p \+= '';/g,ff=/\b(__p \+=) '' \+/g,af=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ws=/&(?:amp|lt|gt|quot|#39);/g,xs=/[&<>"']/g,lf=RegExp(ws.source),cf=RegExp(xs.source),hf=/<%-([\s\S]+?)%>/g,pf=/<%([\s\S]+?)%>/g,ms=/<%=([\s\S]+?)%>/g,gf=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,df=/^\w*$/,_f=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Jr=/[\\^$.*+?()[\]{}|]/g,vf=RegExp(Jr.source),Qr=/^\s+/,wf=/\s/,xf=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,mf=/\{\n\/\* \[wrapped with (.+)\] \*/,yf=/,? & /,Af=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Sf=/[()=,{}\[\]\/\s]/,Ef=/\\(\\)?/g,If=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ys=/\w*$/,Cf=/^[-+]0x[0-9a-f]+$/i,Lf=/^0b[01]+$/i,bf=/^\[object .+?Constructor\]$/,Mf=/^0o[0-7]+$/i,Of=/^(?:0|[1-9]\d*)$/,Rf=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Xe=/($^)/,Tf=/['\n\r\u2028\u2029\\]/g,Je="\\ud800-\\udfff",Pf="\\u0300-\\u036f",Ff="\\ufe20-\\ufe2f",Df="\\u20d0-\\u20ff",As=Pf+Ff+Df,Ss="\\u2700-\\u27bf",Es="a-z\\xdf-\\xf6\\xf8-\\xff",Bf="\\xac\\xb1\\xd7\\xf7",Uf="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Wf="\\u2000-\\u206f",Nf=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Is="A-Z\\xc0-\\xd6\\xd8-\\xde",Cs="\\ufe0e\\ufe0f",Ls=Bf+Uf+Wf+Nf,jr="['’]",kf="["+Je+"]",bs="["+Ls+"]",Qe="["+As+"]",Ms="\\d+",$f="["+Ss+"]",Os="["+Es+"]",Rs="[^"+Je+Ls+Ms+Ss+Es+Is+"]",ni="\\ud83c[\\udffb-\\udfff]",Gf="(?:"+Qe+"|"+ni+")",Ts="[^"+Je+"]",ti="(?:\\ud83c[\\udde6-\\uddff]){2}",ei="[\\ud800-\\udbff][\\udc00-\\udfff]",le="["+Is+"]",Ps="\\u200d",Fs="(?:"+Os+"|"+Rs+")",Zf="(?:"+le+"|"+Rs+")",Ds="(?:"+jr+"(?:d|ll|m|re|s|t|ve))?",Bs="(?:"+jr+"(?:D|LL|M|RE|S|T|VE))?",Us=Gf+"?",Ws="["+Cs+"]?",Hf="(?:"+Ps+"(?:"+[Ts,ti,ei].join("|")+")"+Ws+Us+")*",zf="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Kf="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ns=Ws+Us+Hf,qf="(?:"+[$f,ti,ei].join("|")+")"+Ns,Vf="(?:"+[Ts+Qe+"?",Qe,ti,ei,kf].join("|")+")",Yf=RegExp(jr,"g"),Xf=RegExp(Qe,"g"),ri=RegExp(ni+"(?="+ni+")|"+Vf+Ns,"g"),Jf=RegExp([le+"?"+Os+"+"+Ds+"(?="+[bs,le,"$"].join("|")+")",Zf+"+"+Bs+"(?="+[bs,le+Fs,"$"].join("|")+")",le+"?"+Fs+"+"+Ds,le+"+"+Bs,Kf,zf,Ms,qf].join("|"),"g"),Qf=RegExp("["+Ps+Je+As+Cs+"]"),jf=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,na=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ta=-1,hn={};hn[Wn]=hn[ht]=hn[Ce]=hn[Le]=hn[ae]=hn[qr]=hn[Vr]=hn[Yr]=hn[Xr]=!0,hn[Pt]=hn[ue]=hn[jn]=hn[yt]=hn[ct]=hn[qt]=hn[oe]=hn[fe]=hn[Hn]=hn[Vt]=hn[lt]=hn[E]=hn[M]=hn[R]=hn[on]=!1;var an={};an[Pt]=an[ue]=an[jn]=an[ct]=an[yt]=an[qt]=an[Wn]=an[ht]=an[Ce]=an[Le]=an[ae]=an[Hn]=an[Vt]=an[lt]=an[E]=an[M]=an[R]=an[nn]=an[qr]=an[Vr]=an[Yr]=an[Xr]=!0,an[oe]=an[fe]=an[on]=!1;var ea={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},ra={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ia={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},sa={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ua=parseFloat,oa=parseInt,ks=typeof Ze=="object"&&Ze&&Ze.Object===Object&&Ze,fa=typeof self=="object"&&self&&self.Object===Object&&self,Mn=ks||fa||Function("return this")(),ii=f&&!f.nodeType&&f,Yt=ii&&!0&&A&&!A.nodeType&&A,$s=Yt&&Yt.exports===ii,si=$s&&ks.process,nt=function(){try{var c=Yt&&Yt.require&&Yt.require("util").types;return c||si&&si.binding&&si.binding("util")}catch{}}(),Gs=nt&&nt.isArrayBuffer,Zs=nt&&nt.isDate,Hs=nt&&nt.isMap,zs=nt&&nt.isRegExp,Ks=nt&&nt.isSet,qs=nt&&nt.isTypedArray;function zn(c,_,d){switch(d.length){case 0:return c.call(_);case 1:return c.call(_,d[0]);case 2:return c.call(_,d[0],d[1]);case 3:return c.call(_,d[0],d[1],d[2])}return c.apply(_,d)}function aa(c,_,d,L){for(var N=-1,tn=c==null?0:c.length;++N<tn;){var En=c[N];_(L,En,d(En),c)}return L}function tt(c,_){for(var d=-1,L=c==null?0:c.length;++d<L&&_(c[d],d,c)!==!1;);return c}function la(c,_){for(var d=c==null?0:c.length;d--&&_(c[d],d,c)!==!1;);return c}function Vs(c,_){for(var d=-1,L=c==null?0:c.length;++d<L;)if(!_(c[d],d,c))return!1;return!0}function Ft(c,_){for(var d=-1,L=c==null?0:c.length,N=0,tn=[];++d<L;){var En=c[d];_(En,d,c)&&(tn[N++]=En)}return tn}function je(c,_){var d=c==null?0:c.length;return!!d&&ce(c,_,0)>-1}function ui(c,_,d){for(var L=-1,N=c==null?0:c.length;++L<N;)if(d(_,c[L]))return!0;return!1}function pn(c,_){for(var d=-1,L=c==null?0:c.length,N=Array(L);++d<L;)N[d]=_(c[d],d,c);return N}function Dt(c,_){for(var d=-1,L=_.length,N=c.length;++d<L;)c[N+d]=_[d];return c}function oi(c,_,d,L){var N=-1,tn=c==null?0:c.length;for(L&&tn&&(d=c[++N]);++N<tn;)d=_(d,c[N],N,c);return d}function ca(c,_,d,L){var N=c==null?0:c.length;for(L&&N&&(d=c[--N]);N--;)d=_(d,c[N],N,c);return d}function fi(c,_){for(var d=-1,L=c==null?0:c.length;++d<L;)if(_(c[d],d,c))return!0;return!1}var ha=ai("length");function pa(c){return c.split("")}function ga(c){return c.match(Af)||[]}function Ys(c,_,d){var L;return d(c,function(N,tn,En){if(_(N,tn,En))return L=tn,!1}),L}function nr(c,_,d,L){for(var N=c.length,tn=d+(L?1:-1);L?tn--:++tn<N;)if(_(c[tn],tn,c))return tn;return-1}function ce(c,_,d){return _===_?Ca(c,_,d):nr(c,Xs,d)}function da(c,_,d,L){for(var N=d-1,tn=c.length;++N<tn;)if(L(c[N],_))return N;return-1}function Xs(c){return c!==c}function Js(c,_){var d=c==null?0:c.length;return d?ci(c,_)/d:xn}function ai(c){return function(_){return _==null?i:_[c]}}function li(c){return function(_){return c==null?i:c[_]}}function Qs(c,_,d,L,N){return N(c,function(tn,En,fn){d=L?(L=!1,tn):_(d,tn,En,fn)}),d}function _a(c,_){var d=c.length;for(c.sort(_);d--;)c[d]=c[d].value;return c}function ci(c,_){for(var d,L=-1,N=c.length;++L<N;){var tn=_(c[L]);tn!==i&&(d=d===i?tn:d+tn)}return d}function hi(c,_){for(var d=-1,L=Array(c);++d<c;)L[d]=_(d);return L}function va(c,_){return pn(_,function(d){return[d,c[d]]})}function js(c){return c&&c.slice(0,ru(c)+1).replace(Qr,"")}function Kn(c){return function(_){return c(_)}}function pi(c,_){return pn(_,function(d){return c[d]})}function be(c,_){return c.has(_)}function nu(c,_){for(var d=-1,L=c.length;++d<L&&ce(_,c[d],0)>-1;);return d}function tu(c,_){for(var d=c.length;d--&&ce(_,c[d],0)>-1;);return d}function wa(c,_){for(var d=c.length,L=0;d--;)c[d]===_&&++L;return L}var xa=li(ea),ma=li(ra);function ya(c){return"\\"+sa[c]}function Aa(c,_){return c==null?i:c[_]}function he(c){return Qf.test(c)}function Sa(c){return jf.test(c)}function Ea(c){for(var _,d=[];!(_=c.next()).done;)d.push(_.value);return d}function gi(c){var _=-1,d=Array(c.size);return c.forEach(function(L,N){d[++_]=[N,L]}),d}function eu(c,_){return function(d){return c(_(d))}}function Bt(c,_){for(var d=-1,L=c.length,N=0,tn=[];++d<L;){var En=c[d];(En===_||En===T)&&(c[d]=T,tn[N++]=d)}return tn}function tr(c){var _=-1,d=Array(c.size);return c.forEach(function(L){d[++_]=L}),d}function Ia(c){var _=-1,d=Array(c.size);return c.forEach(function(L){d[++_]=[L,L]}),d}function Ca(c,_,d){for(var L=d-1,N=c.length;++L<N;)if(c[L]===_)return L;return-1}function La(c,_,d){for(var L=d+1;L--;)if(c[L]===_)return L;return L}function pe(c){return he(c)?Ma(c):ha(c)}function pt(c){return he(c)?Oa(c):pa(c)}function ru(c){for(var _=c.length;_--&&wf.test(c.charAt(_)););return _}var ba=li(ia);function Ma(c){for(var _=ri.lastIndex=0;ri.test(c);)++_;return _}function Oa(c){return c.match(ri)||[]}function Ra(c){return c.match(Jf)||[]}var Ta=function c(_){_=_==null?Mn:ge.defaults(Mn.Object(),_,ge.pick(Mn,na));var d=_.Array,L=_.Date,N=_.Error,tn=_.Function,En=_.Math,fn=_.Object,di=_.RegExp,Pa=_.String,et=_.TypeError,er=d.prototype,Fa=tn.prototype,de=fn.prototype,rr=_["__core-js_shared__"],ir=Fa.toString,sn=de.hasOwnProperty,Da=0,iu=function(){var n=/[^.]+$/.exec(rr&&rr.keys&&rr.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),sr=de.toString,Ba=ir.call(fn),Ua=Mn._,Wa=di("^"+ir.call(sn).replace(Jr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ur=$s?_.Buffer:i,Ut=_.Symbol,or=_.Uint8Array,su=ur?ur.allocUnsafe:i,fr=eu(fn.getPrototypeOf,fn),uu=fn.create,ou=de.propertyIsEnumerable,ar=er.splice,fu=Ut?Ut.isConcatSpreadable:i,Me=Ut?Ut.iterator:i,Xt=Ut?Ut.toStringTag:i,lr=function(){try{var n=te(fn,"defineProperty");return n({},"",{}),n}catch{}}(),Na=_.clearTimeout!==Mn.clearTimeout&&_.clearTimeout,ka=L&&L.now!==Mn.Date.now&&L.now,$a=_.setTimeout!==Mn.setTimeout&&_.setTimeout,cr=En.ceil,hr=En.floor,_i=fn.getOwnPropertySymbols,Ga=ur?ur.isBuffer:i,au=_.isFinite,Za=er.join,Ha=eu(fn.keys,fn),In=En.max,Rn=En.min,za=L.now,Ka=_.parseInt,lu=En.random,qa=er.reverse,vi=te(_,"DataView"),Oe=te(_,"Map"),wi=te(_,"Promise"),_e=te(_,"Set"),Re=te(_,"WeakMap"),Te=te(fn,"create"),pr=Re&&new Re,ve={},Va=ee(vi),Ya=ee(Oe),Xa=ee(wi),Ja=ee(_e),Qa=ee(Re),gr=Ut?Ut.prototype:i,Pe=gr?gr.valueOf:i,cu=gr?gr.toString:i;function u(n){if(dn(n)&&!G(n)&&!(n instanceof X)){if(n instanceof rt)return n;if(sn.call(n,"__wrapped__"))return ho(n)}return new rt(n)}var we=function(){function n(){}return function(t){if(!gn(t))return{};if(uu)return uu(t);n.prototype=t;var e=new n;return n.prototype=i,e}}();function dr(){}function rt(n,t){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}u.templateSettings={escape:hf,evaluate:pf,interpolate:ms,variable:"",imports:{_:u}},u.prototype=dr.prototype,u.prototype.constructor=u,rt.prototype=we(dr.prototype),rt.prototype.constructor=rt;function X(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=mn,this.__views__=[]}function ja(){var n=new X(this.__wrapped__);return n.__actions__=Nn(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=Nn(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=Nn(this.__views__),n}function nl(){if(this.__filtered__){var n=new X(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function tl(){var n=this.__wrapped__.value(),t=this.__dir__,e=G(n),r=t<0,s=e?n.length:0,o=pc(0,s,this.__views__),a=o.start,l=o.end,h=l-a,v=r?l:a-1,w=this.__iteratees__,y=w.length,I=0,O=Rn(h,this.__takeCount__);if(!e||!r&&s==h&&O==h)return Du(n,this.__actions__);var F=[];n:for(;h--&&I<O;){v+=t;for(var z=-1,D=n[v];++z<y;){var q=w[z],Q=q.iteratee,Yn=q.type,Bn=Q(D);if(Yn==Rt)D=Bn;else if(!Bn){if(Yn==at)continue n;break n}}F[I++]=D}return F}X.prototype=we(dr.prototype),X.prototype.constructor=X;function Jt(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}function el(){this.__data__=Te?Te(null):{},this.size=0}function rl(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t}function il(n){var t=this.__data__;if(Te){var e=t[n];return e===x?i:e}return sn.call(t,n)?t[n]:i}function sl(n){var t=this.__data__;return Te?t[n]!==i:sn.call(t,n)}function ul(n,t){var e=this.__data__;return this.size+=this.has(n)?0:1,e[n]=Te&&t===i?x:t,this}Jt.prototype.clear=el,Jt.prototype.delete=rl,Jt.prototype.get=il,Jt.prototype.has=sl,Jt.prototype.set=ul;function At(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}function ol(){this.__data__=[],this.size=0}function fl(n){var t=this.__data__,e=_r(t,n);if(e<0)return!1;var r=t.length-1;return e==r?t.pop():ar.call(t,e,1),--this.size,!0}function al(n){var t=this.__data__,e=_r(t,n);return e<0?i:t[e][1]}function ll(n){return _r(this.__data__,n)>-1}function cl(n,t){var e=this.__data__,r=_r(e,n);return r<0?(++this.size,e.push([n,t])):e[r][1]=t,this}At.prototype.clear=ol,At.prototype.delete=fl,At.prototype.get=al,At.prototype.has=ll,At.prototype.set=cl;function St(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}function hl(){this.size=0,this.__data__={hash:new Jt,map:new(Oe||At),string:new Jt}}function pl(n){var t=br(this,n).delete(n);return this.size-=t?1:0,t}function gl(n){return br(this,n).get(n)}function dl(n){return br(this,n).has(n)}function _l(n,t){var e=br(this,n),r=e.size;return e.set(n,t),this.size+=e.size==r?0:1,this}St.prototype.clear=hl,St.prototype.delete=pl,St.prototype.get=gl,St.prototype.has=dl,St.prototype.set=_l;function Qt(n){var t=-1,e=n==null?0:n.length;for(this.__data__=new St;++t<e;)this.add(n[t])}function vl(n){return this.__data__.set(n,x),this}function wl(n){return this.__data__.has(n)}Qt.prototype.add=Qt.prototype.push=vl,Qt.prototype.has=wl;function gt(n){var t=this.__data__=new At(n);this.size=t.size}function xl(){this.__data__=new At,this.size=0}function ml(n){var t=this.__data__,e=t.delete(n);return this.size=t.size,e}function yl(n){return this.__data__.get(n)}function Al(n){return this.__data__.has(n)}function Sl(n,t){var e=this.__data__;if(e instanceof At){var r=e.__data__;if(!Oe||r.length<g-1)return r.push([n,t]),this.size=++e.size,this;e=this.__data__=new St(r)}return e.set(n,t),this.size=e.size,this}gt.prototype.clear=xl,gt.prototype.delete=ml,gt.prototype.get=yl,gt.prototype.has=Al,gt.prototype.set=Sl;function hu(n,t){var e=G(n),r=!e&&re(n),s=!e&&!r&&Gt(n),o=!e&&!r&&!s&&Ae(n),a=e||r||s||o,l=a?hi(n.length,Pa):[],h=l.length;for(var v in n)(t||sn.call(n,v))&&!(a&&(v=="length"||s&&(v=="offset"||v=="parent")||o&&(v=="buffer"||v=="byteLength"||v=="byteOffset")||Lt(v,h)))&&l.push(v);return l}function pu(n){var t=n.length;return t?n[Mi(0,t-1)]:i}function El(n,t){return Mr(Nn(n),jt(t,0,n.length))}function Il(n){return Mr(Nn(n))}function xi(n,t,e){(e!==i&&!dt(n[t],e)||e===i&&!(t in n))&&Et(n,t,e)}function Fe(n,t,e){var r=n[t];(!(sn.call(n,t)&&dt(r,e))||e===i&&!(t in n))&&Et(n,t,e)}function _r(n,t){for(var e=n.length;e--;)if(dt(n[e][0],t))return e;return-1}function Cl(n,t,e,r){return Wt(n,function(s,o,a){t(r,s,e(s),a)}),r}function gu(n,t){return n&&xt(t,Ln(t),n)}function Ll(n,t){return n&&xt(t,$n(t),n)}function Et(n,t,e){t=="__proto__"&&lr?lr(n,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):n[t]=e}function mi(n,t){for(var e=-1,r=t.length,s=d(r),o=n==null;++e<r;)s[e]=o?i:ns(n,t[e]);return s}function jt(n,t,e){return n===n&&(e!==i&&(n=n<=e?n:e),t!==i&&(n=n>=t?n:t)),n}function it(n,t,e,r,s,o){var a,l=t&C,h=t&k,v=t&$;if(e&&(a=s?e(n,r,s,o):e(n)),a!==i)return a;if(!gn(n))return n;var w=G(n);if(w){if(a=dc(n),!l)return Nn(n,a)}else{var y=Tn(n),I=y==fe||y==Ye;if(Gt(n))return Wu(n,l);if(y==lt||y==Pt||I&&!s){if(a=h||I?{}:ro(n),!l)return h?ic(n,Ll(a,n)):rc(n,gu(a,n))}else{if(!an[y])return s?n:{};a=_c(n,y,l)}}o||(o=new gt);var O=o.get(n);if(O)return O;o.set(n,a),Po(n)?n.forEach(function(D){a.add(it(D,t,e,D,n,o))}):Ro(n)&&n.forEach(function(D,q){a.set(q,it(D,t,e,q,n,o))});var F=v?h?ki:Ni:h?$n:Ln,z=w?i:F(n);return tt(z||n,function(D,q){z&&(q=D,D=n[q]),Fe(a,q,it(D,t,e,q,n,o))}),a}function bl(n){var t=Ln(n);return function(e){return du(e,n,t)}}function du(n,t,e){var r=e.length;if(n==null)return!r;for(n=fn(n);r--;){var s=e[r],o=t[s],a=n[s];if(a===i&&!(s in n)||!o(a))return!1}return!0}function _u(n,t,e){if(typeof n!="function")throw new et(S);return $e(function(){n.apply(i,e)},t)}function De(n,t,e,r){var s=-1,o=je,a=!0,l=n.length,h=[],v=t.length;if(!l)return h;e&&(t=pn(t,Kn(e))),r?(o=ui,a=!1):t.length>=g&&(o=be,a=!1,t=new Qt(t));n:for(;++s<l;){var w=n[s],y=e==null?w:e(w);if(w=r||w!==0?w:0,a&&y===y){for(var I=v;I--;)if(t[I]===y)continue n;h.push(w)}else o(t,y,r)||h.push(w)}return h}var Wt=Zu(wt),vu=Zu(Ai,!0);function Ml(n,t){var e=!0;return Wt(n,function(r,s,o){return e=!!t(r,s,o),e}),e}function vr(n,t,e){for(var r=-1,s=n.length;++r<s;){var o=n[r],a=t(o);if(a!=null&&(l===i?a===a&&!Vn(a):e(a,l)))var l=a,h=o}return h}function Ol(n,t,e,r){var s=n.length;for(e=Z(e),e<0&&(e=-e>s?0:s+e),r=r===i||r>s?s:Z(r),r<0&&(r+=s),r=e>r?0:Do(r);e<r;)n[e++]=t;return n}function wu(n,t){var e=[];return Wt(n,function(r,s,o){t(r,s,o)&&e.push(r)}),e}function On(n,t,e,r,s){var o=-1,a=n.length;for(e||(e=wc),s||(s=[]);++o<a;){var l=n[o];t>0&&e(l)?t>1?On(l,t-1,e,r,s):Dt(s,l):r||(s[s.length]=l)}return s}var yi=Hu(),xu=Hu(!0);function wt(n,t){return n&&yi(n,t,Ln)}function Ai(n,t){return n&&xu(n,t,Ln)}function wr(n,t){return Ft(t,function(e){return bt(n[e])})}function ne(n,t){t=kt(t,n);for(var e=0,r=t.length;n!=null&&e<r;)n=n[mt(t[e++])];return e&&e==r?n:i}function mu(n,t,e){var r=t(n);return G(n)?r:Dt(r,e(n))}function Fn(n){return n==null?n===i?rn:zr:Xt&&Xt in fn(n)?hc(n):Ic(n)}function Si(n,t){return n>t}function Rl(n,t){return n!=null&&sn.call(n,t)}function Tl(n,t){return n!=null&&t in fn(n)}function Pl(n,t,e){return n>=Rn(t,e)&&n<In(t,e)}function Ei(n,t,e){for(var r=e?ui:je,s=n[0].length,o=n.length,a=o,l=d(o),h=1/0,v=[];a--;){var w=n[a];a&&t&&(w=pn(w,Kn(t))),h=Rn(w.length,h),l[a]=!e&&(t||s>=120&&w.length>=120)?new Qt(a&&w):i}w=n[0];var y=-1,I=l[0];n:for(;++y<s&&v.length<h;){var O=w[y],F=t?t(O):O;if(O=e||O!==0?O:0,!(I?be(I,F):r(v,F,e))){for(a=o;--a;){var z=l[a];if(!(z?be(z,F):r(n[a],F,e)))continue n}I&&I.push(F),v.push(O)}}return v}function Fl(n,t,e,r){return wt(n,function(s,o,a){t(r,e(s),o,a)}),r}function Be(n,t,e){t=kt(t,n),n=oo(n,t);var r=n==null?n:n[mt(ut(t))];return r==null?i:zn(r,n,e)}function yu(n){return dn(n)&&Fn(n)==Pt}function Dl(n){return dn(n)&&Fn(n)==jn}function Bl(n){return dn(n)&&Fn(n)==qt}function Ue(n,t,e,r,s){return n===t?!0:n==null||t==null||!dn(n)&&!dn(t)?n!==n&&t!==t:Ul(n,t,e,r,Ue,s)}function Ul(n,t,e,r,s,o){var a=G(n),l=G(t),h=a?ue:Tn(n),v=l?ue:Tn(t);h=h==Pt?lt:h,v=v==Pt?lt:v;var w=h==lt,y=v==lt,I=h==v;if(I&&Gt(n)){if(!Gt(t))return!1;a=!0,w=!1}if(I&&!w)return o||(o=new gt),a||Ae(n)?no(n,t,e,r,s,o):lc(n,t,h,e,r,s,o);if(!(e&J)){var O=w&&sn.call(n,"__wrapped__"),F=y&&sn.call(t,"__wrapped__");if(O||F){var z=O?n.value():n,D=F?t.value():t;return o||(o=new gt),s(z,D,e,r,o)}}return I?(o||(o=new gt),cc(n,t,e,r,s,o)):!1}function Wl(n){return dn(n)&&Tn(n)==Hn}function Ii(n,t,e,r){var s=e.length,o=s,a=!r;if(n==null)return!o;for(n=fn(n);s--;){var l=e[s];if(a&&l[2]?l[1]!==n[l[0]]:!(l[0]in n))return!1}for(;++s<o;){l=e[s];var h=l[0],v=n[h],w=l[1];if(a&&l[2]){if(v===i&&!(h in n))return!1}else{var y=new gt;if(r)var I=r(v,w,h,n,t,y);if(!(I===i?Ue(w,v,J|V,r,y):I))return!1}}return!0}function Au(n){if(!gn(n)||mc(n))return!1;var t=bt(n)?Wa:bf;return t.test(ee(n))}function Nl(n){return dn(n)&&Fn(n)==E}function kl(n){return dn(n)&&Tn(n)==M}function $l(n){return dn(n)&&Dr(n.length)&&!!hn[Fn(n)]}function Su(n){return typeof n=="function"?n:n==null?Gn:typeof n=="object"?G(n)?Cu(n[0],n[1]):Iu(n):Ko(n)}function Ci(n){if(!ke(n))return Ha(n);var t=[];for(var e in fn(n))sn.call(n,e)&&e!="constructor"&&t.push(e);return t}function Gl(n){if(!gn(n))return Ec(n);var t=ke(n),e=[];for(var r in n)r=="constructor"&&(t||!sn.call(n,r))||e.push(r);return e}function Li(n,t){return n<t}function Eu(n,t){var e=-1,r=kn(n)?d(n.length):[];return Wt(n,function(s,o,a){r[++e]=t(s,o,a)}),r}function Iu(n){var t=Gi(n);return t.length==1&&t[0][2]?so(t[0][0],t[0][1]):function(e){return e===n||Ii(e,n,t)}}function Cu(n,t){return Hi(n)&&io(t)?so(mt(n),t):function(e){var r=ns(e,n);return r===i&&r===t?ts(e,n):Ue(t,r,J|V)}}function xr(n,t,e,r,s){n!==t&&yi(t,function(o,a){if(s||(s=new gt),gn(o))Zl(n,t,a,e,xr,r,s);else{var l=r?r(Ki(n,a),o,a+"",n,t,s):i;l===i&&(l=o),xi(n,a,l)}},$n)}function Zl(n,t,e,r,s,o,a){var l=Ki(n,e),h=Ki(t,e),v=a.get(h);if(v){xi(n,e,v);return}var w=o?o(l,h,e+"",n,t,a):i,y=w===i;if(y){var I=G(h),O=!I&&Gt(h),F=!I&&!O&&Ae(h);w=h,I||O||F?G(l)?w=l:vn(l)?w=Nn(l):O?(y=!1,w=Wu(h,!0)):F?(y=!1,w=Nu(h,!0)):w=[]:Ge(h)||re(h)?(w=l,re(l)?w=Bo(l):(!gn(l)||bt(l))&&(w=ro(h))):y=!1}y&&(a.set(h,w),s(w,h,r,o,a),a.delete(h)),xi(n,e,w)}function Lu(n,t){var e=n.length;if(e)return t+=t<0?e:0,Lt(t,e)?n[t]:i}function bu(n,t,e){t.length?t=pn(t,function(o){return G(o)?function(a){return ne(a,o.length===1?o[0]:o)}:o}):t=[Gn];var r=-1;t=pn(t,Kn(P()));var s=Eu(n,function(o,a,l){var h=pn(t,function(v){return v(o)});return{criteria:h,index:++r,value:o}});return _a(s,function(o,a){return ec(o,a,e)})}function Hl(n,t){return Mu(n,t,function(e,r){return ts(n,r)})}function Mu(n,t,e){for(var r=-1,s=t.length,o={};++r<s;){var a=t[r],l=ne(n,a);e(l,a)&&We(o,kt(a,n),l)}return o}function zl(n){return function(t){return ne(t,n)}}function bi(n,t,e,r){var s=r?da:ce,o=-1,a=t.length,l=n;for(n===t&&(t=Nn(t)),e&&(l=pn(n,Kn(e)));++o<a;)for(var h=0,v=t[o],w=e?e(v):v;(h=s(l,w,h,r))>-1;)l!==n&&ar.call(l,h,1),ar.call(n,h,1);return n}function Ou(n,t){for(var e=n?t.length:0,r=e-1;e--;){var s=t[e];if(e==r||s!==o){var o=s;Lt(s)?ar.call(n,s,1):Ti(n,s)}}return n}function Mi(n,t){return n+hr(lu()*(t-n+1))}function Kl(n,t,e,r){for(var s=-1,o=In(cr((t-n)/(e||1)),0),a=d(o);o--;)a[r?o:++s]=n,n+=e;return a}function Oi(n,t){var e="";if(!n||t<1||t>Sn)return e;do t%2&&(e+=n),t=hr(t/2),t&&(n+=n);while(t);return e}function K(n,t){return qi(uo(n,t,Gn),n+"")}function ql(n){return pu(Se(n))}function Vl(n,t){var e=Se(n);return Mr(e,jt(t,0,e.length))}function We(n,t,e,r){if(!gn(n))return n;t=kt(t,n);for(var s=-1,o=t.length,a=o-1,l=n;l!=null&&++s<o;){var h=mt(t[s]),v=e;if(h==="__proto__"||h==="constructor"||h==="prototype")return n;if(s!=a){var w=l[h];v=r?r(w,h,l):i,v===i&&(v=gn(w)?w:Lt(t[s+1])?[]:{})}Fe(l,h,v),l=l[h]}return n}var Ru=pr?function(n,t){return pr.set(n,t),n}:Gn,Yl=lr?function(n,t){return lr(n,"toString",{configurable:!0,enumerable:!1,value:rs(t),writable:!0})}:Gn;function Xl(n){return Mr(Se(n))}function st(n,t,e){var r=-1,s=n.length;t<0&&(t=-t>s?0:s+t),e=e>s?s:e,e<0&&(e+=s),s=t>e?0:e-t>>>0,t>>>=0;for(var o=d(s);++r<s;)o[r]=n[r+t];return o}function Jl(n,t){var e;return Wt(n,function(r,s,o){return e=t(r,s,o),!e}),!!e}function mr(n,t,e){var r=0,s=n==null?r:n.length;if(typeof t=="number"&&t===t&&s<=Ee){for(;r<s;){var o=r+s>>>1,a=n[o];a!==null&&!Vn(a)&&(e?a<=t:a<t)?r=o+1:s=o}return s}return Ri(n,t,Gn,e)}function Ri(n,t,e,r){var s=0,o=n==null?0:n.length;if(o===0)return 0;t=e(t);for(var a=t!==t,l=t===null,h=Vn(t),v=t===i;s<o;){var w=hr((s+o)/2),y=e(n[w]),I=y!==i,O=y===null,F=y===y,z=Vn(y);if(a)var D=r||F;else v?D=F&&(r||I):l?D=F&&I&&(r||!O):h?D=F&&I&&!O&&(r||!z):O||z?D=!1:D=r?y<=t:y<t;D?s=w+1:o=w}return Rn(o,Tt)}function Tu(n,t){for(var e=-1,r=n.length,s=0,o=[];++e<r;){var a=n[e],l=t?t(a):a;if(!e||!dt(l,h)){var h=l;o[s++]=a===0?0:a}}return o}function Pu(n){return typeof n=="number"?n:Vn(n)?xn:+n}function qn(n){if(typeof n=="string")return n;if(G(n))return pn(n,qn)+"";if(Vn(n))return cu?cu.call(n):"";var t=n+"";return t=="0"&&1/n==-An?"-0":t}function Nt(n,t,e){var r=-1,s=je,o=n.length,a=!0,l=[],h=l;if(e)a=!1,s=ui;else if(o>=g){var v=t?null:fc(n);if(v)return tr(v);a=!1,s=be,h=new Qt}else h=t?[]:l;n:for(;++r<o;){var w=n[r],y=t?t(w):w;if(w=e||w!==0?w:0,a&&y===y){for(var I=h.length;I--;)if(h[I]===y)continue n;t&&h.push(y),l.push(w)}else s(h,y,e)||(h!==l&&h.push(y),l.push(w))}return l}function Ti(n,t){return t=kt(t,n),n=oo(n,t),n==null||delete n[mt(ut(t))]}function Fu(n,t,e,r){return We(n,t,e(ne(n,t)),r)}function yr(n,t,e,r){for(var s=n.length,o=r?s:-1;(r?o--:++o<s)&&t(n[o],o,n););return e?st(n,r?0:o,r?o+1:s):st(n,r?o+1:0,r?s:o)}function Du(n,t){var e=n;return e instanceof X&&(e=e.value()),oi(t,function(r,s){return s.func.apply(s.thisArg,Dt([r],s.args))},e)}function Pi(n,t,e){var r=n.length;if(r<2)return r?Nt(n[0]):[];for(var s=-1,o=d(r);++s<r;)for(var a=n[s],l=-1;++l<r;)l!=s&&(o[s]=De(o[s]||a,n[l],t,e));return Nt(On(o,1),t,e)}function Bu(n,t,e){for(var r=-1,s=n.length,o=t.length,a={};++r<s;){var l=r<o?t[r]:i;e(a,n[r],l)}return a}function Fi(n){return vn(n)?n:[]}function Di(n){return typeof n=="function"?n:Gn}function kt(n,t){return G(n)?n:Hi(n,t)?[n]:co(en(n))}var Ql=K;function $t(n,t,e){var r=n.length;return e=e===i?r:e,!t&&e>=r?n:st(n,t,e)}var Uu=Na||function(n){return Mn.clearTimeout(n)};function Wu(n,t){if(t)return n.slice();var e=n.length,r=su?su(e):new n.constructor(e);return n.copy(r),r}function Bi(n){var t=new n.constructor(n.byteLength);return new or(t).set(new or(n)),t}function jl(n,t){var e=t?Bi(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.byteLength)}function nc(n){var t=new n.constructor(n.source,ys.exec(n));return t.lastIndex=n.lastIndex,t}function tc(n){return Pe?fn(Pe.call(n)):{}}function Nu(n,t){var e=t?Bi(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.length)}function ku(n,t){if(n!==t){var e=n!==i,r=n===null,s=n===n,o=Vn(n),a=t!==i,l=t===null,h=t===t,v=Vn(t);if(!l&&!v&&!o&&n>t||o&&a&&h&&!l&&!v||r&&a&&h||!e&&h||!s)return 1;if(!r&&!o&&!v&&n<t||v&&e&&s&&!r&&!o||l&&e&&s||!a&&s||!h)return-1}return 0}function ec(n,t,e){for(var r=-1,s=n.criteria,o=t.criteria,a=s.length,l=e.length;++r<a;){var h=ku(s[r],o[r]);if(h){if(r>=l)return h;var v=e[r];return h*(v=="desc"?-1:1)}}return n.index-t.index}function $u(n,t,e,r){for(var s=-1,o=n.length,a=e.length,l=-1,h=t.length,v=In(o-a,0),w=d(h+v),y=!r;++l<h;)w[l]=t[l];for(;++s<a;)(y||s<o)&&(w[e[s]]=n[s]);for(;v--;)w[l++]=n[s++];return w}function Gu(n,t,e,r){for(var s=-1,o=n.length,a=-1,l=e.length,h=-1,v=t.length,w=In(o-l,0),y=d(w+v),I=!r;++s<w;)y[s]=n[s];for(var O=s;++h<v;)y[O+h]=t[h];for(;++a<l;)(I||s<o)&&(y[O+e[a]]=n[s++]);return y}function Nn(n,t){var e=-1,r=n.length;for(t||(t=d(r));++e<r;)t[e]=n[e];return t}function xt(n,t,e,r){var s=!e;e||(e={});for(var o=-1,a=t.length;++o<a;){var l=t[o],h=r?r(e[l],n[l],l,e,n):i;h===i&&(h=n[l]),s?Et(e,l,h):Fe(e,l,h)}return e}function rc(n,t){return xt(n,Zi(n),t)}function ic(n,t){return xt(n,to(n),t)}function Ar(n,t){return function(e,r){var s=G(e)?aa:Cl,o=t?t():{};return s(e,n,P(r,2),o)}}function xe(n){return K(function(t,e){var r=-1,s=e.length,o=s>1?e[s-1]:i,a=s>2?e[2]:i;for(o=n.length>3&&typeof o=="function"?(s--,o):i,a&&Dn(e[0],e[1],a)&&(o=s<3?i:o,s=1),t=fn(t);++r<s;){var l=e[r];l&&n(t,l,r,o)}return t})}function Zu(n,t){return function(e,r){if(e==null)return e;if(!kn(e))return n(e,r);for(var s=e.length,o=t?s:-1,a=fn(e);(t?o--:++o<s)&&r(a[o],o,a)!==!1;);return e}}function Hu(n){return function(t,e,r){for(var s=-1,o=fn(t),a=r(t),l=a.length;l--;){var h=a[n?l:++s];if(e(o[h],h,o)===!1)break}return t}}function sc(n,t,e){var r=t&H,s=Ne(n);function o(){var a=this&&this!==Mn&&this instanceof o?s:n;return a.apply(r?e:this,arguments)}return o}function zu(n){return function(t){t=en(t);var e=he(t)?pt(t):i,r=e?e[0]:t.charAt(0),s=e?$t(e,1).join(""):t.slice(1);return r[n]()+s}}function me(n){return function(t){return oi(Ho(Zo(t).replace(Yf,"")),n,"")}}function Ne(n){return function(){var t=arguments;switch(t.length){case 0:return new n;case 1:return new n(t[0]);case 2:return new n(t[0],t[1]);case 3:return new n(t[0],t[1],t[2]);case 4:return new n(t[0],t[1],t[2],t[3]);case 5:return new n(t[0],t[1],t[2],t[3],t[4]);case 6:return new n(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new n(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var e=we(n.prototype),r=n.apply(e,t);return gn(r)?r:e}}function uc(n,t,e){var r=Ne(n);function s(){for(var o=arguments.length,a=d(o),l=o,h=ye(s);l--;)a[l]=arguments[l];var v=o<3&&a[0]!==h&&a[o-1]!==h?[]:Bt(a,h);if(o-=v.length,o<e)return Xu(n,t,Sr,s.placeholder,i,a,v,i,i,e-o);var w=this&&this!==Mn&&this instanceof s?r:n;return zn(w,this,a)}return s}function Ku(n){return function(t,e,r){var s=fn(t);if(!kn(t)){var o=P(e,3);t=Ln(t),e=function(l){return o(s[l],l,s)}}var a=n(t,e,r);return a>-1?s[o?t[a]:a]:i}}function qu(n){return Ct(function(t){var e=t.length,r=e,s=rt.prototype.thru;for(n&&t.reverse();r--;){var o=t[r];if(typeof o!="function")throw new et(S);if(s&&!a&&Lr(o)=="wrapper")var a=new rt([],!0)}for(r=a?r:e;++r<e;){o=t[r];var l=Lr(o),h=l=="wrapper"?$i(o):i;h&&zi(h[0])&&h[1]==(un|ln|Cn|Zn)&&!h[4].length&&h[9]==1?a=a[Lr(h[0])].apply(a,h[3]):a=o.length==1&&zi(o)?a[l]():a.thru(o)}return function(){var v=arguments,w=v[0];if(a&&v.length==1&&G(w))return a.plant(w).value();for(var y=0,I=e?t[y].apply(this,v):w;++y<e;)I=t[y].call(this,I);return I}})}function Sr(n,t,e,r,s,o,a,l,h,v){var w=t&un,y=t&H,I=t&Y,O=t&(ln|Pn),F=t&vt,z=I?i:Ne(n);function D(){for(var q=arguments.length,Q=d(q),Yn=q;Yn--;)Q[Yn]=arguments[Yn];if(O)var Bn=ye(D),Xn=wa(Q,Bn);if(r&&(Q=$u(Q,r,s,O)),o&&(Q=Gu(Q,o,a,O)),q-=Xn,O&&q<v){var wn=Bt(Q,Bn);return Xu(n,t,Sr,D.placeholder,e,Q,wn,l,h,v-q)}var _t=y?e:this,Ot=I?_t[n]:n;return q=Q.length,l?Q=Cc(Q,l):F&&q>1&&Q.reverse(),w&&h<q&&(Q.length=h),this&&this!==Mn&&this instanceof D&&(Ot=z||Ne(Ot)),Ot.apply(_t,Q)}return D}function Vu(n,t){return function(e,r){return Fl(e,n,t(r),{})}}function Er(n,t){return function(e,r){var s;if(e===i&&r===i)return t;if(e!==i&&(s=e),r!==i){if(s===i)return r;typeof e=="string"||typeof r=="string"?(e=qn(e),r=qn(r)):(e=Pu(e),r=Pu(r)),s=n(e,r)}return s}}function Ui(n){return Ct(function(t){return t=pn(t,Kn(P())),K(function(e){var r=this;return n(t,function(s){return zn(s,r,e)})})})}function Ir(n,t){t=t===i?" ":qn(t);var e=t.length;if(e<2)return e?Oi(t,n):t;var r=Oi(t,cr(n/pe(t)));return he(t)?$t(pt(r),0,n).join(""):r.slice(0,n)}function oc(n,t,e,r){var s=t&H,o=Ne(n);function a(){for(var l=-1,h=arguments.length,v=-1,w=r.length,y=d(w+h),I=this&&this!==Mn&&this instanceof a?o:n;++v<w;)y[v]=r[v];for(;h--;)y[v++]=arguments[++l];return zn(I,s?e:this,y)}return a}function Yu(n){return function(t,e,r){return r&&typeof r!="number"&&Dn(t,e,r)&&(e=r=i),t=Mt(t),e===i?(e=t,t=0):e=Mt(e),r=r===i?t<e?1:-1:Mt(r),Kl(t,e,r,n)}}function Cr(n){return function(t,e){return typeof t=="string"&&typeof e=="string"||(t=ot(t),e=ot(e)),n(t,e)}}function Xu(n,t,e,r,s,o,a,l,h,v){var w=t&ln,y=w?a:i,I=w?i:a,O=w?o:i,F=w?i:o;t|=w?Cn:Un,t&=~(w?Un:Cn),t&yn||(t&=~(H|Y));var z=[n,t,s,O,y,F,I,l,h,v],D=e.apply(i,z);return zi(n)&&fo(D,z),D.placeholder=r,ao(D,n,t)}function Wi(n){var t=En[n];return function(e,r){if(e=ot(e),r=r==null?0:Rn(Z(r),292),r&&au(e)){var s=(en(e)+"e").split("e"),o=t(s[0]+"e"+(+s[1]+r));return s=(en(o)+"e").split("e"),+(s[0]+"e"+(+s[1]-r))}return t(e)}}var fc=_e&&1/tr(new _e([,-0]))[1]==An?function(n){return new _e(n)}:us;function Ju(n){return function(t){var e=Tn(t);return e==Hn?gi(t):e==M?Ia(t):va(t,n(t))}}function It(n,t,e,r,s,o,a,l){var h=t&Y;if(!h&&typeof n!="function")throw new et(S);var v=r?r.length:0;if(v||(t&=~(Cn|Un),r=s=i),a=a===i?a:In(Z(a),0),l=l===i?l:Z(l),v-=s?s.length:0,t&Un){var w=r,y=s;r=s=i}var I=h?i:$i(n),O=[n,t,e,r,s,w,y,o,a,l];if(I&&Sc(O,I),n=O[0],t=O[1],e=O[2],r=O[3],s=O[4],l=O[9]=O[9]===i?h?0:n.length:In(O[9]-v,0),!l&&t&(ln|Pn)&&(t&=~(ln|Pn)),!t||t==H)var F=sc(n,t,e);else t==ln||t==Pn?F=uc(n,t,l):(t==Cn||t==(H|Cn))&&!s.length?F=oc(n,t,e,r):F=Sr.apply(i,O);var z=I?Ru:fo;return ao(z(F,O),n,t)}function Qu(n,t,e,r){return n===i||dt(n,de[e])&&!sn.call(r,e)?t:n}function ju(n,t,e,r,s,o){return gn(n)&&gn(t)&&(o.set(t,n),xr(n,t,i,ju,o),o.delete(t)),n}function ac(n){return Ge(n)?i:n}function no(n,t,e,r,s,o){var a=e&J,l=n.length,h=t.length;if(l!=h&&!(a&&h>l))return!1;var v=o.get(n),w=o.get(t);if(v&&w)return v==t&&w==n;var y=-1,I=!0,O=e&V?new Qt:i;for(o.set(n,t),o.set(t,n);++y<l;){var F=n[y],z=t[y];if(r)var D=a?r(z,F,y,t,n,o):r(F,z,y,n,t,o);if(D!==i){if(D)continue;I=!1;break}if(O){if(!fi(t,function(q,Q){if(!be(O,Q)&&(F===q||s(F,q,e,r,o)))return O.push(Q)})){I=!1;break}}else if(!(F===z||s(F,z,e,r,o))){I=!1;break}}return o.delete(n),o.delete(t),I}function lc(n,t,e,r,s,o,a){switch(e){case ct:if(n.byteLength!=t.byteLength||n.byteOffset!=t.byteOffset)return!1;n=n.buffer,t=t.buffer;case jn:return!(n.byteLength!=t.byteLength||!o(new or(n),new or(t)));case yt:case qt:case Vt:return dt(+n,+t);case oe:return n.name==t.name&&n.message==t.message;case E:case R:return n==t+"";case Hn:var l=gi;case M:var h=r&J;if(l||(l=tr),n.size!=t.size&&!h)return!1;var v=a.get(n);if(v)return v==t;r|=V,a.set(n,t);var w=no(l(n),l(t),r,s,o,a);return a.delete(n),w;case nn:if(Pe)return Pe.call(n)==Pe.call(t)}return!1}function cc(n,t,e,r,s,o){var a=e&J,l=Ni(n),h=l.length,v=Ni(t),w=v.length;if(h!=w&&!a)return!1;for(var y=h;y--;){var I=l[y];if(!(a?I in t:sn.call(t,I)))return!1}var O=o.get(n),F=o.get(t);if(O&&F)return O==t&&F==n;var z=!0;o.set(n,t),o.set(t,n);for(var D=a;++y<h;){I=l[y];var q=n[I],Q=t[I];if(r)var Yn=a?r(Q,q,I,t,n,o):r(q,Q,I,n,t,o);if(!(Yn===i?q===Q||s(q,Q,e,r,o):Yn)){z=!1;break}D||(D=I=="constructor")}if(z&&!D){var Bn=n.constructor,Xn=t.constructor;Bn!=Xn&&"constructor"in n&&"constructor"in t&&!(typeof Bn=="function"&&Bn instanceof Bn&&typeof Xn=="function"&&Xn instanceof Xn)&&(z=!1)}return o.delete(n),o.delete(t),z}function Ct(n){return qi(uo(n,i,_o),n+"")}function Ni(n){return mu(n,Ln,Zi)}function ki(n){return mu(n,$n,to)}var $i=pr?function(n){return pr.get(n)}:us;function Lr(n){for(var t=n.name+"",e=ve[t],r=sn.call(ve,t)?e.length:0;r--;){var s=e[r],o=s.func;if(o==null||o==n)return s.name}return t}function ye(n){var t=sn.call(u,"placeholder")?u:n;return t.placeholder}function P(){var n=u.iteratee||is;return n=n===is?Su:n,arguments.length?n(arguments[0],arguments[1]):n}function br(n,t){var e=n.__data__;return xc(t)?e[typeof t=="string"?"string":"hash"]:e.map}function Gi(n){for(var t=Ln(n),e=t.length;e--;){var r=t[e],s=n[r];t[e]=[r,s,io(s)]}return t}function te(n,t){var e=Aa(n,t);return Au(e)?e:i}function hc(n){var t=sn.call(n,Xt),e=n[Xt];try{n[Xt]=i;var r=!0}catch{}var s=sr.call(n);return r&&(t?n[Xt]=e:delete n[Xt]),s}var Zi=_i?function(n){return n==null?[]:(n=fn(n),Ft(_i(n),function(t){return ou.call(n,t)}))}:os,to=_i?function(n){for(var t=[];n;)Dt(t,Zi(n)),n=fr(n);return t}:os,Tn=Fn;(vi&&Tn(new vi(new ArrayBuffer(1)))!=ct||Oe&&Tn(new Oe)!=Hn||wi&&Tn(wi.resolve())!=Ie||_e&&Tn(new _e)!=M||Re&&Tn(new Re)!=on)&&(Tn=function(n){var t=Fn(n),e=t==lt?n.constructor:i,r=e?ee(e):"";if(r)switch(r){case Va:return ct;case Ya:return Hn;case Xa:return Ie;case Ja:return M;case Qa:return on}return t});function pc(n,t,e){for(var r=-1,s=e.length;++r<s;){var o=e[r],a=o.size;switch(o.type){case"drop":n+=a;break;case"dropRight":t-=a;break;case"take":t=Rn(t,n+a);break;case"takeRight":n=In(n,t-a);break}}return{start:n,end:t}}function gc(n){var t=n.match(mf);return t?t[1].split(yf):[]}function eo(n,t,e){t=kt(t,n);for(var r=-1,s=t.length,o=!1;++r<s;){var a=mt(t[r]);if(!(o=n!=null&&e(n,a)))break;n=n[a]}return o||++r!=s?o:(s=n==null?0:n.length,!!s&&Dr(s)&&Lt(a,s)&&(G(n)||re(n)))}function dc(n){var t=n.length,e=new n.constructor(t);return t&&typeof n[0]=="string"&&sn.call(n,"index")&&(e.index=n.index,e.input=n.input),e}function ro(n){return typeof n.constructor=="function"&&!ke(n)?we(fr(n)):{}}function _c(n,t,e){var r=n.constructor;switch(t){case jn:return Bi(n);case yt:case qt:return new r(+n);case ct:return jl(n,e);case Wn:case ht:case Ce:case Le:case ae:case qr:case Vr:case Yr:case Xr:return Nu(n,e);case Hn:return new r;case Vt:case R:return new r(n);case E:return nc(n);case M:return new r;case nn:return tc(n)}}function vc(n,t){var e=t.length;if(!e)return n;var r=e-1;return t[r]=(e>1?"& ":"")+t[r],t=t.join(e>2?", ":" "),n.replace(xf,`{
/* [wrapped with `+t+`] */
`)}function wc(n){return G(n)||re(n)||!!(fu&&n&&n[fu])}function Lt(n,t){var e=typeof n;return t=t??Sn,!!t&&(e=="number"||e!="symbol"&&Of.test(n))&&n>-1&&n%1==0&&n<t}function Dn(n,t,e){if(!gn(e))return!1;var r=typeof t;return(r=="number"?kn(e)&&Lt(t,e.length):r=="string"&&t in e)?dt(e[t],n):!1}function Hi(n,t){if(G(n))return!1;var e=typeof n;return e=="number"||e=="symbol"||e=="boolean"||n==null||Vn(n)?!0:df.test(n)||!gf.test(n)||t!=null&&n in fn(t)}function xc(n){var t=typeof n;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?n!=="__proto__":n===null}function zi(n){var t=Lr(n),e=u[t];if(typeof e!="function"||!(t in X.prototype))return!1;if(n===e)return!0;var r=$i(e);return!!r&&n===r[0]}function mc(n){return!!iu&&iu in n}var yc=rr?bt:fs;function ke(n){var t=n&&n.constructor,e=typeof t=="function"&&t.prototype||de;return n===e}function io(n){return n===n&&!gn(n)}function so(n,t){return function(e){return e==null?!1:e[n]===t&&(t!==i||n in fn(e))}}function Ac(n){var t=Pr(n,function(r){return e.size===B&&e.clear(),r}),e=t.cache;return t}function Sc(n,t){var e=n[1],r=t[1],s=e|r,o=s<(H|Y|un),a=r==un&&e==ln||r==un&&e==Zn&&n[7].length<=t[8]||r==(un|Zn)&&t[7].length<=t[8]&&e==ln;if(!(o||a))return n;r&H&&(n[2]=t[2],s|=e&H?0:yn);var l=t[3];if(l){var h=n[3];n[3]=h?$u(h,l,t[4]):l,n[4]=h?Bt(n[3],T):t[4]}return l=t[5],l&&(h=n[5],n[5]=h?Gu(h,l,t[6]):l,n[6]=h?Bt(n[5],T):t[6]),l=t[7],l&&(n[7]=l),r&un&&(n[8]=n[8]==null?t[8]:Rn(n[8],t[8])),n[9]==null&&(n[9]=t[9]),n[0]=t[0],n[1]=s,n}function Ec(n){var t=[];if(n!=null)for(var e in fn(n))t.push(e);return t}function Ic(n){return sr.call(n)}function uo(n,t,e){return t=In(t===i?n.length-1:t,0),function(){for(var r=arguments,s=-1,o=In(r.length-t,0),a=d(o);++s<o;)a[s]=r[t+s];s=-1;for(var l=d(t+1);++s<t;)l[s]=r[s];return l[t]=e(a),zn(n,this,l)}}function oo(n,t){return t.length<2?n:ne(n,st(t,0,-1))}function Cc(n,t){for(var e=n.length,r=Rn(t.length,e),s=Nn(n);r--;){var o=t[r];n[r]=Lt(o,e)?s[o]:i}return n}function Ki(n,t){if(!(t==="constructor"&&typeof n[t]=="function")&&t!="__proto__")return n[t]}var fo=lo(Ru),$e=$a||function(n,t){return Mn.setTimeout(n,t)},qi=lo(Yl);function ao(n,t,e){var r=t+"";return qi(n,vc(r,Lc(gc(r),e)))}function lo(n){var t=0,e=0;return function(){var r=za(),s=Qn-(r-e);if(e=r,s>0){if(++t>=_n)return arguments[0]}else t=0;return n.apply(i,arguments)}}function Mr(n,t){var e=-1,r=n.length,s=r-1;for(t=t===i?r:t;++e<t;){var o=Mi(e,s),a=n[o];n[o]=n[e],n[e]=a}return n.length=t,n}var co=Ac(function(n){var t=[];return n.charCodeAt(0)===46&&t.push(""),n.replace(_f,function(e,r,s,o){t.push(s?o.replace(Ef,"$1"):r||e)}),t});function mt(n){if(typeof n=="string"||Vn(n))return n;var t=n+"";return t=="0"&&1/n==-An?"-0":t}function ee(n){if(n!=null){try{return ir.call(n)}catch{}try{return n+""}catch{}}return""}function Lc(n,t){return tt(Zr,function(e){var r="_."+e[0];t&e[1]&&!je(n,r)&&n.push(r)}),n.sort()}function ho(n){if(n instanceof X)return n.clone();var t=new rt(n.__wrapped__,n.__chain__);return t.__actions__=Nn(n.__actions__),t.__index__=n.__index__,t.__values__=n.__values__,t}function bc(n,t,e){(e?Dn(n,t,e):t===i)?t=1:t=In(Z(t),0);var r=n==null?0:n.length;if(!r||t<1)return[];for(var s=0,o=0,a=d(cr(r/t));s<r;)a[o++]=st(n,s,s+=t);return a}function Mc(n){for(var t=-1,e=n==null?0:n.length,r=0,s=[];++t<e;){var o=n[t];o&&(s[r++]=o)}return s}function Oc(){var n=arguments.length;if(!n)return[];for(var t=d(n-1),e=arguments[0],r=n;r--;)t[r-1]=arguments[r];return Dt(G(e)?Nn(e):[e],On(t,1))}var Rc=K(function(n,t){return vn(n)?De(n,On(t,1,vn,!0)):[]}),Tc=K(function(n,t){var e=ut(t);return vn(e)&&(e=i),vn(n)?De(n,On(t,1,vn,!0),P(e,2)):[]}),Pc=K(function(n,t){var e=ut(t);return vn(e)&&(e=i),vn(n)?De(n,On(t,1,vn,!0),i,e):[]});function Fc(n,t,e){var r=n==null?0:n.length;return r?(t=e||t===i?1:Z(t),st(n,t<0?0:t,r)):[]}function Dc(n,t,e){var r=n==null?0:n.length;return r?(t=e||t===i?1:Z(t),t=r-t,st(n,0,t<0?0:t)):[]}function Bc(n,t){return n&&n.length?yr(n,P(t,3),!0,!0):[]}function Uc(n,t){return n&&n.length?yr(n,P(t,3),!0):[]}function Wc(n,t,e,r){var s=n==null?0:n.length;return s?(e&&typeof e!="number"&&Dn(n,t,e)&&(e=0,r=s),Ol(n,t,e,r)):[]}function po(n,t,e){var r=n==null?0:n.length;if(!r)return-1;var s=e==null?0:Z(e);return s<0&&(s=In(r+s,0)),nr(n,P(t,3),s)}function go(n,t,e){var r=n==null?0:n.length;if(!r)return-1;var s=r-1;return e!==i&&(s=Z(e),s=e<0?In(r+s,0):Rn(s,r-1)),nr(n,P(t,3),s,!0)}function _o(n){var t=n==null?0:n.length;return t?On(n,1):[]}function Nc(n){var t=n==null?0:n.length;return t?On(n,An):[]}function kc(n,t){var e=n==null?0:n.length;return e?(t=t===i?1:Z(t),On(n,t)):[]}function $c(n){for(var t=-1,e=n==null?0:n.length,r={};++t<e;){var s=n[t];r[s[0]]=s[1]}return r}function vo(n){return n&&n.length?n[0]:i}function Gc(n,t,e){var r=n==null?0:n.length;if(!r)return-1;var s=e==null?0:Z(e);return s<0&&(s=In(r+s,0)),ce(n,t,s)}function Zc(n){var t=n==null?0:n.length;return t?st(n,0,-1):[]}var Hc=K(function(n){var t=pn(n,Fi);return t.length&&t[0]===n[0]?Ei(t):[]}),zc=K(function(n){var t=ut(n),e=pn(n,Fi);return t===ut(e)?t=i:e.pop(),e.length&&e[0]===n[0]?Ei(e,P(t,2)):[]}),Kc=K(function(n){var t=ut(n),e=pn(n,Fi);return t=typeof t=="function"?t:i,t&&e.pop(),e.length&&e[0]===n[0]?Ei(e,i,t):[]});function qc(n,t){return n==null?"":Za.call(n,t)}function ut(n){var t=n==null?0:n.length;return t?n[t-1]:i}function Vc(n,t,e){var r=n==null?0:n.length;if(!r)return-1;var s=r;return e!==i&&(s=Z(e),s=s<0?In(r+s,0):Rn(s,r-1)),t===t?La(n,t,s):nr(n,Xs,s,!0)}function Yc(n,t){return n&&n.length?Lu(n,Z(t)):i}var Xc=K(wo);function wo(n,t){return n&&n.length&&t&&t.length?bi(n,t):n}function Jc(n,t,e){return n&&n.length&&t&&t.length?bi(n,t,P(e,2)):n}function Qc(n,t,e){return n&&n.length&&t&&t.length?bi(n,t,i,e):n}var jc=Ct(function(n,t){var e=n==null?0:n.length,r=mi(n,t);return Ou(n,pn(t,function(s){return Lt(s,e)?+s:s}).sort(ku)),r});function nh(n,t){var e=[];if(!(n&&n.length))return e;var r=-1,s=[],o=n.length;for(t=P(t,3);++r<o;){var a=n[r];t(a,r,n)&&(e.push(a),s.push(r))}return Ou(n,s),e}function Vi(n){return n==null?n:qa.call(n)}function th(n,t,e){var r=n==null?0:n.length;return r?(e&&typeof e!="number"&&Dn(n,t,e)?(t=0,e=r):(t=t==null?0:Z(t),e=e===i?r:Z(e)),st(n,t,e)):[]}function eh(n,t){return mr(n,t)}function rh(n,t,e){return Ri(n,t,P(e,2))}function ih(n,t){var e=n==null?0:n.length;if(e){var r=mr(n,t);if(r<e&&dt(n[r],t))return r}return-1}function sh(n,t){return mr(n,t,!0)}function uh(n,t,e){return Ri(n,t,P(e,2),!0)}function oh(n,t){var e=n==null?0:n.length;if(e){var r=mr(n,t,!0)-1;if(dt(n[r],t))return r}return-1}function fh(n){return n&&n.length?Tu(n):[]}function ah(n,t){return n&&n.length?Tu(n,P(t,2)):[]}function lh(n){var t=n==null?0:n.length;return t?st(n,1,t):[]}function ch(n,t,e){return n&&n.length?(t=e||t===i?1:Z(t),st(n,0,t<0?0:t)):[]}function hh(n,t,e){var r=n==null?0:n.length;return r?(t=e||t===i?1:Z(t),t=r-t,st(n,t<0?0:t,r)):[]}function ph(n,t){return n&&n.length?yr(n,P(t,3),!1,!0):[]}function gh(n,t){return n&&n.length?yr(n,P(t,3)):[]}var dh=K(function(n){return Nt(On(n,1,vn,!0))}),_h=K(function(n){var t=ut(n);return vn(t)&&(t=i),Nt(On(n,1,vn,!0),P(t,2))}),vh=K(function(n){var t=ut(n);return t=typeof t=="function"?t:i,Nt(On(n,1,vn,!0),i,t)});function wh(n){return n&&n.length?Nt(n):[]}function xh(n,t){return n&&n.length?Nt(n,P(t,2)):[]}function mh(n,t){return t=typeof t=="function"?t:i,n&&n.length?Nt(n,i,t):[]}function Yi(n){if(!(n&&n.length))return[];var t=0;return n=Ft(n,function(e){if(vn(e))return t=In(e.length,t),!0}),hi(t,function(e){return pn(n,ai(e))})}function xo(n,t){if(!(n&&n.length))return[];var e=Yi(n);return t==null?e:pn(e,function(r){return zn(t,i,r)})}var yh=K(function(n,t){return vn(n)?De(n,t):[]}),Ah=K(function(n){return Pi(Ft(n,vn))}),Sh=K(function(n){var t=ut(n);return vn(t)&&(t=i),Pi(Ft(n,vn),P(t,2))}),Eh=K(function(n){var t=ut(n);return t=typeof t=="function"?t:i,Pi(Ft(n,vn),i,t)}),Ih=K(Yi);function Ch(n,t){return Bu(n||[],t||[],Fe)}function Lh(n,t){return Bu(n||[],t||[],We)}var bh=K(function(n){var t=n.length,e=t>1?n[t-1]:i;return e=typeof e=="function"?(n.pop(),e):i,xo(n,e)});function mo(n){var t=u(n);return t.__chain__=!0,t}function Mh(n,t){return t(n),n}function Or(n,t){return t(n)}var Oh=Ct(function(n){var t=n.length,e=t?n[0]:0,r=this.__wrapped__,s=function(o){return mi(o,n)};return t>1||this.__actions__.length||!(r instanceof X)||!Lt(e)?this.thru(s):(r=r.slice(e,+e+(t?1:0)),r.__actions__.push({func:Or,args:[s],thisArg:i}),new rt(r,this.__chain__).thru(function(o){return t&&!o.length&&o.push(i),o}))});function Rh(){return mo(this)}function Th(){return new rt(this.value(),this.__chain__)}function Ph(){this.__values__===i&&(this.__values__=Fo(this.value()));var n=this.__index__>=this.__values__.length,t=n?i:this.__values__[this.__index__++];return{done:n,value:t}}function Fh(){return this}function Dh(n){for(var t,e=this;e instanceof dr;){var r=ho(e);r.__index__=0,r.__values__=i,t?s.__wrapped__=r:t=r;var s=r;e=e.__wrapped__}return s.__wrapped__=n,t}function Bh(){var n=this.__wrapped__;if(n instanceof X){var t=n;return this.__actions__.length&&(t=new X(this)),t=t.reverse(),t.__actions__.push({func:Or,args:[Vi],thisArg:i}),new rt(t,this.__chain__)}return this.thru(Vi)}function Uh(){return Du(this.__wrapped__,this.__actions__)}var Wh=Ar(function(n,t,e){sn.call(n,e)?++n[e]:Et(n,e,1)});function Nh(n,t,e){var r=G(n)?Vs:Ml;return e&&Dn(n,t,e)&&(t=i),r(n,P(t,3))}function kh(n,t){var e=G(n)?Ft:wu;return e(n,P(t,3))}var $h=Ku(po),Gh=Ku(go);function Zh(n,t){return On(Rr(n,t),1)}function Hh(n,t){return On(Rr(n,t),An)}function zh(n,t,e){return e=e===i?1:Z(e),On(Rr(n,t),e)}function yo(n,t){var e=G(n)?tt:Wt;return e(n,P(t,3))}function Ao(n,t){var e=G(n)?la:vu;return e(n,P(t,3))}var Kh=Ar(function(n,t,e){sn.call(n,e)?n[e].push(t):Et(n,e,[t])});function qh(n,t,e,r){n=kn(n)?n:Se(n),e=e&&!r?Z(e):0;var s=n.length;return e<0&&(e=In(s+e,0)),Br(n)?e<=s&&n.indexOf(t,e)>-1:!!s&&ce(n,t,e)>-1}var Vh=K(function(n,t,e){var r=-1,s=typeof t=="function",o=kn(n)?d(n.length):[];return Wt(n,function(a){o[++r]=s?zn(t,a,e):Be(a,t,e)}),o}),Yh=Ar(function(n,t,e){Et(n,e,t)});function Rr(n,t){var e=G(n)?pn:Eu;return e(n,P(t,3))}function Xh(n,t,e,r){return n==null?[]:(G(t)||(t=t==null?[]:[t]),e=r?i:e,G(e)||(e=e==null?[]:[e]),bu(n,t,e))}var Jh=Ar(function(n,t,e){n[e?0:1].push(t)},function(){return[[],[]]});function Qh(n,t,e){var r=G(n)?oi:Qs,s=arguments.length<3;return r(n,P(t,4),e,s,Wt)}function jh(n,t,e){var r=G(n)?ca:Qs,s=arguments.length<3;return r(n,P(t,4),e,s,vu)}function np(n,t){var e=G(n)?Ft:wu;return e(n,Fr(P(t,3)))}function tp(n){var t=G(n)?pu:ql;return t(n)}function ep(n,t,e){(e?Dn(n,t,e):t===i)?t=1:t=Z(t);var r=G(n)?El:Vl;return r(n,t)}function rp(n){var t=G(n)?Il:Xl;return t(n)}function ip(n){if(n==null)return 0;if(kn(n))return Br(n)?pe(n):n.length;var t=Tn(n);return t==Hn||t==M?n.size:Ci(n).length}function sp(n,t,e){var r=G(n)?fi:Jl;return e&&Dn(n,t,e)&&(t=i),r(n,P(t,3))}var up=K(function(n,t){if(n==null)return[];var e=t.length;return e>1&&Dn(n,t[0],t[1])?t=[]:e>2&&Dn(t[0],t[1],t[2])&&(t=[t[0]]),bu(n,On(t,1),[])}),Tr=ka||function(){return Mn.Date.now()};function op(n,t){if(typeof t!="function")throw new et(S);return n=Z(n),function(){if(--n<1)return t.apply(this,arguments)}}function So(n,t,e){return t=e?i:t,t=n&&t==null?n.length:t,It(n,un,i,i,i,i,t)}function Eo(n,t){var e;if(typeof t!="function")throw new et(S);return n=Z(n),function(){return--n>0&&(e=t.apply(this,arguments)),n<=1&&(t=i),e}}var Xi=K(function(n,t,e){var r=H;if(e.length){var s=Bt(e,ye(Xi));r|=Cn}return It(n,r,t,e,s)}),Io=K(function(n,t,e){var r=H|Y;if(e.length){var s=Bt(e,ye(Io));r|=Cn}return It(t,r,n,e,s)});function Co(n,t,e){t=e?i:t;var r=It(n,ln,i,i,i,i,i,t);return r.placeholder=Co.placeholder,r}function Lo(n,t,e){t=e?i:t;var r=It(n,Pn,i,i,i,i,i,t);return r.placeholder=Lo.placeholder,r}function bo(n,t,e){var r,s,o,a,l,h,v=0,w=!1,y=!1,I=!0;if(typeof n!="function")throw new et(S);t=ot(t)||0,gn(e)&&(w=!!e.leading,y="maxWait"in e,o=y?In(ot(e.maxWait)||0,t):o,I="trailing"in e?!!e.trailing:I);function O(wn){var _t=r,Ot=s;return r=s=i,v=wn,a=n.apply(Ot,_t),a}function F(wn){return v=wn,l=$e(q,t),w?O(wn):a}function z(wn){var _t=wn-h,Ot=wn-v,qo=t-_t;return y?Rn(qo,o-Ot):qo}function D(wn){var _t=wn-h,Ot=wn-v;return h===i||_t>=t||_t<0||y&&Ot>=o}function q(){var wn=Tr();if(D(wn))return Q(wn);l=$e(q,z(wn))}function Q(wn){return l=i,I&&r?O(wn):(r=s=i,a)}function Yn(){l!==i&&Uu(l),v=0,r=h=s=l=i}function Bn(){return l===i?a:Q(Tr())}function Xn(){var wn=Tr(),_t=D(wn);if(r=arguments,s=this,h=wn,_t){if(l===i)return F(h);if(y)return Uu(l),l=$e(q,t),O(h)}return l===i&&(l=$e(q,t)),a}return Xn.cancel=Yn,Xn.flush=Bn,Xn}var fp=K(function(n,t){return _u(n,1,t)}),ap=K(function(n,t,e){return _u(n,ot(t)||0,e)});function lp(n){return It(n,vt)}function Pr(n,t){if(typeof n!="function"||t!=null&&typeof t!="function")throw new et(S);var e=function(){var r=arguments,s=t?t.apply(this,r):r[0],o=e.cache;if(o.has(s))return o.get(s);var a=n.apply(this,r);return e.cache=o.set(s,a)||o,a};return e.cache=new(Pr.Cache||St),e}Pr.Cache=St;function Fr(n){if(typeof n!="function")throw new et(S);return function(){var t=arguments;switch(t.length){case 0:return!n.call(this);case 1:return!n.call(this,t[0]);case 2:return!n.call(this,t[0],t[1]);case 3:return!n.call(this,t[0],t[1],t[2])}return!n.apply(this,t)}}function cp(n){return Eo(2,n)}var hp=Ql(function(n,t){t=t.length==1&&G(t[0])?pn(t[0],Kn(P())):pn(On(t,1),Kn(P()));var e=t.length;return K(function(r){for(var s=-1,o=Rn(r.length,e);++s<o;)r[s]=t[s].call(this,r[s]);return zn(n,this,r)})}),Ji=K(function(n,t){var e=Bt(t,ye(Ji));return It(n,Cn,i,t,e)}),Mo=K(function(n,t){var e=Bt(t,ye(Mo));return It(n,Un,i,t,e)}),pp=Ct(function(n,t){return It(n,Zn,i,i,i,t)});function gp(n,t){if(typeof n!="function")throw new et(S);return t=t===i?t:Z(t),K(n,t)}function dp(n,t){if(typeof n!="function")throw new et(S);return t=t==null?0:In(Z(t),0),K(function(e){var r=e[t],s=$t(e,0,t);return r&&Dt(s,r),zn(n,this,s)})}function _p(n,t,e){var r=!0,s=!0;if(typeof n!="function")throw new et(S);return gn(e)&&(r="leading"in e?!!e.leading:r,s="trailing"in e?!!e.trailing:s),bo(n,t,{leading:r,maxWait:t,trailing:s})}function vp(n){return So(n,1)}function wp(n,t){return Ji(Di(t),n)}function xp(){if(!arguments.length)return[];var n=arguments[0];return G(n)?n:[n]}function mp(n){return it(n,$)}function yp(n,t){return t=typeof t=="function"?t:i,it(n,$,t)}function Ap(n){return it(n,C|$)}function Sp(n,t){return t=typeof t=="function"?t:i,it(n,C|$,t)}function Ep(n,t){return t==null||du(n,t,Ln(t))}function dt(n,t){return n===t||n!==n&&t!==t}var Ip=Cr(Si),Cp=Cr(function(n,t){return n>=t}),re=yu(function(){return arguments}())?yu:function(n){return dn(n)&&sn.call(n,"callee")&&!ou.call(n,"callee")},G=d.isArray,Lp=Gs?Kn(Gs):Dl;function kn(n){return n!=null&&Dr(n.length)&&!bt(n)}function vn(n){return dn(n)&&kn(n)}function bp(n){return n===!0||n===!1||dn(n)&&Fn(n)==yt}var Gt=Ga||fs,Mp=Zs?Kn(Zs):Bl;function Op(n){return dn(n)&&n.nodeType===1&&!Ge(n)}function Rp(n){if(n==null)return!0;if(kn(n)&&(G(n)||typeof n=="string"||typeof n.splice=="function"||Gt(n)||Ae(n)||re(n)))return!n.length;var t=Tn(n);if(t==Hn||t==M)return!n.size;if(ke(n))return!Ci(n).length;for(var e in n)if(sn.call(n,e))return!1;return!0}function Tp(n,t){return Ue(n,t)}function Pp(n,t,e){e=typeof e=="function"?e:i;var r=e?e(n,t):i;return r===i?Ue(n,t,i,e):!!r}function Qi(n){if(!dn(n))return!1;var t=Fn(n);return t==oe||t==Ve||typeof n.message=="string"&&typeof n.name=="string"&&!Ge(n)}function Fp(n){return typeof n=="number"&&au(n)}function bt(n){if(!gn(n))return!1;var t=Fn(n);return t==fe||t==Ye||t==Hr||t==Kr}function Oo(n){return typeof n=="number"&&n==Z(n)}function Dr(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=Sn}function gn(n){var t=typeof n;return n!=null&&(t=="object"||t=="function")}function dn(n){return n!=null&&typeof n=="object"}var Ro=Hs?Kn(Hs):Wl;function Dp(n,t){return n===t||Ii(n,t,Gi(t))}function Bp(n,t,e){return e=typeof e=="function"?e:i,Ii(n,t,Gi(t),e)}function Up(n){return To(n)&&n!=+n}function Wp(n){if(yc(n))throw new N(m);return Au(n)}function Np(n){return n===null}function kp(n){return n==null}function To(n){return typeof n=="number"||dn(n)&&Fn(n)==Vt}function Ge(n){if(!dn(n)||Fn(n)!=lt)return!1;var t=fr(n);if(t===null)return!0;var e=sn.call(t,"constructor")&&t.constructor;return typeof e=="function"&&e instanceof e&&ir.call(e)==Ba}var ji=zs?Kn(zs):Nl;function $p(n){return Oo(n)&&n>=-Sn&&n<=Sn}var Po=Ks?Kn(Ks):kl;function Br(n){return typeof n=="string"||!G(n)&&dn(n)&&Fn(n)==R}function Vn(n){return typeof n=="symbol"||dn(n)&&Fn(n)==nn}var Ae=qs?Kn(qs):$l;function Gp(n){return n===i}function Zp(n){return dn(n)&&Tn(n)==on}function Hp(n){return dn(n)&&Fn(n)==bn}var zp=Cr(Li),Kp=Cr(function(n,t){return n<=t});function Fo(n){if(!n)return[];if(kn(n))return Br(n)?pt(n):Nn(n);if(Me&&n[Me])return Ea(n[Me]());var t=Tn(n),e=t==Hn?gi:t==M?tr:Se;return e(n)}function Mt(n){if(!n)return n===0?n:0;if(n=ot(n),n===An||n===-An){var t=n<0?-1:1;return t*Kt}return n===n?n:0}function Z(n){var t=Mt(n),e=t%1;return t===t?e?t-e:t:0}function Do(n){return n?jt(Z(n),0,mn):0}function ot(n){if(typeof n=="number")return n;if(Vn(n))return xn;if(gn(n)){var t=typeof n.valueOf=="function"?n.valueOf():n;n=gn(t)?t+"":t}if(typeof n!="string")return n===0?n:+n;n=js(n);var e=Lf.test(n);return e||Mf.test(n)?oa(n.slice(2),e?2:8):Cf.test(n)?xn:+n}function Bo(n){return xt(n,$n(n))}function qp(n){return n?jt(Z(n),-Sn,Sn):n===0?n:0}function en(n){return n==null?"":qn(n)}var Vp=xe(function(n,t){if(ke(t)||kn(t)){xt(t,Ln(t),n);return}for(var e in t)sn.call(t,e)&&Fe(n,e,t[e])}),Uo=xe(function(n,t){xt(t,$n(t),n)}),Ur=xe(function(n,t,e,r){xt(t,$n(t),n,r)}),Yp=xe(function(n,t,e,r){xt(t,Ln(t),n,r)}),Xp=Ct(mi);function Jp(n,t){var e=we(n);return t==null?e:gu(e,t)}var Qp=K(function(n,t){n=fn(n);var e=-1,r=t.length,s=r>2?t[2]:i;for(s&&Dn(t[0],t[1],s)&&(r=1);++e<r;)for(var o=t[e],a=$n(o),l=-1,h=a.length;++l<h;){var v=a[l],w=n[v];(w===i||dt(w,de[v])&&!sn.call(n,v))&&(n[v]=o[v])}return n}),jp=K(function(n){return n.push(i,ju),zn(Wo,i,n)});function ng(n,t){return Ys(n,P(t,3),wt)}function tg(n,t){return Ys(n,P(t,3),Ai)}function eg(n,t){return n==null?n:yi(n,P(t,3),$n)}function rg(n,t){return n==null?n:xu(n,P(t,3),$n)}function ig(n,t){return n&&wt(n,P(t,3))}function sg(n,t){return n&&Ai(n,P(t,3))}function ug(n){return n==null?[]:wr(n,Ln(n))}function og(n){return n==null?[]:wr(n,$n(n))}function ns(n,t,e){var r=n==null?i:ne(n,t);return r===i?e:r}function fg(n,t){return n!=null&&eo(n,t,Rl)}function ts(n,t){return n!=null&&eo(n,t,Tl)}var ag=Vu(function(n,t,e){t!=null&&typeof t.toString!="function"&&(t=sr.call(t)),n[t]=e},rs(Gn)),lg=Vu(function(n,t,e){t!=null&&typeof t.toString!="function"&&(t=sr.call(t)),sn.call(n,t)?n[t].push(e):n[t]=[e]},P),cg=K(Be);function Ln(n){return kn(n)?hu(n):Ci(n)}function $n(n){return kn(n)?hu(n,!0):Gl(n)}function hg(n,t){var e={};return t=P(t,3),wt(n,function(r,s,o){Et(e,t(r,s,o),r)}),e}function pg(n,t){var e={};return t=P(t,3),wt(n,function(r,s,o){Et(e,s,t(r,s,o))}),e}var gg=xe(function(n,t,e){xr(n,t,e)}),Wo=xe(function(n,t,e,r){xr(n,t,e,r)}),dg=Ct(function(n,t){var e={};if(n==null)return e;var r=!1;t=pn(t,function(o){return o=kt(o,n),r||(r=o.length>1),o}),xt(n,ki(n),e),r&&(e=it(e,C|k|$,ac));for(var s=t.length;s--;)Ti(e,t[s]);return e});function _g(n,t){return No(n,Fr(P(t)))}var vg=Ct(function(n,t){return n==null?{}:Hl(n,t)});function No(n,t){if(n==null)return{};var e=pn(ki(n),function(r){return[r]});return t=P(t),Mu(n,e,function(r,s){return t(r,s[0])})}function wg(n,t,e){t=kt(t,n);var r=-1,s=t.length;for(s||(s=1,n=i);++r<s;){var o=n==null?i:n[mt(t[r])];o===i&&(r=s,o=e),n=bt(o)?o.call(n):o}return n}function xg(n,t,e){return n==null?n:We(n,t,e)}function mg(n,t,e,r){return r=typeof r=="function"?r:i,n==null?n:We(n,t,e,r)}var ko=Ju(Ln),$o=Ju($n);function yg(n,t,e){var r=G(n),s=r||Gt(n)||Ae(n);if(t=P(t,4),e==null){var o=n&&n.constructor;s?e=r?new o:[]:gn(n)?e=bt(o)?we(fr(n)):{}:e={}}return(s?tt:wt)(n,function(a,l,h){return t(e,a,l,h)}),e}function Ag(n,t){return n==null?!0:Ti(n,t)}function Sg(n,t,e){return n==null?n:Fu(n,t,Di(e))}function Eg(n,t,e,r){return r=typeof r=="function"?r:i,n==null?n:Fu(n,t,Di(e),r)}function Se(n){return n==null?[]:pi(n,Ln(n))}function Ig(n){return n==null?[]:pi(n,$n(n))}function Cg(n,t,e){return e===i&&(e=t,t=i),e!==i&&(e=ot(e),e=e===e?e:0),t!==i&&(t=ot(t),t=t===t?t:0),jt(ot(n),t,e)}function Lg(n,t,e){return t=Mt(t),e===i?(e=t,t=0):e=Mt(e),n=ot(n),Pl(n,t,e)}function bg(n,t,e){if(e&&typeof e!="boolean"&&Dn(n,t,e)&&(t=e=i),e===i&&(typeof t=="boolean"?(e=t,t=i):typeof n=="boolean"&&(e=n,n=i)),n===i&&t===i?(n=0,t=1):(n=Mt(n),t===i?(t=n,n=0):t=Mt(t)),n>t){var r=n;n=t,t=r}if(e||n%1||t%1){var s=lu();return Rn(n+s*(t-n+ua("1e-"+((s+"").length-1))),t)}return Mi(n,t)}var Mg=me(function(n,t,e){return t=t.toLowerCase(),n+(e?Go(t):t)});function Go(n){return es(en(n).toLowerCase())}function Zo(n){return n=en(n),n&&n.replace(Rf,xa).replace(Xf,"")}function Og(n,t,e){n=en(n),t=qn(t);var r=n.length;e=e===i?r:jt(Z(e),0,r);var s=e;return e-=t.length,e>=0&&n.slice(e,s)==t}function Rg(n){return n=en(n),n&&cf.test(n)?n.replace(xs,ma):n}function Tg(n){return n=en(n),n&&vf.test(n)?n.replace(Jr,"\\$&"):n}var Pg=me(function(n,t,e){return n+(e?"-":"")+t.toLowerCase()}),Fg=me(function(n,t,e){return n+(e?" ":"")+t.toLowerCase()}),Dg=zu("toLowerCase");function Bg(n,t,e){n=en(n),t=Z(t);var r=t?pe(n):0;if(!t||r>=t)return n;var s=(t-r)/2;return Ir(hr(s),e)+n+Ir(cr(s),e)}function Ug(n,t,e){n=en(n),t=Z(t);var r=t?pe(n):0;return t&&r<t?n+Ir(t-r,e):n}function Wg(n,t,e){n=en(n),t=Z(t);var r=t?pe(n):0;return t&&r<t?Ir(t-r,e)+n:n}function Ng(n,t,e){return e||t==null?t=0:t&&(t=+t),Ka(en(n).replace(Qr,""),t||0)}function kg(n,t,e){return(e?Dn(n,t,e):t===i)?t=1:t=Z(t),Oi(en(n),t)}function $g(){var n=arguments,t=en(n[0]);return n.length<3?t:t.replace(n[1],n[2])}var Gg=me(function(n,t,e){return n+(e?"_":"")+t.toLowerCase()});function Zg(n,t,e){return e&&typeof e!="number"&&Dn(n,t,e)&&(t=e=i),e=e===i?mn:e>>>0,e?(n=en(n),n&&(typeof t=="string"||t!=null&&!ji(t))&&(t=qn(t),!t&&he(n))?$t(pt(n),0,e):n.split(t,e)):[]}var Hg=me(function(n,t,e){return n+(e?" ":"")+es(t)});function zg(n,t,e){return n=en(n),e=e==null?0:jt(Z(e),0,n.length),t=qn(t),n.slice(e,e+t.length)==t}function Kg(n,t,e){var r=u.templateSettings;e&&Dn(n,t,e)&&(t=i),n=en(n),t=Ur({},t,r,Qu);var s=Ur({},t.imports,r.imports,Qu),o=Ln(s),a=pi(s,o),l,h,v=0,w=t.interpolate||Xe,y="__p += '",I=di((t.escape||Xe).source+"|"+w.source+"|"+(w===ms?If:Xe).source+"|"+(t.evaluate||Xe).source+"|$","g"),O="//# sourceURL="+(sn.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ta+"]")+`
`;n.replace(I,function(D,q,Q,Yn,Bn,Xn){return Q||(Q=Yn),y+=n.slice(v,Xn).replace(Tf,ya),q&&(l=!0,y+=`' +
__e(`+q+`) +
'`),Bn&&(h=!0,y+=`';
`+Bn+`;
__p += '`),Q&&(y+=`' +
((__t = (`+Q+`)) == null ? '' : __t) +
'`),v=Xn+D.length,D}),y+=`';
`;var F=sn.call(t,"variable")&&t.variable;if(!F)y=`with (obj) {
`+y+`
}
`;else if(Sf.test(F))throw new N(b);y=(h?y.replace(of,""):y).replace(ff,"$1").replace(af,"$1;"),y="function("+(F||"obj")+`) {
`+(F?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(l?", __e = _.escape":"")+(h?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+y+`return __p
}`;var z=zo(function(){return tn(o,O+"return "+y).apply(i,a)});if(z.source=y,Qi(z))throw z;return z}function qg(n){return en(n).toLowerCase()}function Vg(n){return en(n).toUpperCase()}function Yg(n,t,e){if(n=en(n),n&&(e||t===i))return js(n);if(!n||!(t=qn(t)))return n;var r=pt(n),s=pt(t),o=nu(r,s),a=tu(r,s)+1;return $t(r,o,a).join("")}function Xg(n,t,e){if(n=en(n),n&&(e||t===i))return n.slice(0,ru(n)+1);if(!n||!(t=qn(t)))return n;var r=pt(n),s=tu(r,pt(t))+1;return $t(r,0,s).join("")}function Jg(n,t,e){if(n=en(n),n&&(e||t===i))return n.replace(Qr,"");if(!n||!(t=qn(t)))return n;var r=pt(n),s=nu(r,pt(t));return $t(r,s).join("")}function Qg(n,t){var e=se,r=cn;if(gn(t)){var s="separator"in t?t.separator:s;e="length"in t?Z(t.length):e,r="omission"in t?qn(t.omission):r}n=en(n);var o=n.length;if(he(n)){var a=pt(n);o=a.length}if(e>=o)return n;var l=e-pe(r);if(l<1)return r;var h=a?$t(a,0,l).join(""):n.slice(0,l);if(s===i)return h+r;if(a&&(l+=h.length-l),ji(s)){if(n.slice(l).search(s)){var v,w=h;for(s.global||(s=di(s.source,en(ys.exec(s))+"g")),s.lastIndex=0;v=s.exec(w);)var y=v.index;h=h.slice(0,y===i?l:y)}}else if(n.indexOf(qn(s),l)!=l){var I=h.lastIndexOf(s);I>-1&&(h=h.slice(0,I))}return h+r}function jg(n){return n=en(n),n&&lf.test(n)?n.replace(ws,ba):n}var nd=me(function(n,t,e){return n+(e?" ":"")+t.toUpperCase()}),es=zu("toUpperCase");function Ho(n,t,e){return n=en(n),t=e?i:t,t===i?Sa(n)?Ra(n):ga(n):n.match(t)||[]}var zo=K(function(n,t){try{return zn(n,i,t)}catch(e){return Qi(e)?e:new N(e)}}),td=Ct(function(n,t){return tt(t,function(e){e=mt(e),Et(n,e,Xi(n[e],n))}),n});function ed(n){var t=n==null?0:n.length,e=P();return n=t?pn(n,function(r){if(typeof r[1]!="function")throw new et(S);return[e(r[0]),r[1]]}):[],K(function(r){for(var s=-1;++s<t;){var o=n[s];if(zn(o[0],this,r))return zn(o[1],this,r)}})}function rd(n){return bl(it(n,C))}function rs(n){return function(){return n}}function id(n,t){return n==null||n!==n?t:n}var sd=qu(),ud=qu(!0);function Gn(n){return n}function is(n){return Su(typeof n=="function"?n:it(n,C))}function od(n){return Iu(it(n,C))}function fd(n,t){return Cu(n,it(t,C))}var ad=K(function(n,t){return function(e){return Be(e,n,t)}}),ld=K(function(n,t){return function(e){return Be(n,e,t)}});function ss(n,t,e){var r=Ln(t),s=wr(t,r);e==null&&!(gn(t)&&(s.length||!r.length))&&(e=t,t=n,n=this,s=wr(t,Ln(t)));var o=!(gn(e)&&"chain"in e)||!!e.chain,a=bt(n);return tt(s,function(l){var h=t[l];n[l]=h,a&&(n.prototype[l]=function(){var v=this.__chain__;if(o||v){var w=n(this.__wrapped__),y=w.__actions__=Nn(this.__actions__);return y.push({func:h,args:arguments,thisArg:n}),w.__chain__=v,w}return h.apply(n,Dt([this.value()],arguments))})}),n}function cd(){return Mn._===this&&(Mn._=Ua),this}function us(){}function hd(n){return n=Z(n),K(function(t){return Lu(t,n)})}var pd=Ui(pn),gd=Ui(Vs),dd=Ui(fi);function Ko(n){return Hi(n)?ai(mt(n)):zl(n)}function _d(n){return function(t){return n==null?i:ne(n,t)}}var vd=Yu(),wd=Yu(!0);function os(){return[]}function fs(){return!1}function xd(){return{}}function md(){return""}function yd(){return!0}function Ad(n,t){if(n=Z(n),n<1||n>Sn)return[];var e=mn,r=Rn(n,mn);t=P(t),n-=mn;for(var s=hi(r,t);++e<n;)t(e);return s}function Sd(n){return G(n)?pn(n,mt):Vn(n)?[n]:Nn(co(en(n)))}function Ed(n){var t=++Da;return en(n)+t}var Id=Er(function(n,t){return n+t},0),Cd=Wi("ceil"),Ld=Er(function(n,t){return n/t},1),bd=Wi("floor");function Md(n){return n&&n.length?vr(n,Gn,Si):i}function Od(n,t){return n&&n.length?vr(n,P(t,2),Si):i}function Rd(n){return Js(n,Gn)}function Td(n,t){return Js(n,P(t,2))}function Pd(n){return n&&n.length?vr(n,Gn,Li):i}function Fd(n,t){return n&&n.length?vr(n,P(t,2),Li):i}var Dd=Er(function(n,t){return n*t},1),Bd=Wi("round"),Ud=Er(function(n,t){return n-t},0);function Wd(n){return n&&n.length?ci(n,Gn):0}function Nd(n,t){return n&&n.length?ci(n,P(t,2)):0}return u.after=op,u.ary=So,u.assign=Vp,u.assignIn=Uo,u.assignInWith=Ur,u.assignWith=Yp,u.at=Xp,u.before=Eo,u.bind=Xi,u.bindAll=td,u.bindKey=Io,u.castArray=xp,u.chain=mo,u.chunk=bc,u.compact=Mc,u.concat=Oc,u.cond=ed,u.conforms=rd,u.constant=rs,u.countBy=Wh,u.create=Jp,u.curry=Co,u.curryRight=Lo,u.debounce=bo,u.defaults=Qp,u.defaultsDeep=jp,u.defer=fp,u.delay=ap,u.difference=Rc,u.differenceBy=Tc,u.differenceWith=Pc,u.drop=Fc,u.dropRight=Dc,u.dropRightWhile=Bc,u.dropWhile=Uc,u.fill=Wc,u.filter=kh,u.flatMap=Zh,u.flatMapDeep=Hh,u.flatMapDepth=zh,u.flatten=_o,u.flattenDeep=Nc,u.flattenDepth=kc,u.flip=lp,u.flow=sd,u.flowRight=ud,u.fromPairs=$c,u.functions=ug,u.functionsIn=og,u.groupBy=Kh,u.initial=Zc,u.intersection=Hc,u.intersectionBy=zc,u.intersectionWith=Kc,u.invert=ag,u.invertBy=lg,u.invokeMap=Vh,u.iteratee=is,u.keyBy=Yh,u.keys=Ln,u.keysIn=$n,u.map=Rr,u.mapKeys=hg,u.mapValues=pg,u.matches=od,u.matchesProperty=fd,u.memoize=Pr,u.merge=gg,u.mergeWith=Wo,u.method=ad,u.methodOf=ld,u.mixin=ss,u.negate=Fr,u.nthArg=hd,u.omit=dg,u.omitBy=_g,u.once=cp,u.orderBy=Xh,u.over=pd,u.overArgs=hp,u.overEvery=gd,u.overSome=dd,u.partial=Ji,u.partialRight=Mo,u.partition=Jh,u.pick=vg,u.pickBy=No,u.property=Ko,u.propertyOf=_d,u.pull=Xc,u.pullAll=wo,u.pullAllBy=Jc,u.pullAllWith=Qc,u.pullAt=jc,u.range=vd,u.rangeRight=wd,u.rearg=pp,u.reject=np,u.remove=nh,u.rest=gp,u.reverse=Vi,u.sampleSize=ep,u.set=xg,u.setWith=mg,u.shuffle=rp,u.slice=th,u.sortBy=up,u.sortedUniq=fh,u.sortedUniqBy=ah,u.split=Zg,u.spread=dp,u.tail=lh,u.take=ch,u.takeRight=hh,u.takeRightWhile=ph,u.takeWhile=gh,u.tap=Mh,u.throttle=_p,u.thru=Or,u.toArray=Fo,u.toPairs=ko,u.toPairsIn=$o,u.toPath=Sd,u.toPlainObject=Bo,u.transform=yg,u.unary=vp,u.union=dh,u.unionBy=_h,u.unionWith=vh,u.uniq=wh,u.uniqBy=xh,u.uniqWith=mh,u.unset=Ag,u.unzip=Yi,u.unzipWith=xo,u.update=Sg,u.updateWith=Eg,u.values=Se,u.valuesIn=Ig,u.without=yh,u.words=Ho,u.wrap=wp,u.xor=Ah,u.xorBy=Sh,u.xorWith=Eh,u.zip=Ih,u.zipObject=Ch,u.zipObjectDeep=Lh,u.zipWith=bh,u.entries=ko,u.entriesIn=$o,u.extend=Uo,u.extendWith=Ur,ss(u,u),u.add=Id,u.attempt=zo,u.camelCase=Mg,u.capitalize=Go,u.ceil=Cd,u.clamp=Cg,u.clone=mp,u.cloneDeep=Ap,u.cloneDeepWith=Sp,u.cloneWith=yp,u.conformsTo=Ep,u.deburr=Zo,u.defaultTo=id,u.divide=Ld,u.endsWith=Og,u.eq=dt,u.escape=Rg,u.escapeRegExp=Tg,u.every=Nh,u.find=$h,u.findIndex=po,u.findKey=ng,u.findLast=Gh,u.findLastIndex=go,u.findLastKey=tg,u.floor=bd,u.forEach=yo,u.forEachRight=Ao,u.forIn=eg,u.forInRight=rg,u.forOwn=ig,u.forOwnRight=sg,u.get=ns,u.gt=Ip,u.gte=Cp,u.has=fg,u.hasIn=ts,u.head=vo,u.identity=Gn,u.includes=qh,u.indexOf=Gc,u.inRange=Lg,u.invoke=cg,u.isArguments=re,u.isArray=G,u.isArrayBuffer=Lp,u.isArrayLike=kn,u.isArrayLikeObject=vn,u.isBoolean=bp,u.isBuffer=Gt,u.isDate=Mp,u.isElement=Op,u.isEmpty=Rp,u.isEqual=Tp,u.isEqualWith=Pp,u.isError=Qi,u.isFinite=Fp,u.isFunction=bt,u.isInteger=Oo,u.isLength=Dr,u.isMap=Ro,u.isMatch=Dp,u.isMatchWith=Bp,u.isNaN=Up,u.isNative=Wp,u.isNil=kp,u.isNull=Np,u.isNumber=To,u.isObject=gn,u.isObjectLike=dn,u.isPlainObject=Ge,u.isRegExp=ji,u.isSafeInteger=$p,u.isSet=Po,u.isString=Br,u.isSymbol=Vn,u.isTypedArray=Ae,u.isUndefined=Gp,u.isWeakMap=Zp,u.isWeakSet=Hp,u.join=qc,u.kebabCase=Pg,u.last=ut,u.lastIndexOf=Vc,u.lowerCase=Fg,u.lowerFirst=Dg,u.lt=zp,u.lte=Kp,u.max=Md,u.maxBy=Od,u.mean=Rd,u.meanBy=Td,u.min=Pd,u.minBy=Fd,u.stubArray=os,u.stubFalse=fs,u.stubObject=xd,u.stubString=md,u.stubTrue=yd,u.multiply=Dd,u.nth=Yc,u.noConflict=cd,u.noop=us,u.now=Tr,u.pad=Bg,u.padEnd=Ug,u.padStart=Wg,u.parseInt=Ng,u.random=bg,u.reduce=Qh,u.reduceRight=jh,u.repeat=kg,u.replace=$g,u.result=wg,u.round=Bd,u.runInContext=c,u.sample=tp,u.size=ip,u.snakeCase=Gg,u.some=sp,u.sortedIndex=eh,u.sortedIndexBy=rh,u.sortedIndexOf=ih,u.sortedLastIndex=sh,u.sortedLastIndexBy=uh,u.sortedLastIndexOf=oh,u.startCase=Hg,u.startsWith=zg,u.subtract=Ud,u.sum=Wd,u.sumBy=Nd,u.template=Kg,u.times=Ad,u.toFinite=Mt,u.toInteger=Z,u.toLength=Do,u.toLower=qg,u.toNumber=ot,u.toSafeInteger=qp,u.toString=en,u.toUpper=Vg,u.trim=Yg,u.trimEnd=Xg,u.trimStart=Jg,u.truncate=Qg,u.unescape=jg,u.uniqueId=Ed,u.upperCase=nd,u.upperFirst=es,u.each=yo,u.eachRight=Ao,u.first=vo,ss(u,function(){var n={};return wt(u,function(t,e){sn.call(u.prototype,e)||(n[e]=t)}),n}(),{chain:!1}),u.VERSION=p,tt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){u[n].placeholder=u}),tt(["drop","take"],function(n,t){X.prototype[n]=function(e){e=e===i?1:In(Z(e),0);var r=this.__filtered__&&!t?new X(this):this.clone();return r.__filtered__?r.__takeCount__=Rn(e,r.__takeCount__):r.__views__.push({size:Rn(e,mn),type:n+(r.__dir__<0?"Right":"")}),r},X.prototype[n+"Right"]=function(e){return this.reverse()[n](e).reverse()}}),tt(["filter","map","takeWhile"],function(n,t){var e=t+1,r=e==at||e==U;X.prototype[n]=function(s){var o=this.clone();return o.__iteratees__.push({iteratee:P(s,3),type:e}),o.__filtered__=o.__filtered__||r,o}}),tt(["head","last"],function(n,t){var e="take"+(t?"Right":"");X.prototype[n]=function(){return this[e](1).value()[0]}}),tt(["initial","tail"],function(n,t){var e="drop"+(t?"":"Right");X.prototype[n]=function(){return this.__filtered__?new X(this):this[e](1)}}),X.prototype.compact=function(){return this.filter(Gn)},X.prototype.find=function(n){return this.filter(n).head()},X.prototype.findLast=function(n){return this.reverse().find(n)},X.prototype.invokeMap=K(function(n,t){return typeof n=="function"?new X(this):this.map(function(e){return Be(e,n,t)})}),X.prototype.reject=function(n){return this.filter(Fr(P(n)))},X.prototype.slice=function(n,t){n=Z(n);var e=this;return e.__filtered__&&(n>0||t<0)?new X(e):(n<0?e=e.takeRight(-n):n&&(e=e.drop(n)),t!==i&&(t=Z(t),e=t<0?e.dropRight(-t):e.take(t-n)),e)},X.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},X.prototype.toArray=function(){return this.take(mn)},wt(X.prototype,function(n,t){var e=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),s=u[r?"take"+(t=="last"?"Right":""):t],o=r||/^find/.test(t);s&&(u.prototype[t]=function(){var a=this.__wrapped__,l=r?[1]:arguments,h=a instanceof X,v=l[0],w=h||G(a),y=function(q){var Q=s.apply(u,Dt([q],l));return r&&I?Q[0]:Q};w&&e&&typeof v=="function"&&v.length!=1&&(h=w=!1);var I=this.__chain__,O=!!this.__actions__.length,F=o&&!I,z=h&&!O;if(!o&&w){a=z?a:new X(this);var D=n.apply(a,l);return D.__actions__.push({func:Or,args:[y],thisArg:i}),new rt(D,I)}return F&&z?n.apply(this,l):(D=this.thru(y),F?r?D.value()[0]:D.value():D)})}),tt(["pop","push","shift","sort","splice","unshift"],function(n){var t=er[n],e=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",r=/^(?:pop|shift)$/.test(n);u.prototype[n]=function(){var s=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply(G(o)?o:[],s)}return this[e](function(a){return t.apply(G(a)?a:[],s)})}}),wt(X.prototype,function(n,t){var e=u[t];if(e){var r=e.name+"";sn.call(ve,r)||(ve[r]=[]),ve[r].push({name:t,func:e})}}),ve[Sr(i,Y).name]=[{name:"wrapper",func:i}],X.prototype.clone=ja,X.prototype.reverse=nl,X.prototype.value=tl,u.prototype.at=Oh,u.prototype.chain=Rh,u.prototype.commit=Th,u.prototype.next=Ph,u.prototype.plant=Dh,u.prototype.reverse=Bh,u.prototype.toJSON=u.prototype.valueOf=u.prototype.value=Uh,u.prototype.first=u.prototype.head,Me&&(u.prototype[Me]=Fh),u},ge=Ta();Yt?((Yt.exports=ge)._=ge,ii._=ge):Mn._=ge}).call(Ze)})(Gr,Gr.exports);Gr.exports;const C0="AIzaSyD8TrUWS9FRTu-MRP339mJF_iWlORvEGUA";function L0({showCard:A,loadingVehicle:f}){const{center:i,selectedParameterList:p,selectedVehicle:g,vehicleList:m,icons:S,locationData:b,placesData:x,imeiNumbers:B,onlineVehicle:T,loading:C,services_loading:k}=zt(E=>E.liveMap),{mode:$,styles:J,vehicles_details:V}=zt(E=>E.dashboard),{collapsed:H}=zt(E=>E.auth),[Y,yn]=j.useState(null),[ln,Pn]=j.useState(""),[Cn,Un]=j.useState([]),[un,Zn]=j.useState([]),[vt,se]=j.useState(),[cn,_n]=j.useState(),[Qn,at]=j.useState(null);j.useState("");const[Rt,U]=j.useState(),[An,Sn]=j.useState(!1),Kt=ef(),xn=j.useRef([]),mn=j.useRef(null),Tt=j.useRef({}),{isLoaded:Ee,loadError:Zr}=e0({googleMapsApiKey:`${C0}`,loadingElement:W.jsx(Qd,{})});j.useEffect(()=>{Ee&&yn(window.google.maps)},[Ee]),j.useEffect(()=>{if(Object.keys(g).length>0){const E=b==null?void 0:b.filter(M=>{var R;return((R=M==null?void 0:M.latestDocument)==null?void 0:R.imei)==(g==null?void 0:g.imei)});se(E)}else se(b)},[b,g]),j.useEffect(()=>{_n(p)},[p]),j.useEffect(()=>{Kt($d({})),Sn(!0)},[g]),j.useEffect(()=>{if((b==null?void 0:b.length)>0&&T.length>0){const E=[],M=[];b==null||b.forEach(R=>{T.some(rn=>String(rn)===String(R._id))?E.push(R):M.push(R)}),Un(E),Zn(M)}else Un([]),Zn([])},[b,T]),j.useEffect(()=>{if(!Y||!vt||!mn.current)return;const E=mn.current;let M=null;const R=Pt(vt,g,Ke,E);return M=oe(R,E),as.on("locationinfo",nn=>{console.log("locationinfo: ",nn),Ye(nn,xn,Tt,g,vt,cn)}),()=>{M&&M.clearMarkers(),Object.keys(Tt.current).forEach(nn=>cancelAnimationFrame(Tt.current[nn])),as.off("locationinfo")}},[Y,vt,g,as,cn]);const Pt=(E,M,R,nn)=>E.map(rn=>{const on=rn.latestDocument.imei,bn=xn.current[on]||ue(rn,M,R,nn);return xn.current[on]&&Hr(rn,bn,M,R),bn}),ue=(E,M,R,nn)=>{const rn=E.latestDocument.imei,on=new Y.Marker({position:{lat:E.latestDocument.lat,lng:E.latestDocument.lng},map:nn,icon:yt(E,M,R)});return on.addListener("click",()=>qt(E,on,nn)),xn.current[rn]=on,on},Hr=(E,M,R,nn)=>{const rn=M.getPosition(),on={lat:E.latestDocument.lat,lng:E.latestDocument.lng};Ve(M,rn,on),M.setIcon(yt(E,R,nn))},yt=(E,M,R)=>{var rn,on;const nn=(rn=E==null?void 0:E.latestDocument)==null?void 0:rn.imei;return Hn(nn),{path:window.google.maps.SymbolPath.FORWARD_CLOSED_ARROW,fillColor:(M==null?void 0:M.imei)===nn?"green":R.bgColor,fillOpacity:2,strokeWeight:1,scale:4.5,rotation:(on=E==null?void 0:E.latestDocument)==null?void 0:on.heading,size:new Y.Size(70,70),scaledSize:new Y.Size(70,70)}},qt=(E,M,R)=>{zr(E.latestDocument._id,E,M,R),lt(E.latestDocument.imei)},Ve=(E,M,R)=>{const rn=performance.now(),on=()=>{const bn=performance.now()-rn,jn=Math.min(bn/500,1),ct=M.lat()+jn*(R.lat-M.lat()),Wn=M.lng()+jn*(R.lng-M.lng());E.setPosition({lat:ct,lng:Wn}),jn<1?Tt.current[E.getPosition()]=requestAnimationFrame(on):(E.setPosition(R),delete Tt.current[E.getPosition()])};Tt.current[E.getPosition()]=requestAnimationFrame(on)},oe=(E,M)=>new I0({map:M,markers:E,renderer:{render:({count:R,position:nn})=>fe(R,nn)}}),fe=(E,M)=>{const R=40+Math.min(E*2,40),nn=30;let rn;return E<10?rn={start:"#76c7c0",end:"#34a853"}:E<50?rn={start:"#fbbc05",end:"#f2994a"}:rn={start:"#f45c42",end:"#d32f2f"},new Y.Marker({position:M,icon:{url:`data:image/svg+xml,${encodeURIComponent(`
          <svg xmlns="http://www.w3.org/2000/svg" width="${R}" height="${R}" viewBox="0 0 100 100">
            <defs>
              <radialGradient id="gradient" cx="50%" cy="50%" r="50%">
                <stop offset="0%" stop-color="${rn.start}" />
                <stop offset="100%" stop-color="${rn.end}" />
              </radialGradient>
              <filter id="shadow" x="-50%" y="-50%" width="200%" height="200%">
                <feDropShadow dx="0" dy="2" stdDeviation="3" flood-color="rgba(0, 0, 0, 0.5)" />
              </filter>
            </defs>
            <!-- Outer Pulsating Ring -->
            <circle cx="50" cy="50" r="48" fill="url(#gradient)" filter="url(#shadow)" stroke="#ffffff" stroke-width="3" />
            <!-- Decorative Inner Ring -->
            <circle cx="50" cy="50" r="38" fill="none" stroke="#ffffff" stroke-width="2" stroke-dasharray="4 2" />
            <!-- Star Decoration -->
            <polygon points="50,15 54,38 70,38 57,50 62,68 50,57 38,68 43,50 30,38 46,38" fill="#ffffff" opacity="0.4" />
            <!-- Count Text -->
            <text x="50" y="55" font-size="${nn}" fill="black" text-anchor="middle" font-family="'Courier New', monospace" font-weight="bold">
              ${E}
            </text>
          </svg>
        `)}`,scaledSize:new Y.Size(R,R)},label:null})},Ye=(E,M,R,nn,rn,on)=>{const bn=E,jn=bn.imei,ct=rn.findIndex(Wn=>Wn.latestDocument.imei===jn);if(ct>-1){const Wn={...rn[ct]};console.log("before updatedVehicle: ",Wn),Wn.latestDocument={...Wn.latestDocument,lat:bn.lat,lng:bn.lng,heading:bn.heading,imei:bn.imei},console.log("after updatedVehicle: ",Wn);const ht=M.current[jn];if(ht){const Ce=ht.getPosition(),Le={lat:bn.lat,lng:bn.lng};Ve(ht,Ce,Le);let ae={};ae.latestDocument=bn,ht.setIcon(yt(ae,nn,Ke))}}if(String(bn.imei)===String(on[0].imei)){const Wn=on[0].params.map(ht=>({...ht,value:bn[ht.label]}));_n([{...on[0],params:Wn}])}},Hn=E=>{if(!E)return console.error("No IMEI found, defaulting to motorBike"),"motorBike";const M=Vt(E);return M||console.error(`No vehicle type found for IMEI: ${E}, defaulting to motorBike`),M||"motorBike"},Vt=E=>{if(!V||V.length===0)return console.error("vehicles_details is not available"),null;const M=V.find(R=>(R==null?void 0:R.value)===E&&(R==null?void 0:R.vehilce_type));return M||console.error(`No vehicle found for IMEI: ${E}`),M?M.vehilce_type:null},zr=(E,M,R,nn)=>{const rn=new Y.InfoWindow,on=`
      <div>
        <h3>Vehicle IMEI: ${M.latestDocument.imei}</h3>
         
      </div>
    `;Qn===E?(rn.close(),at(null)):(rn.setContent(on),rn.open(nn,R),at(E))},lt=E=>{const M=V&&(V==null?void 0:V.length)>0&&V.find(R=>(R==null?void 0:R.value)===E&&R);U(M||null)},Ie=()=>{Object.keys(g).length>0||An?Sn(!An):$r.error("Please select any vehicle")};if(Zr)return"Error loading maps";if(!Ee)return"Loading maps";if(!Y)return null;const Kr={height:A?"85vh":"93vh",width:"100%",transition:"transform 0.5s ease-in-out"};return W.jsxs(W.Fragment,{children:[A&&W.jsx(f0,{activeParams:cn}),W.jsx(ft,{sx:{position:"absolute",top:"780px",left:H?"74px":"250px",zIndex:1,background:Ke.bgColor,padding:"5px",borderRadius:"10px",color:"white"},children:W.jsxs(kr,{sx:{color:"white"},onClick:Ie,children:[An?"Hide":"Show"," Vehicle Info",W.jsx(u0,{})]})}),An===!0&&W.jsx(c0,{handleVehicleInfo:Ie}),W.jsxs(r0,{id:"map",mapContainerStyle:Kr,zoom:Object.keys(g).length>0?15:5.8,center:i,onLoad:E=>{mn.current=E},options:{styles:$?J:""},children:[Object.keys(g).length>0&&W.jsx(jd,{setPlace:Pn,place:ln}),k||f?W.jsx(ft,{sx:{position:"absolute",top:"50%",left:"50%"},children:W.jsx(s0,{})}):x&&x.length>0&&x.map((E,M)=>{var R,nn;return W.jsx(i0,{position:{lat:parseFloat((R=E==null?void 0:E.location)==null?void 0:R.lat),lng:parseFloat((nn=E==null?void 0:E.location)==null?void 0:nn.lng)},animation:window.google.maps.Animation.DROP,icon:{path:S[`${ln}`],fillOpacity:2,strokeWeight:1,scale:1,fillColor:"orange"}},M)})]})]})}function J0(){const{locationData:A,selectedVehicle:f,selectedParameterList:i}=zt(cn=>cn.liveMap),{mode:p,selectedVehicleGroup:g}=zt(cn=>cn.dashboard),m=Jd(p),[S,b]=j.useState([]),{w_customer_id:x}=zt(cn=>cn.auth),[B,T]=j.useState(),[C,k]=j.useState(!1),[$,J]=j.useState(!1),[V,H]=j.useState([]),[Y,yn]=j.useState(!0),[ln,Pn]=j.useState(!1),[Cn,Un]=j.useState(!1);let un=ef();j.useEffect(()=>{un(Gd({}))},[]),j.useEffect(()=>{Zn()},[]),j.useEffect(()=>{var cn;if(Object.keys(f).length>0){const _n=(A==null?void 0:A.length)>0&&(A==null?void 0:A.filter(U=>Number(U.latestDocument.imei)===Number(f==null?void 0:f.imei)));if((_n==null?void 0:_n.length)<=0){$r.error("Data not available for this vehicle",{id:"clipboard"});return}const{lat:Qn,lng:at}=((cn=_n==null?void 0:_n[0])==null?void 0:cn.latestDocument)??{},Rt={lat:Qn||Yo.lat,lng:at||Yo.lat};un(Zd(Rt))}},[f,A]),j.useEffect(()=>{H([]),un(Vo([{reg_id:"",imei:"",params:[]}]))},[f]);const Zn=async()=>{try{Pn(!0);let cn=[],_n=[];const Qn=await un(Hd({w_customer_id:x}));if(Array.isArray(Qn.payload)){Qn.payload.forEach(U=>{var An,Sn,Kt,xn;Array.isArray(U.imei)&&U.imei.length>0&&((An=U.imei[0])!=null&&An.mac_id)?(cn.push({id:U.id,label:U.registration_id,value:(Sn=U.imei[0])==null?void 0:Sn.mac_id,vehilce_type:U==null?void 0:U.segment,chassis_no:U==null?void 0:U.chassis_no,engine_no:U==null?void 0:U.engine_no,workShop:U==null?void 0:U.workshop,registration_id:U==null?void 0:U.registration_id,sell_date:U==null?void 0:U.sell_date,customer_name:U==null?void 0:U.customer_name,vehicle_model:(Kt=U==null?void 0:U.vehicle_model)==null?void 0:Kt.name,vehicle_group:U==null?void 0:U.vehicle_group}),_n.push((xn=U.imei[0])==null?void 0:xn.mac_id)):console.error("IMEI data not found for item:",U)});const at="one",Rt=_n;_n.length>0&&un(zd({type:at,imei:Rt})),b(cn),un(Kd(cn)),un(qd({w_customer_id:x})),Pn(!1)}else Pn(!1),console.error("Unexpected data format:",Qn),$r.error("Unexpected data format:")}catch(cn){console.error("Error fetching vehicle data:",cn),$r.error(`Error fetching vehicle data: ${cn}`)}},vt=async cn=>{const{label:_n,imei:Qn,id:at,reg_id:Rt,checked:U}=cn;T(xn=>xn.map(mn=>mn.id===at?{...mn,checked:!U}:mn));let An=[...V],Sn=[...V];if(!U)A.forEach(xn=>{xn.latestDocument.imei===Qn&&(An.push({label:_n,value:xn.latestDocument[_n==="maininputvoltage"?"mainInputVoltage":_n]}),Sn=An,H(An))});else{let xn=V.filter(mn=>mn.label!==_n);Sn=xn,H(xn)}console.log("tempParamList",Sn),un(Vo([{reg_id:Rt,imei:Qn,params:Sn}]))},se=S.filter(cn=>Object.keys(g).length===0||cn.vehicle_group===g.id);return W.jsxs("div",{className:"app",children:[W.jsx(Xd,{}),W.jsxs("main",{className:"content",style:{width:"100%",background:"#dad6d626"},children:[W.jsx(Vd,{title:"Live Map",setShowVehicles:k,showVehicles:C,showParameters:$,setShowParameters:J,setShowCard:yn,showCard:Y,setShowVehiclesGroup:Un,showVehiclesGroup:Cn}),W.jsx(t0,{setShowVehiclesGroup:Un,showVehiclesGroup:Cn,where:"livemap"}),W.jsxs(ft,{style:{display:"flex",width:"100%",height:"95vh"},children:[W.jsx(ft,{style:{width:C||$?"80%":"100%"},children:W.jsx(L0,{showCard:Y,loadingVehicle:ln})}),C&&W.jsx(ft,{style:{width:"20%",backgroundColor:m.grey[100]},children:W.jsx(Yd,{vehicleData:se,title:"Live Map",setParameterData:T,loadingVehicle:ln,setShowVehicles:k,showVehicles:C,showParameters:$,setShowParameters:J})}),$&&W.jsx(ft,{style:{width:"20%",backgroundColor:m.grey[100]},children:W.jsx(n0,{parametersData:B,setParameterData:T,handleParameterChange:vt})})]})]})]})}export{J0 as default};
