import{j as s,bF as T,a_ as y,a$ as b,b as n,bq as A,br as V,bs as B,aW as D,bt as L,bu as I,b5 as E,bw as M,b7 as h,bz as k,bA as F}from"./index-Cg9eD-cF.js";const W="/assets/Crane-BC9ZOj91.png",G="/assets/indoPowerLogo-BcdOgXeX.png",i=({title:l,value:r,unit:t})=>s.jsxs("div",{className:"info-card",children:[s.jsx("p",{className:"info-title",children:l}),s.jsxs("div",{className:"info-value-row",children:[s.jsx("h2",{className:"info-value",children:r}),t&&s.jsx("span",{className:"info-unit",children:t})]})]}),o=({title:l,value:r,unit:t})=>s.jsxs("div",{className:"top-info-card",children:[s.jsx("p",{className:"info-title",children:l}),s.jsxs("div",{className:"info-value-row",children:[s.jsx("h2",{className:"info-value",children:r}),t&&s.jsx("span",{className:"info-unit",children:t})]})]}),P=()=>s.jsxs("div",{className:"dashboard-wrapper",children:[s.jsxs("div",{className:"dashboard-grid",children:[s.jsx(T,{children:s.jsxs("div",{className:"left-section",children:[s.jsx("div",{className:"logo-box",children:s.jsx("img",{src:G,alt:"Logo",className:"logo-img"})}),s.jsxs("div",{className:"crane-container",children:[s.jsx("div",{className:"float-card float1",children:s.jsx(o,{title:"Boom Length",value:"10",unit:"M"})}),s.jsx("div",{className:"float-card float2",children:s.jsx(o,{title:"Actual Load",value:"70",unit:"Ton"})}),s.jsx("div",{className:"float-card float3",children:s.jsx(o,{title:"Boom Angle",value:"50",unit:"deg"})}),s.jsx("div",{className:"float-card float4",children:s.jsx(o,{title:"Boom Radius",value:"10",unit:"M"})}),s.jsx("img",{src:W,alt:"Crane",className:"crane-img"})]})]})}),s.jsxs("div",{className:"right-section",children:[s.jsx(i,{title:"Safe Working Load - SWL",value:"42",unit:"Ton"}),s.jsx(i,{title:"Unit of Measurement",value:"42",unit:"Ton"}),s.jsx(i,{title:"Duty",value:"D3"}),s.jsx(i,{title:"SLI Condition",value:"-"}),s.jsx(i,{title:"Articulation Status",value:"-"})]})]}),s.jsxs("div",{className:"bottom-row",children:[s.jsx(o,{title:"Front X Axis Tilt Sign",value:"42",unit:"Ton"}),s.jsx(o,{title:"Front X Axis Tilt Value",value:"42",unit:"Ton"}),s.jsx(o,{title:"Front Y Axis Tilt Sign",value:"42",unit:"Ton"}),s.jsx(o,{title:"Front Y Axis Tilt Value",value:"42",unit:"Ton"}),s.jsx(o,{title:"Bypass Status",value:"42",unit:"Ton"})]})]}),ls=()=>{const l=y(),{w_customer_id:r,collapsed:t}=b(e=>e.auth),{mode:w,selectedTripData:X,selectedVehicleGroup:U,showVehicles:u,vehicleZone:Y,vehicles_details:$,overdueCount:z,completedCount:H,serviceSoonCount:O,parametersConfiguration:R,ivnParameterConfiguration:Z,j1939ParameterConfiguration:q,analogVoltage:J,parameterCodes:K,latestPacketDetail:Q,loading:ss}=b(e=>e.dashboard),_=E(w),[c,x]=n.useState(!1),[v,j]=n.useState(!1),[m,S]=n.useState([]),C=async()=>{try{let e=[],f=[];const d=await l(M({w_customer_id:r}));if(Array.isArray(d.payload)){d.payload.forEach(a=>{var g,p,N;Array.isArray(a.imei)&&a.imei.length>0?(e.push({id:a.id,label:a.registration_id,value:(g=a==null?void 0:a.imei[0])==null?void 0:g.mac_id,vehilce_type:a==null?void 0:a.segment,sell_date:a==null?void 0:a.sell_date,workShop:a==null?void 0:a.workshop,vehicle_group:a==null?void 0:a.vehicle_group,customer_name:a==null?void 0:a.customer_name,vehicle_model:(p=a==null?void 0:a.vehicle_model)==null?void 0:p.name,chassis_no:a==null?void 0:a.chassis_no,segment:a==null?void 0:a.segment}),f.push((N=a.imei[0])==null?void 0:N.mac_id),a.registration_id):(console.error("IMEI data not found for item:",a),h.error(`IMEI Number not found for the vehicle: ${a==null?void 0:a.registration_id}`,{duration:2e3}))});const as="one",es=f;S(e),l(k(e)),l(F({w_customer_id:r}))}else console.error("Unexpected data format:",d),h.error("Unexpected data format:")}catch(e){console.error("Error fetching vehicle data:",e),h.error(`Error fetching vehicle data: ${e}`)}};return n.useEffect(()=>{C()},[]),s.jsxs("div",{className:"app",style:{maxWidth:"100vw",minHeight:"100vh",overflow:"auto"},children:[s.jsx(A,{}),s.jsxs("main",{style:{width:"100%",height:"100vh"},children:[s.jsx(V,{title:"Dashboard",setShowNotification:x,showNotification:c,setShowVehiclesGroup:j,showVehiclesGroup:v}),s.jsx(B,{setShowVehiclesGroup:j,showVehiclesGroup:v}),s.jsx(P,{}),u&&s.jsx(D,{sx:{position:"fixed",width:{xs:"100%",md:"18%"},top:70,right:{xs:0,md:"0px"},height:{xs:"auto",md:"90vh"},zIndex:9999,backgroundColor:_.grey[100],overflowY:"auto",scrollBehavior:"smooth",scrollbarWidth:"thin",maxWidth:"100vw"},children:s.jsx(L,{vehicleData:m,showVehicles:u})}),c&&s.jsx(I,{showNotification:c,setShowNotification:x})]})]})};export{ls as default};
