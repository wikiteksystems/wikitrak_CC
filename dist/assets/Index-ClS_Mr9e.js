import{aT as classNames,r as reactExports,b3 as genStyleHooks,b4 as merge,bX as Keyframe,b0 as unit,aS as ConfigContext,aV as omit,aR as AntdIcon,_ as _extends,bB as _toConsumableArray,bu as _slicedToArray,R as React,bY as wrapperRaf,bw as _objectSpread2,bZ as useLayoutUpdateEffect,b_ as _typeof,bv as _defineProperty,b$ as KeyCode,bb as useEvent,c0 as RefResizeObserver,a_ as useComposeRef,bt as _objectWithoutProperties,c1 as CSSMotion,c2 as isMobile,bo as useMergedState,c3 as getTransitionName,aU as toArray,b5 as initSlideMotion,b8 as resetComponent,b2 as textEllipsis,bj as genFocusStyle,bc as useCSSVarCls,c4 as CloseOutlined,c5 as useSize,b7 as clearFix,aW as cloneElement,z as dayjs,j as jsxRuntimeExports,bD as Space,c6 as DatePicker,c7 as lib,c8 as Chart,c9 as CategoryScale,ca as LinearScale,cb as PointElement,cc as LineElement,cd as plugin_title,ce as plugin_tooltip,cf as plugin_legend,p as useSelector,bE as Button,C as themeColor,cg as Line,w as tokens,aq as requireCreateSvgIcon,ar as interopRequireDefaultExports,ch as TextField,ci as FormControl,cj as InputLabel,ck as Select,cl as OutlinedInput,cm as MenuItem$1,cn as Checkbox,co as ListItemText,B as Box,T as Typography,y as _t,o as useDispatch,cp as getParameterHistory,aw as CircularProgress,cq as TableContainer,aP as Paper,cr as Table,cs as TableHead,ct as TableRow,cu as TableCell,cv as TableBody,bV as getReport,S as setSelectedVehicleName,ae as setActiveParameters,a3 as getVehicleList,a4 as getLocationData,a7 as getVehicleGroup,Y as LeftSideBar2,$ as VehicleGroups}from"./index-D6bA2BTr.js";import{L as LiveMapTopBar}from"./LiveMapTopBar-BfwNS-_X.js";import{V as VehicleMenu}from"./VehicleMenu-Cn78_Bxv.js";import{P as Parameters}from"./Parameters-BUG5Zh0C.js";import html2canvas from"./html2canvas.esm-3NQT9CgR.js";import{S as Switch}from"./Switch-DEmswyJU.js";import{E as ExportMenu,M as MenuItem,c as Dropdown,b as EllipsisOutlined}from"./EllipsisOutlined-T4GLN_2e.js";import"./Autocomplete-C3VZeL2g.js";const Element=e=>{const{prefixCls:t,className:a,style:r,size:n,shape:o}=e,l=classNames({[`${t}-lg`]:n==="large",[`${t}-sm`]:n==="small"}),s=classNames({[`${t}-circle`]:o==="circle",[`${t}-square`]:o==="square",[`${t}-round`]:o==="round"}),c=reactExports.useMemo(()=>typeof n=="number"?{width:n,height:n,lineHeight:`${n}px`}:{},[n]);return reactExports.createElement("span",{className:classNames(t,l,s,a),style:Object.assign(Object.assign({},c),r)})},Element$1=Element,skeletonClsLoading=new Keyframe("ant-skeleton-loading",{"0%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0 50%"}}),genSkeletonElementCommonSize=e=>({height:e,lineHeight:unit(e)}),genSkeletonElementAvatarSize=e=>Object.assign({width:e},genSkeletonElementCommonSize(e)),genSkeletonColor=e=>({background:e.skeletonLoadingBackground,backgroundSize:"400% 100%",animationName:skeletonClsLoading,animationDuration:e.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite"}),genSkeletonElementInputSize=(e,t)=>Object.assign({width:t(e).mul(5).equal(),minWidth:t(e).mul(5).equal()},genSkeletonElementCommonSize(e)),genSkeletonElementAvatar=e=>{const{skeletonAvatarCls:t,gradientFromColor:a,controlHeight:r,controlHeightLG:n,controlHeightSM:o}=e;return{[`${t}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:a},genSkeletonElementAvatarSize(r)),[`${t}${t}-circle`]:{borderRadius:"50%"},[`${t}${t}-lg`]:Object.assign({},genSkeletonElementAvatarSize(n)),[`${t}${t}-sm`]:Object.assign({},genSkeletonElementAvatarSize(o))}},genSkeletonElementInput=e=>{const{controlHeight:t,borderRadiusSM:a,skeletonInputCls:r,controlHeightLG:n,controlHeightSM:o,gradientFromColor:l,calc:s}=e;return{[`${r}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:l,borderRadius:a},genSkeletonElementInputSize(t,s)),[`${r}-lg`]:Object.assign({},genSkeletonElementInputSize(n,s)),[`${r}-sm`]:Object.assign({},genSkeletonElementInputSize(o,s))}},genSkeletonElementImageSize=e=>Object.assign({width:e},genSkeletonElementCommonSize(e)),genSkeletonElementImage=e=>{const{skeletonImageCls:t,imageSizeBase:a,gradientFromColor:r,borderRadiusSM:n,calc:o}=e;return{[`${t}`]:Object.assign(Object.assign({display:"flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",background:r,borderRadius:n},genSkeletonElementImageSize(o(a).mul(2).equal())),{[`${t}-path`]:{fill:"#bfbfbf"},[`${t}-svg`]:Object.assign(Object.assign({},genSkeletonElementImageSize(a)),{maxWidth:o(a).mul(4).equal(),maxHeight:o(a).mul(4).equal()}),[`${t}-svg${t}-svg-circle`]:{borderRadius:"50%"}}),[`${t}${t}-circle`]:{borderRadius:"50%"}}},genSkeletonElementButtonShape=(e,t,a)=>{const{skeletonButtonCls:r}=e;return{[`${a}${r}-circle`]:{width:t,minWidth:t,borderRadius:"50%"},[`${a}${r}-round`]:{borderRadius:t}}},genSkeletonElementButtonSize=(e,t)=>Object.assign({width:t(e).mul(2).equal(),minWidth:t(e).mul(2).equal()},genSkeletonElementCommonSize(e)),genSkeletonElementButton=e=>{const{borderRadiusSM:t,skeletonButtonCls:a,controlHeight:r,controlHeightLG:n,controlHeightSM:o,gradientFromColor:l,calc:s}=e;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[`${a}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:l,borderRadius:t,width:s(r).mul(2).equal(),minWidth:s(r).mul(2).equal()},genSkeletonElementButtonSize(r,s))},genSkeletonElementButtonShape(e,r,a)),{[`${a}-lg`]:Object.assign({},genSkeletonElementButtonSize(n,s))}),genSkeletonElementButtonShape(e,n,`${a}-lg`)),{[`${a}-sm`]:Object.assign({},genSkeletonElementButtonSize(o,s))}),genSkeletonElementButtonShape(e,o,`${a}-sm`))},genBaseStyle=e=>{const{componentCls:t,skeletonAvatarCls:a,skeletonTitleCls:r,skeletonParagraphCls:n,skeletonButtonCls:o,skeletonInputCls:l,skeletonImageCls:s,controlHeight:c,controlHeightLG:d,controlHeightSM:u,gradientFromColor:f,padding:h,marginSM:_,borderRadius:$,titleHeight:S,blockRadius:w,paragraphLiHeight:E,controlHeightXS:g,paragraphMarginTop:T}=e;return{[`${t}`]:{display:"table",width:"100%",[`${t}-header`]:{display:"table-cell",paddingInlineEnd:h,verticalAlign:"top",[`${a}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:f},genSkeletonElementAvatarSize(c)),[`${a}-circle`]:{borderRadius:"50%"},[`${a}-lg`]:Object.assign({},genSkeletonElementAvatarSize(d)),[`${a}-sm`]:Object.assign({},genSkeletonElementAvatarSize(u))},[`${t}-content`]:{display:"table-cell",width:"100%",verticalAlign:"top",[`${r}`]:{width:"100%",height:S,background:f,borderRadius:w,[`+ ${n}`]:{marginBlockStart:u}},[`${n}`]:{padding:0,"> li":{width:"100%",height:E,listStyle:"none",background:f,borderRadius:w,"+ li":{marginBlockStart:g}}},[`${n}> li:last-child:not(:first-child):not(:nth-child(2))`]:{width:"61%"}},[`&-round ${t}-content`]:{[`${r}, ${n} > li`]:{borderRadius:$}}},[`${t}-with-avatar ${t}-content`]:{[`${r}`]:{marginBlockStart:_,[`+ ${n}`]:{marginBlockStart:T}}},[`${t}${t}-element`]:Object.assign(Object.assign(Object.assign(Object.assign({display:"inline-block",width:"auto"},genSkeletonElementButton(e)),genSkeletonElementAvatar(e)),genSkeletonElementInput(e)),genSkeletonElementImage(e)),[`${t}${t}-block`]:{width:"100%",[`${o}`]:{width:"100%"},[`${l}`]:{width:"100%"}},[`${t}${t}-active`]:{[`
        ${r},
        ${n} > li,
        ${a},
        ${o},
        ${l},
        ${s}
      `]:Object.assign({},genSkeletonColor(e))}}},prepareComponentToken$3=e=>{const{colorFillContent:t,colorFill:a}=e,r=t,n=a;return{color:r,colorGradientEnd:n,gradientFromColor:r,gradientToColor:n,titleHeight:e.controlHeight/2,blockRadius:e.borderRadiusSM,paragraphMarginTop:e.marginLG+e.marginXXS,paragraphLiHeight:e.controlHeight/2}},useStyle$3=genStyleHooks("Skeleton",e=>{const{componentCls:t,calc:a}=e,r=merge(e,{skeletonAvatarCls:`${t}-avatar`,skeletonTitleCls:`${t}-title`,skeletonParagraphCls:`${t}-paragraph`,skeletonButtonCls:`${t}-button`,skeletonInputCls:`${t}-input`,skeletonImageCls:`${t}-image`,imageSizeBase:a(e.controlHeight).mul(1.5).equal(),borderRadius:100,skeletonLoadingBackground:`linear-gradient(90deg, ${e.gradientFromColor} 25%, ${e.gradientToColor} 37%, ${e.gradientFromColor} 63%)`,skeletonLoadingMotionDuration:"1.4s"});return[genBaseStyle(r)]},prepareComponentToken$3,{deprecatedTokens:[["color","gradientFromColor"],["colorGradientEnd","gradientToColor"]]}),SkeletonAvatar=e=>{const{prefixCls:t,className:a,rootClassName:r,active:n,shape:o="circle",size:l="default"}=e,{getPrefixCls:s}=reactExports.useContext(ConfigContext),c=s("skeleton",t),[d,u,f]=useStyle$3(c),h=omit(e,["prefixCls","className"]),_=classNames(c,`${c}-element`,{[`${c}-active`]:n},a,r,u,f);return d(reactExports.createElement("div",{className:_},reactExports.createElement(Element$1,Object.assign({prefixCls:`${c}-avatar`,shape:o,size:l},h))))},SkeletonAvatar$1=SkeletonAvatar,SkeletonButton=e=>{const{prefixCls:t,className:a,rootClassName:r,active:n,block:o=!1,size:l="default"}=e,{getPrefixCls:s}=reactExports.useContext(ConfigContext),c=s("skeleton",t),[d,u,f]=useStyle$3(c),h=omit(e,["prefixCls"]),_=classNames(c,`${c}-element`,{[`${c}-active`]:n,[`${c}-block`]:o},a,r,u,f);return d(reactExports.createElement("div",{className:_},reactExports.createElement(Element$1,Object.assign({prefixCls:`${c}-button`,size:l},h))))},SkeletonButton$1=SkeletonButton,path="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",SkeletonImage=e=>{const{prefixCls:t,className:a,rootClassName:r,style:n,active:o}=e,{getPrefixCls:l}=reactExports.useContext(ConfigContext),s=l("skeleton",t),[c,d,u]=useStyle$3(s),f=classNames(s,`${s}-element`,{[`${s}-active`]:o},a,r,d,u);return c(reactExports.createElement("div",{className:f},reactExports.createElement("div",{className:classNames(`${s}-image`,a),style:n},reactExports.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:`${s}-image-svg`},reactExports.createElement("path",{d:path,className:`${s}-image-path`})))))},SkeletonImage$1=SkeletonImage,SkeletonInput=e=>{const{prefixCls:t,className:a,rootClassName:r,active:n,block:o,size:l="default"}=e,{getPrefixCls:s}=reactExports.useContext(ConfigContext),c=s("skeleton",t),[d,u,f]=useStyle$3(c),h=omit(e,["prefixCls"]),_=classNames(c,`${c}-element`,{[`${c}-active`]:n,[`${c}-block`]:o},a,r,u,f);return d(reactExports.createElement("div",{className:_},reactExports.createElement(Element$1,Object.assign({prefixCls:`${c}-input`,size:l},h))))},SkeletonInput$1=SkeletonInput;var DotChartOutlined$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM288 604a64 64 0 10128 0 64 64 0 10-128 0zm118-224a48 48 0 1096 0 48 48 0 10-96 0zm158 228a96 96 0 10192 0 96 96 0 10-192 0zm148-314a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"dot-chart",theme:"outlined"};const DotChartOutlinedSvg=DotChartOutlined$2;var DotChartOutlined=function(t,a){return reactExports.createElement(AntdIcon,_extends({},t,{ref:a,icon:DotChartOutlinedSvg}))},RefIcon$1=reactExports.forwardRef(DotChartOutlined);const DotChartOutlined$1=RefIcon$1,SkeletonNode=e=>{const{prefixCls:t,className:a,rootClassName:r,style:n,active:o,children:l}=e,{getPrefixCls:s}=reactExports.useContext(ConfigContext),c=s("skeleton",t),[d,u,f]=useStyle$3(c),h=classNames(c,`${c}-element`,{[`${c}-active`]:o},u,a,r,f),_=l??reactExports.createElement(DotChartOutlined$1,null);return d(reactExports.createElement("div",{className:h},reactExports.createElement("div",{className:classNames(`${c}-image`,a),style:n},_)))},SkeletonNode$1=SkeletonNode,getWidth=(e,t)=>{const{width:a,rows:r=2}=t;if(Array.isArray(a))return a[e];if(r-1===e)return a},Paragraph=e=>{const{prefixCls:t,className:a,style:r,rows:n}=e,o=_toConsumableArray(Array(n)).map((l,s)=>reactExports.createElement("li",{key:s,style:{width:getWidth(s,e)}}));return reactExports.createElement("ul",{className:classNames(t,a),style:r},o)},Paragraph$1=Paragraph,Title=e=>{let{prefixCls:t,className:a,width:r,style:n}=e;return reactExports.createElement("h3",{className:classNames(t,a),style:Object.assign({width:r},n)})},Title$1=Title;function getComponentProps(e){return e&&typeof e=="object"?e:{}}function getAvatarBasicProps(e,t){return e&&!t?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function getTitleBasicProps(e,t){return!e&&t?{width:"38%"}:e&&t?{width:"50%"}:{}}function getParagraphBasicProps(e,t){const a={};return(!e||!t)&&(a.width="61%"),!e&&t?a.rows=3:a.rows=2,a}const Skeleton=e=>{const{prefixCls:t,loading:a,className:r,rootClassName:n,style:o,children:l,avatar:s=!1,title:c=!0,paragraph:d=!0,active:u,round:f}=e,{getPrefixCls:h,direction:_,skeleton:$}=reactExports.useContext(ConfigContext),S=h("skeleton",t),[w,E,g]=useStyle$3(S);if(a||!("loading"in e)){const T=!!s,O=!!c,D=!!d;let N;if(T){const p=Object.assign(Object.assign({prefixCls:`${S}-avatar`},getAvatarBasicProps(O,D)),getComponentProps(s));N=reactExports.createElement("div",{className:`${S}-header`},reactExports.createElement(Element$1,Object.assign({},p)))}let M;if(O||D){let p;if(O){const x=Object.assign(Object.assign({prefixCls:`${S}-title`},getTitleBasicProps(T,D)),getComponentProps(c));p=reactExports.createElement(Title$1,Object.assign({},x))}let j;if(D){const x=Object.assign(Object.assign({prefixCls:`${S}-paragraph`},getParagraphBasicProps(T,O)),getComponentProps(d));j=reactExports.createElement(Paragraph$1,Object.assign({},x))}M=reactExports.createElement("div",{className:`${S}-content`},p,j)}const z=classNames(S,{[`${S}-with-avatar`]:T,[`${S}-active`]:u,[`${S}-rtl`]:_==="rtl",[`${S}-round`]:f},$==null?void 0:$.className,r,n,E,g);return w(reactExports.createElement("div",{className:z,style:Object.assign(Object.assign({},$==null?void 0:$.style),o)},N,M))}return l??null};Skeleton.Button=SkeletonButton$1;Skeleton.Avatar=SkeletonAvatar$1;Skeleton.Input=SkeletonInput$1;Skeleton.Image=SkeletonImage$1;Skeleton.Node=SkeletonNode$1;const Skeleton$1=Skeleton;var PlusOutlined$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"};const PlusOutlinedSvg=PlusOutlined$2;var PlusOutlined=function(t,a){return reactExports.createElement(AntdIcon,_extends({},t,{ref:a,icon:PlusOutlinedSvg}))},RefIcon=reactExports.forwardRef(PlusOutlined);const PlusOutlined$1=RefIcon,TabContext=reactExports.createContext(null);var useIndicator=function(t){var a=t.activeTabOffset,r=t.horizontal,n=t.rtl,o=t.indicator,l=o===void 0?{}:o,s=l.size,c=l.align,d=c===void 0?"center":c,u=reactExports.useState(),f=_slicedToArray(u,2),h=f[0],_=f[1],$=reactExports.useRef(),S=React.useCallback(function(E){return typeof s=="function"?s(E):typeof s=="number"?s:E},[s]);function w(){wrapperRaf.cancel($.current)}return reactExports.useEffect(function(){var E={};if(a)if(r){E.width=S(a.width);var g=n?"right":"left";d==="start"&&(E[g]=a[g]),d==="center"&&(E[g]=a[g]+a.width/2,E.transform=n?"translateX(50%)":"translateX(-50%)"),d==="end"&&(E[g]=a[g]+a.width,E.transform="translateX(-100%)")}else E.height=S(a.height),d==="start"&&(E.top=a.top),d==="center"&&(E.top=a.top+a.height/2,E.transform="translateY(-50%)"),d==="end"&&(E.top=a.top+a.height,E.transform="translateY(-100%)");return w(),$.current=wrapperRaf(function(){_(E)}),w},[a,r,n,d,S]),{style:h}},DEFAULT_SIZE$1={width:0,height:0,left:0,top:0};function useOffsets(e,t,a){return reactExports.useMemo(function(){for(var r,n=new Map,o=t.get((r=e[0])===null||r===void 0?void 0:r.key)||DEFAULT_SIZE$1,l=o.left+o.width,s=0;s<e.length;s+=1){var c=e[s].key,d=t.get(c);if(!d){var u;d=t.get((u=e[s-1])===null||u===void 0?void 0:u.key)||DEFAULT_SIZE$1}var f=n.get(c)||_objectSpread2({},d);f.right=l-f.left-f.width,n.set(c,f)}return n},[e.map(function(r){return r.key}).join("_"),t,a])}function useSyncState(e,t){var a=reactExports.useRef(e),r=reactExports.useState({}),n=_slicedToArray(r,2),o=n[1];function l(s){var c=typeof s=="function"?s(a.current):s;c!==a.current&&t(c,a.current),a.current=c,o({})}return[a.current,l]}var MIN_SWIPE_DISTANCE=.1,STOP_SWIPE_DISTANCE=.01,REFRESH_INTERVAL=20,SPEED_OFF_MULTIPLE=Math.pow(.995,REFRESH_INTERVAL);function useTouchMove(e,t){var a=reactExports.useState(),r=_slicedToArray(a,2),n=r[0],o=r[1],l=reactExports.useState(0),s=_slicedToArray(l,2),c=s[0],d=s[1],u=reactExports.useState(0),f=_slicedToArray(u,2),h=f[0],_=f[1],$=reactExports.useState(),S=_slicedToArray($,2),w=S[0],E=S[1],g=reactExports.useRef();function T(p){var j=p.touches[0],x=j.screenX,R=j.screenY;o({x,y:R}),window.clearInterval(g.current)}function O(p){if(n){p.preventDefault();var j=p.touches[0],x=j.screenX,R=j.screenY;o({x,y:R});var m=x-n.x,P=R-n.y;t(m,P);var L=Date.now();d(L),_(L-c),E({x:m,y:P})}}function D(){if(n&&(o(null),E(null),w)){var p=w.x/h,j=w.y/h,x=Math.abs(p),R=Math.abs(j);if(Math.max(x,R)<MIN_SWIPE_DISTANCE)return;var m=p,P=j;g.current=window.setInterval(function(){if(Math.abs(m)<STOP_SWIPE_DISTANCE&&Math.abs(P)<STOP_SWIPE_DISTANCE){window.clearInterval(g.current);return}m*=SPEED_OFF_MULTIPLE,P*=SPEED_OFF_MULTIPLE,t(m*REFRESH_INTERVAL,P*REFRESH_INTERVAL)},REFRESH_INTERVAL)}}var N=reactExports.useRef();function M(p){var j=p.deltaX,x=p.deltaY,R=0,m=Math.abs(j),P=Math.abs(x);m===P?R=N.current==="x"?j:x:m>P?(R=j,N.current="x"):(R=x,N.current="y"),t(-R,-R)&&p.preventDefault()}var z=reactExports.useRef(null);z.current={onTouchStart:T,onTouchMove:O,onTouchEnd:D,onWheel:M},reactExports.useEffect(function(){function p(m){z.current.onTouchStart(m)}function j(m){z.current.onTouchMove(m)}function x(m){z.current.onTouchEnd(m)}function R(m){z.current.onWheel(m)}return document.addEventListener("touchmove",j,{passive:!1}),document.addEventListener("touchend",x,{passive:!1}),e.current.addEventListener("touchstart",p,{passive:!1}),e.current.addEventListener("wheel",R),function(){document.removeEventListener("touchmove",j),document.removeEventListener("touchend",x)}},[])}function useUpdate(e){var t=reactExports.useState(0),a=_slicedToArray(t,2),r=a[0],n=a[1],o=reactExports.useRef(0),l=reactExports.useRef();return l.current=e,useLayoutUpdateEffect(function(){var s;(s=l.current)===null||s===void 0||s.call(l)},[r]),function(){o.current===r&&(o.current+=1,n(o.current))}}function useUpdateState(e){var t=reactExports.useRef([]),a=reactExports.useState({}),r=_slicedToArray(a,2),n=r[1],o=reactExports.useRef(typeof e=="function"?e():e),l=useUpdate(function(){var c=o.current;t.current.forEach(function(d){c=d(c)}),t.current=[],o.current=c,n({})});function s(c){t.current.push(c),l()}return[o.current,s]}var DEFAULT_SIZE={width:0,height:0,left:0,top:0,right:0};function useVisibleRange(e,t,a,r,n,o,l){var s=l.tabs,c=l.tabPosition,d=l.rtl,u,f,h;return["top","bottom"].includes(c)?(u="width",f=d?"right":"left",h=Math.abs(a)):(u="height",f="top",h=-a),reactExports.useMemo(function(){if(!s.length)return[0,0];for(var _=s.length,$=_,S=0;S<_;S+=1){var w=e.get(s[S].key)||DEFAULT_SIZE;if(w[f]+w[u]>h+t){$=S-1;break}}for(var E=0,g=_-1;g>=0;g-=1){var T=e.get(s[g].key)||DEFAULT_SIZE;if(T[f]<h){E=g+1;break}}return E>=$?[0,0]:[E,$]},[e,t,r,n,o,h,c,s.map(function(_){return _.key}).join("_"),d])}function stringify(e){var t;return e instanceof Map?(t={},e.forEach(function(a,r){t[r]=a})):t=e,JSON.stringify(t)}var RC_TABS_DOUBLE_QUOTE="TABS_DQ";function genDataNodeKey(e){return String(e).replace(/"/g,RC_TABS_DOUBLE_QUOTE)}function getRemovable(e,t,a,r){return!(!a||r||e===!1||e===void 0&&(t===!1||t===null))}var AddButton=reactExports.forwardRef(function(e,t){var a=e.prefixCls,r=e.editable,n=e.locale,o=e.style;return!r||r.showAdd===!1?null:reactExports.createElement("button",{ref:t,type:"button",className:"".concat(a,"-nav-add"),style:o,"aria-label":(n==null?void 0:n.addAriaLabel)||"Add tab",onClick:function(s){r.onEdit("add",{event:s})}},r.addIcon||"+")}),ExtraContent=reactExports.forwardRef(function(e,t){var a=e.position,r=e.prefixCls,n=e.extra;if(!n)return null;var o,l={};return _typeof(n)==="object"&&!reactExports.isValidElement(n)?l=n:l.right=n,a==="right"&&(o=l.right),a==="left"&&(o=l.left),o?reactExports.createElement("div",{className:"".concat(r,"-extra-content"),ref:t},o):null}),OperationNode=reactExports.forwardRef(function(e,t){var a=e.prefixCls,r=e.id,n=e.tabs,o=e.locale,l=e.mobile,s=e.moreIcon,c=s===void 0?"More":s,d=e.moreTransitionName,u=e.style,f=e.className,h=e.editable,_=e.tabBarGutter,$=e.rtl,S=e.removeAriaLabel,w=e.onTabClick,E=e.getPopupContainer,g=e.popupClassName,T=reactExports.useState(!1),O=_slicedToArray(T,2),D=O[0],N=O[1],M=reactExports.useState(null),z=_slicedToArray(M,2),p=z[0],j=z[1],x="".concat(r,"-more-popup"),R="".concat(a,"-dropdown"),m=p!==null?"".concat(x,"-").concat(p):null,P=o==null?void 0:o.dropdownAriaLabel;function L(b,A){b.preventDefault(),b.stopPropagation(),h.onEdit("remove",{key:A,event:b})}var v=reactExports.createElement(ExportMenu,{onClick:function(A){var V=A.key,k=A.domEvent;w(V,k),N(!1)},prefixCls:"".concat(R,"-menu"),id:x,tabIndex:-1,role:"listbox","aria-activedescendant":m,selectedKeys:[p],"aria-label":P!==void 0?P:"expanded dropdown"},n.map(function(b){var A=b.closable,V=b.disabled,k=b.closeIcon,I=b.key,q=b.label,F=getRemovable(A,k,h,V);return reactExports.createElement(MenuItem,{key:I,id:"".concat(x,"-").concat(I),role:"option","aria-controls":r&&"".concat(r,"-panel-").concat(I),disabled:V},reactExports.createElement("span",null,q),F&&reactExports.createElement("button",{type:"button","aria-label":S||"remove",tabIndex:0,className:"".concat(R,"-menu-item-remove"),onClick:function(Z){Z.stopPropagation(),L(Z,I)}},k||h.removeIcon||"×"))}));function C(b){for(var A=n.filter(function(F){return!F.disabled}),V=A.findIndex(function(F){return F.key===p})||0,k=A.length,I=0;I<k;I+=1){V=(V+b+k)%k;var q=A[V];if(!q.disabled){j(q.key);return}}}function W(b){var A=b.which;if(!D){[KeyCode.DOWN,KeyCode.SPACE,KeyCode.ENTER].includes(A)&&(N(!0),b.preventDefault());return}switch(A){case KeyCode.UP:C(-1),b.preventDefault();break;case KeyCode.DOWN:C(1),b.preventDefault();break;case KeyCode.ESC:N(!1);break;case KeyCode.SPACE:case KeyCode.ENTER:p!==null&&w(p,b);break}}reactExports.useEffect(function(){var b=document.getElementById(m);b&&b.scrollIntoView&&b.scrollIntoView(!1)},[p]),reactExports.useEffect(function(){D||j(null)},[D]);var G=_defineProperty({},$?"marginRight":"marginLeft",_);n.length||(G.visibility="hidden",G.order=1);var X=classNames(_defineProperty({},"".concat(R,"-rtl"),$)),y=l?null:reactExports.createElement(Dropdown,{prefixCls:R,overlay:v,trigger:["hover"],visible:n.length?D:!1,transitionName:d,onVisibleChange:N,overlayClassName:classNames(X,g),mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:E},reactExports.createElement("button",{type:"button",className:"".concat(a,"-nav-more"),style:G,tabIndex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":x,id:"".concat(r,"-more"),"aria-expanded":D,onKeyDown:W},c));return reactExports.createElement("div",{className:classNames("".concat(a,"-nav-operations"),f),style:u,ref:t},y,reactExports.createElement(AddButton,{prefixCls:a,locale:o,editable:h}))});const OperationNode$1=reactExports.memo(OperationNode,function(e,t){return t.tabMoving});var TabNode=function(t){var a=t.prefixCls,r=t.id,n=t.active,o=t.tab,l=o.key,s=o.label,c=o.disabled,d=o.closeIcon,u=o.icon,f=t.closable,h=t.renderWrapper,_=t.removeAriaLabel,$=t.editable,S=t.onClick,w=t.onFocus,E=t.style,g="".concat(a,"-tab"),T=getRemovable(f,d,$,c);function O(z){c||S(z)}function D(z){z.preventDefault(),z.stopPropagation(),$.onEdit("remove",{key:l,event:z})}var N=reactExports.useMemo(function(){return u&&typeof s=="string"?reactExports.createElement("span",null,s):s},[s,u]),M=reactExports.createElement("div",{key:l,"data-node-key":genDataNodeKey(l),className:classNames(g,_defineProperty(_defineProperty(_defineProperty({},"".concat(g,"-with-remove"),T),"".concat(g,"-active"),n),"".concat(g,"-disabled"),c)),style:E,onClick:O},reactExports.createElement("div",{role:"tab","aria-selected":n,id:r&&"".concat(r,"-tab-").concat(l),className:"".concat(g,"-btn"),"aria-controls":r&&"".concat(r,"-panel-").concat(l),"aria-disabled":c,tabIndex:c?null:0,onClick:function(p){p.stopPropagation(),O(p)},onKeyDown:function(p){[KeyCode.SPACE,KeyCode.ENTER].includes(p.which)&&(p.preventDefault(),O(p))},onFocus:w},u&&reactExports.createElement("span",{className:"".concat(g,"-icon")},u),s&&N),T&&reactExports.createElement("button",{type:"button","aria-label":_||"remove",tabIndex:0,className:"".concat(g,"-remove"),onClick:function(p){p.stopPropagation(),D(p)}},d||$.removeIcon||"×"));return h?h(M):M},getTabSize=function(t,a){var r=t.offsetWidth,n=t.offsetHeight,o=t.offsetTop,l=t.offsetLeft,s=t.getBoundingClientRect(),c=s.width,d=s.height,u=s.x,f=s.y;return Math.abs(c-r)<1?[c,d,u-a.x,f-a.y]:[r,n,l,o]},getSize=function(t){var a=t.current||{},r=a.offsetWidth,n=r===void 0?0:r,o=a.offsetHeight,l=o===void 0?0:o;if(t.current){var s=t.current.getBoundingClientRect(),c=s.width,d=s.height;if(Math.abs(c-n)<1)return[c,d]}return[n,l]},getUnitValue=function(t,a){return t[a?0:1]},TabNavList=reactExports.forwardRef(function(e,t){var a=e.className,r=e.style,n=e.id,o=e.animated,l=e.activeKey,s=e.rtl,c=e.extra,d=e.editable,u=e.locale,f=e.tabPosition,h=e.tabBarGutter,_=e.children,$=e.onTabClick,S=e.onTabScroll,w=e.indicator,E=reactExports.useContext(TabContext),g=E.prefixCls,T=E.tabs,O=reactExports.useRef(null),D=reactExports.useRef(null),N=reactExports.useRef(null),M=reactExports.useRef(null),z=reactExports.useRef(null),p=reactExports.useRef(null),j=reactExports.useRef(null),x=f==="top"||f==="bottom",R=useSyncState(0,function(K,B){x&&S&&S({direction:K>B?"left":"right"})}),m=_slicedToArray(R,2),P=m[0],L=m[1],v=useSyncState(0,function(K,B){!x&&S&&S({direction:K>B?"top":"bottom"})}),C=_slicedToArray(v,2),W=C[0],G=C[1],X=reactExports.useState([0,0]),y=_slicedToArray(X,2),b=y[0],A=y[1],V=reactExports.useState([0,0]),k=_slicedToArray(V,2),I=k[0],q=k[1],F=reactExports.useState([0,0]),J=_slicedToArray(F,2),Z=J[0],ee=J[1],pe=reactExports.useState([0,0]),ne=_slicedToArray(pe,2),ie=ne[0],H=ne[1],ae=useUpdateState(new Map),re=_slicedToArray(ae,2),U=re[0],Y=re[1],se=useOffsets(T,U,I[0]),me=getUnitValue(b,x),ge=getUnitValue(I,x),Ee=getUnitValue(Z,x),we=getUnitValue(ie,x),Te=me<ge+Ee,oe=Te?me-we:me-Ee,He="".concat(g,"-nav-operations-hidden"),le=0,de=0;x&&s?(le=0,de=Math.max(0,ge-oe)):(le=Math.min(0,oe-ge),de=0);function ye(K){return K<le?le:K>de?de:K}var $e=reactExports.useRef(null),Ve=reactExports.useState(),Pe=_slicedToArray(Ve,2),he=Pe[0],Ie=Pe[1];function Ce(){Ie(Date.now())}function je(){$e.current&&clearTimeout($e.current)}useTouchMove(M,function(K,B){function Q(te,ue){te(function(ce){var ve=ye(ce+ue);return ve})}return Te?(x?Q(L,K):Q(G,B),je(),Ce(),!0):!1}),reactExports.useEffect(function(){return je(),he&&($e.current=setTimeout(function(){Ie(0)},100)),je},[he]);var Ge=useVisibleRange(se,oe,x?P:W,ge,Ee,we,_objectSpread2(_objectSpread2({},e),{},{tabs:T})),Oe=_slicedToArray(Ge,2),Fe=Oe[0],We=Oe[1],Ne=useEvent(function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:l,B=se.get(K)||{width:0,height:0,left:0,right:0,top:0};if(x){var Q=P;s?B.right<P?Q=B.right:B.right+B.width>P+oe&&(Q=B.right+B.width-oe):B.left<-P?Q=-B.left:B.left+B.width>-P+oe&&(Q=-(B.left+B.width-oe)),G(0),L(ye(Q))}else{var te=W;B.top<-W?te=-B.top:B.top+B.height>-W+oe&&(te=-(B.top+B.height-oe)),L(0),G(ye(te))}}),xe={};f==="top"||f==="bottom"?xe[s?"marginRight":"marginLeft"]=h:xe.marginTop=h;var De=T.map(function(K,B){var Q=K.key;return reactExports.createElement(TabNode,{id:n,prefixCls:g,key:Q,tab:K,style:B===0?void 0:xe,closable:K.closable,editable:d,active:Q===l,renderWrapper:_,removeAriaLabel:u==null?void 0:u.removeAriaLabel,onClick:function(ue){$(Q,ue)},onFocus:function(){Ne(Q),Ce(),M.current&&(s||(M.current.scrollLeft=0),M.current.scrollTop=0)}})}),ze=function(){return Y(function(){var B,Q=new Map,te=(B=z.current)===null||B===void 0?void 0:B.getBoundingClientRect();return T.forEach(function(ue){var ce,ve=ue.key,qe=(ce=z.current)===null||ce===void 0?void 0:ce.querySelector('[data-node-key="'.concat(genDataNodeKey(ve),'"]'));if(qe){var Ze=getTabSize(qe,te),Se=_slicedToArray(Ze,4),Qe=Se[0],Je=Se[1],et=Se[2],tt=Se[3];Q.set(ve,{width:Qe,height:Je,left:et,top:tt})}}),Q})};reactExports.useEffect(function(){ze()},[T.map(function(K){return K.key}).join("_")]);var be=useUpdate(function(){var K=getSize(O),B=getSize(D),Q=getSize(N);A([K[0]-B[0]-Q[0],K[1]-B[1]-Q[1]]);var te=getSize(j);ee(te);var ue=getSize(p);H(ue);var ce=getSize(z);q([ce[0]-te[0],ce[1]-te[1]]),ze()}),Ke=T.slice(0,Fe),Xe=T.slice(We+1),Le=[].concat(_toConsumableArray(Ke),_toConsumableArray(Xe)),Ae=se.get(l),Ue=useIndicator({activeTabOffset:Ae,horizontal:x,indicator:w,rtl:s}),Ye=Ue.style;reactExports.useEffect(function(){Ne()},[l,le,de,stringify(Ae),stringify(se),x]),reactExports.useEffect(function(){be()},[s]);var Me=!!Le.length,fe="".concat(g,"-nav-wrap"),_e,Re,Be,ke;return x?s?(Re=P>0,_e=P!==de):(_e=P<0,Re=P!==le):(Be=W<0,ke=W!==le),reactExports.createElement(RefResizeObserver,{onResize:be},reactExports.createElement("div",{ref:useComposeRef(t,O),role:"tablist",className:classNames("".concat(g,"-nav"),a),style:r,onKeyDown:function(){Ce()}},reactExports.createElement(ExtraContent,{ref:D,position:"left",extra:c,prefixCls:g}),reactExports.createElement(RefResizeObserver,{onResize:be},reactExports.createElement("div",{className:classNames(fe,_defineProperty(_defineProperty(_defineProperty(_defineProperty({},"".concat(fe,"-ping-left"),_e),"".concat(fe,"-ping-right"),Re),"".concat(fe,"-ping-top"),Be),"".concat(fe,"-ping-bottom"),ke)),ref:M},reactExports.createElement(RefResizeObserver,{onResize:be},reactExports.createElement("div",{ref:z,className:"".concat(g,"-nav-list"),style:{transform:"translate(".concat(P,"px, ").concat(W,"px)"),transition:he?"none":void 0}},De,reactExports.createElement(AddButton,{ref:j,prefixCls:g,locale:u,editable:d,style:_objectSpread2(_objectSpread2({},De.length===0?void 0:xe),{},{visibility:Me?"hidden":null})}),reactExports.createElement("div",{className:classNames("".concat(g,"-ink-bar"),_defineProperty({},"".concat(g,"-ink-bar-animated"),o.inkBar)),style:Ye}))))),reactExports.createElement(OperationNode$1,_extends({},e,{removeAriaLabel:u==null?void 0:u.removeAriaLabel,ref:p,prefixCls:g,tabs:Le,className:!Me&&He,tabMoving:!!he})),reactExports.createElement(ExtraContent,{ref:N,position:"right",extra:c,prefixCls:g})))}),TabPane$2=reactExports.forwardRef(function(e,t){var a=e.prefixCls,r=e.className,n=e.style,o=e.id,l=e.active,s=e.tabKey,c=e.children;return reactExports.createElement("div",{id:o&&"".concat(o,"-panel-").concat(s),role:"tabpanel",tabIndex:l?0:-1,"aria-labelledby":o&&"".concat(o,"-tab-").concat(s),"aria-hidden":!l,style:n,className:classNames(a,l&&"".concat(a,"-active"),r),ref:t},c)}),_excluded$2=["renderTabBar"],_excluded2=["label","key"],TabNavListWrapper=function(t){var a=t.renderTabBar,r=_objectWithoutProperties(t,_excluded$2),n=reactExports.useContext(TabContext),o=n.tabs;if(a){var l=_objectSpread2(_objectSpread2({},r),{},{panes:o.map(function(s){var c=s.label,d=s.key,u=_objectWithoutProperties(s,_excluded2);return reactExports.createElement(TabPane$2,_extends({tab:c,key:d,tabKey:d},u))})});return a(l,TabNavList)}return reactExports.createElement(TabNavList,r)},_excluded$1=["key","forceRender","style","className","destroyInactiveTabPane"],TabPanelList=function(t){var a=t.id,r=t.activeKey,n=t.animated,o=t.tabPosition,l=t.destroyInactiveTabPane,s=reactExports.useContext(TabContext),c=s.prefixCls,d=s.tabs,u=n.tabPane,f="".concat(c,"-tabpane");return reactExports.createElement("div",{className:classNames("".concat(c,"-content-holder"))},reactExports.createElement("div",{className:classNames("".concat(c,"-content"),"".concat(c,"-content-").concat(o),_defineProperty({},"".concat(c,"-content-animated"),u))},d.map(function(h){var _=h.key,$=h.forceRender,S=h.style,w=h.className,E=h.destroyInactiveTabPane,g=_objectWithoutProperties(h,_excluded$1),T=_===r;return reactExports.createElement(CSSMotion,_extends({key:_,visible:T,forceRender:$,removeOnLeave:!!(l||E),leavedClassName:"".concat(f,"-hidden")},n.tabPaneMotion),function(O,D){var N=O.style,M=O.className;return reactExports.createElement(TabPane$2,_extends({},g,{prefixCls:f,id:a,tabKey:_,animated:u,active:T,style:_objectSpread2(_objectSpread2({},S),N),className:classNames(w,M),ref:D}))})})))};function useAnimateConfig$1(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{inkBar:!0,tabPane:!1},t;return e===!1?t={inkBar:!1,tabPane:!1}:e===!0?t={inkBar:!0,tabPane:!1}:t=_objectSpread2({inkBar:!0},_typeof(e)==="object"?e:{}),t.tabPaneMotion&&t.tabPane===void 0&&(t.tabPane=!0),!t.tabPaneMotion&&t.tabPane&&(t.tabPane=!1),t}var _excluded=["id","prefixCls","className","items","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","moreIcon","moreTransitionName","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll","getPopupContainer","popupClassName","indicator"],uuid=0,Tabs$2=reactExports.forwardRef(function(e,t){var a=e.id,r=e.prefixCls,n=r===void 0?"rc-tabs":r,o=e.className,l=e.items,s=e.direction,c=e.activeKey,d=e.defaultActiveKey,u=e.editable,f=e.animated,h=e.tabPosition,_=h===void 0?"top":h,$=e.tabBarGutter,S=e.tabBarStyle,w=e.tabBarExtraContent,E=e.locale,g=e.moreIcon,T=e.moreTransitionName,O=e.destroyInactiveTabPane,D=e.renderTabBar,N=e.onChange,M=e.onTabClick,z=e.onTabScroll,p=e.getPopupContainer,j=e.popupClassName,x=e.indicator,R=_objectWithoutProperties(e,_excluded),m=reactExports.useMemo(function(){return(l||[]).filter(function(H){return H&&_typeof(H)==="object"&&"key"in H})},[l]),P=s==="rtl",L=useAnimateConfig$1(f),v=reactExports.useState(!1),C=_slicedToArray(v,2),W=C[0],G=C[1];reactExports.useEffect(function(){G(isMobile())},[]);var X=useMergedState(function(){var H;return(H=m[0])===null||H===void 0?void 0:H.key},{value:c,defaultValue:d}),y=_slicedToArray(X,2),b=y[0],A=y[1],V=reactExports.useState(function(){return m.findIndex(function(H){return H.key===b})}),k=_slicedToArray(V,2),I=k[0],q=k[1];reactExports.useEffect(function(){var H=m.findIndex(function(re){return re.key===b});if(H===-1){var ae;H=Math.max(0,Math.min(I,m.length-1)),A((ae=m[H])===null||ae===void 0?void 0:ae.key)}q(H)},[m.map(function(H){return H.key}).join("_"),b,I]);var F=useMergedState(null,{value:a}),J=_slicedToArray(F,2),Z=J[0],ee=J[1];reactExports.useEffect(function(){a||(ee("rc-tabs-".concat(uuid)),uuid+=1)},[]);function pe(H,ae){M==null||M(H,ae);var re=H!==b;A(H),re&&(N==null||N(H))}var ne={id:Z,activeKey:b,animated:L,tabPosition:_,rtl:P,mobile:W},ie=_objectSpread2(_objectSpread2({},ne),{},{editable:u,locale:E,moreIcon:g,moreTransitionName:T,tabBarGutter:$,onTabClick:pe,onTabScroll:z,extra:w,style:S,panes:null,getPopupContainer:p,popupClassName:j,indicator:x});return reactExports.createElement(TabContext.Provider,{value:{tabs:m,prefixCls:n}},reactExports.createElement("div",_extends({ref:t,id:a,className:classNames(n,"".concat(n,"-").concat(_),_defineProperty(_defineProperty(_defineProperty({},"".concat(n,"-mobile"),W),"".concat(n,"-editable"),u),"".concat(n,"-rtl"),P),o)},R),reactExports.createElement(TabNavListWrapper,_extends({},ie,{renderTabBar:D})),reactExports.createElement(TabPanelList,_extends({destroyInactiveTabPane:O},ne,{animated:L}))))});const motion={motionAppear:!1,motionEnter:!0,motionLeave:!0};function useAnimateConfig(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{inkBar:!0,tabPane:!1},a;return t===!1?a={inkBar:!1,tabPane:!1}:t===!0?a={inkBar:!0,tabPane:!0}:a=Object.assign({inkBar:!0},typeof t=="object"?t:{}),a.tabPane&&(a.tabPaneMotion=Object.assign(Object.assign({},motion),{motionName:getTransitionName(e,"switch")})),a}var __rest$5=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]]);return a};function filter(e){return e.filter(t=>t)}function useLegacyItems(e,t){if(e)return e;const a=toArray(t).map(r=>{if(reactExports.isValidElement(r)){const{key:n,props:o}=r,l=o||{},{tab:s}=l,c=__rest$5(l,["tab"]);return Object.assign(Object.assign({key:String(n)},c),{label:s})}return null});return filter(a)}const genMotionStyle=e=>{const{componentCls:t,motionDurationSlow:a}=e;return[{[t]:{[`${t}-switch`]:{"&-appear, &-enter":{transition:"none","&-start":{opacity:0},"&-active":{opacity:1,transition:`opacity ${a}`}},"&-leave":{position:"absolute",transition:"none",inset:0,"&-start":{opacity:1},"&-active":{opacity:0,transition:`opacity ${a}`}}}}},[initSlideMotion(e,"slide-up"),initSlideMotion(e,"slide-down")]]},genMotionStyle$1=genMotionStyle,genCardStyle$1=e=>{const{componentCls:t,tabsCardPadding:a,cardBg:r,cardGutter:n,colorBorderSecondary:o,itemSelectedColor:l}=e;return{[`${t}-card`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{margin:0,padding:a,background:r,border:`${unit(e.lineWidth)} ${e.lineType} ${o}`,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOut}`},[`${t}-tab-active`]:{color:l,background:e.colorBgContainer},[`${t}-ink-bar`]:{visibility:"hidden"}},[`&${t}-top, &${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginLeft:{_skip_check_:!0,value:unit(n)}}}},[`&${t}-top`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:`${unit(e.borderRadiusLG)} ${unit(e.borderRadiusLG)} 0 0`},[`${t}-tab-active`]:{borderBottomColor:e.colorBgContainer}}},[`&${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:`0 0 ${unit(e.borderRadiusLG)} ${unit(e.borderRadiusLG)}`},[`${t}-tab-active`]:{borderTopColor:e.colorBgContainer}}},[`&${t}-left, &${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginTop:unit(n)}}},[`&${t}-left`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`${unit(e.borderRadiusLG)} 0 0 ${unit(e.borderRadiusLG)}`}},[`${t}-tab-active`]:{borderRightColor:{_skip_check_:!0,value:e.colorBgContainer}}}},[`&${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${unit(e.borderRadiusLG)} ${unit(e.borderRadiusLG)} 0`}},[`${t}-tab-active`]:{borderLeftColor:{_skip_check_:!0,value:e.colorBgContainer}}}}}}},genDropdownStyle=e=>{const{componentCls:t,itemHoverColor:a,dropdownEdgeChildVerticalPadding:r}=e;return{[`${t}-dropdown`]:Object.assign(Object.assign({},resetComponent(e)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:e.zIndexPopup,display:"block","&-hidden":{display:"none"},[`${t}-dropdown-menu`]:{maxHeight:e.tabsDropdownHeight,margin:0,padding:`${unit(r)} 0`,overflowX:"hidden",overflowY:"auto",textAlign:{_skip_check_:!0,value:"left"},listStyleType:"none",backgroundColor:e.colorBgContainer,backgroundClip:"padding-box",borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary,"&-item":Object.assign(Object.assign({},textEllipsis),{display:"flex",alignItems:"center",minWidth:e.tabsDropdownWidth,margin:0,padding:`${unit(e.paddingXXS)} ${unit(e.paddingSM)}`,color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,"> span":{flex:1,whiteSpace:"nowrap"},"&-remove":{flex:"none",marginLeft:{_skip_check_:!0,value:e.marginSM},color:e.colorTextDescription,fontSize:e.fontSizeSM,background:"transparent",border:0,cursor:"pointer","&:hover":{color:a}},"&:hover":{background:e.controlItemBgHover},"&-disabled":{"&, &:hover":{color:e.colorTextDisabled,background:"transparent",cursor:"not-allowed"}}})}})}},genPositionStyle=e=>{const{componentCls:t,margin:a,colorBorderSecondary:r,horizontalMargin:n,verticalItemPadding:o,verticalItemMargin:l,calc:s}=e;return{[`${t}-top, ${t}-bottom`]:{flexDirection:"column",[`> ${t}-nav, > div > ${t}-nav`]:{margin:n,"&::before":{position:"absolute",right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},borderBottom:`${unit(e.lineWidth)} ${e.lineType} ${r}`,content:"''"},[`${t}-ink-bar`]:{height:e.lineWidthBold,"&-animated":{transition:`width ${e.motionDurationSlow}, left ${e.motionDurationSlow},
            right ${e.motionDurationSlow}`}},[`${t}-nav-wrap`]:{"&::before, &::after":{top:0,bottom:0,width:e.controlHeight},"&::before":{left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowTabsOverflowLeft},"&::after":{right:{_skip_check_:!0,value:0},boxShadow:e.boxShadowTabsOverflowRight},[`&${t}-nav-wrap-ping-left::before`]:{opacity:1},[`&${t}-nav-wrap-ping-right::after`]:{opacity:1}}}},[`${t}-top`]:{[`> ${t}-nav,
        > div > ${t}-nav`]:{"&::before":{bottom:0},[`${t}-ink-bar`]:{bottom:0}}},[`${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{order:1,marginTop:a,marginBottom:0,"&::before":{top:0},[`${t}-ink-bar`]:{top:0}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{order:0}},[`${t}-left, ${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{flexDirection:"column",minWidth:s(e.controlHeight).mul(1.25).equal(),[`${t}-tab`]:{padding:o,textAlign:"center"},[`${t}-tab + ${t}-tab`]:{margin:l},[`${t}-nav-wrap`]:{flexDirection:"column","&::before, &::after":{right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},height:e.controlHeight},"&::before":{top:0,boxShadow:e.boxShadowTabsOverflowTop},"&::after":{bottom:0,boxShadow:e.boxShadowTabsOverflowBottom},[`&${t}-nav-wrap-ping-top::before`]:{opacity:1},[`&${t}-nav-wrap-ping-bottom::after`]:{opacity:1}},[`${t}-ink-bar`]:{width:e.lineWidthBold,"&-animated":{transition:`height ${e.motionDurationSlow}, top ${e.motionDurationSlow}`}},[`${t}-nav-list, ${t}-nav-operations`]:{flex:"1 0 auto",flexDirection:"column"}}},[`${t}-left`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-ink-bar`]:{right:{_skip_check_:!0,value:0}}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{marginLeft:{_skip_check_:!0,value:unit(s(e.lineWidth).mul(-1).equal())},borderLeft:{_skip_check_:!0,value:`${unit(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},[`> ${t}-content > ${t}-tabpane`]:{paddingLeft:{_skip_check_:!0,value:e.paddingLG}}}},[`${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{order:1,[`${t}-ink-bar`]:{left:{_skip_check_:!0,value:0}}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{order:0,marginRight:{_skip_check_:!0,value:s(e.lineWidth).mul(-1).equal()},borderRight:{_skip_check_:!0,value:`${unit(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},[`> ${t}-content > ${t}-tabpane`]:{paddingRight:{_skip_check_:!0,value:e.paddingLG}}}}}},genSizeStyle=e=>{const{componentCls:t,cardPaddingSM:a,cardPaddingLG:r,horizontalItemPaddingSM:n,horizontalItemPaddingLG:o}=e;return{[t]:{"&-small":{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:n,fontSize:e.titleFontSizeSM}}},"&-large":{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:o,fontSize:e.titleFontSizeLG}}}},[`${t}-card`]:{[`&${t}-small`]:{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:a}},[`&${t}-bottom`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:`0 0 ${unit(e.borderRadius)} ${unit(e.borderRadius)}`}},[`&${t}-top`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:`${unit(e.borderRadius)} ${unit(e.borderRadius)} 0 0`}},[`&${t}-right`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${unit(e.borderRadius)} ${unit(e.borderRadius)} 0`}}},[`&${t}-left`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`${unit(e.borderRadius)} 0 0 ${unit(e.borderRadius)}`}}}},[`&${t}-large`]:{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:r}}}}}},genTabStyle=e=>{const{componentCls:t,itemActiveColor:a,itemHoverColor:r,iconCls:n,tabsHorizontalItemMargin:o,horizontalItemPadding:l,itemSelectedColor:s,itemColor:c}=e,d=`${t}-tab`;return{[d]:{position:"relative",WebkitTouchCallout:"none",WebkitTapHighlightColor:"transparent",display:"inline-flex",alignItems:"center",padding:l,fontSize:e.titleFontSize,background:"transparent",border:0,outline:"none",cursor:"pointer",color:c,"&-btn, &-remove":Object.assign({"&:focus:not(:focus-visible), &:active":{color:a}},genFocusStyle(e)),"&-btn":{outline:"none",transition:"all 0.3s",[`${d}-icon:not(:last-child)`]:{marginInlineEnd:e.marginSM}},"&-remove":{flex:"none",marginRight:{_skip_check_:!0,value:e.calc(e.marginXXS).mul(-1).equal()},marginLeft:{_skip_check_:!0,value:e.marginXS},color:e.colorTextDescription,fontSize:e.fontSizeSM,background:"transparent",border:"none",outline:"none",cursor:"pointer",transition:`all ${e.motionDurationSlow}`,"&:hover":{color:e.colorTextHeading}},"&:hover":{color:r},[`&${d}-active ${d}-btn`]:{color:s,textShadow:e.tabsActiveTextShadow},[`&${d}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed"},[`&${d}-disabled ${d}-btn, &${d}-disabled ${t}-remove`]:{"&:focus, &:active":{color:e.colorTextDisabled}},[`& ${d}-remove ${n}`]:{margin:0},[`${n}:not(:last-child)`]:{marginRight:{_skip_check_:!0,value:e.marginSM}}},[`${d} + ${d}`]:{margin:{_skip_check_:!0,value:o}}}},genRtlStyle=e=>{const{componentCls:t,tabsHorizontalItemMarginRTL:a,iconCls:r,cardGutter:n,calc:o}=e;return{[`${t}-rtl`]:{direction:"rtl",[`${t}-nav`]:{[`${t}-tab`]:{margin:{_skip_check_:!0,value:a},[`${t}-tab:last-of-type`]:{marginLeft:{_skip_check_:!0,value:0}},[r]:{marginRight:{_skip_check_:!0,value:0},marginLeft:{_skip_check_:!0,value:unit(e.marginSM)}},[`${t}-tab-remove`]:{marginRight:{_skip_check_:!0,value:unit(e.marginXS)},marginLeft:{_skip_check_:!0,value:unit(o(e.marginXXS).mul(-1).equal())},[r]:{margin:0}}}},[`&${t}-left`]:{[`> ${t}-nav`]:{order:1},[`> ${t}-content-holder`]:{order:0}},[`&${t}-right`]:{[`> ${t}-nav`]:{order:0},[`> ${t}-content-holder`]:{order:1}},[`&${t}-card${t}-top, &${t}-card${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginRight:{_skip_check_:!0,value:n},marginLeft:{_skip_check_:!0,value:0}}}}},[`${t}-dropdown-rtl`]:{direction:"rtl"},[`${t}-menu-item`]:{[`${t}-dropdown-rtl`]:{textAlign:{_skip_check_:!0,value:"right"}}}}},genTabsStyle=e=>{const{componentCls:t,tabsCardPadding:a,cardHeight:r,cardGutter:n,itemHoverColor:o,itemActiveColor:l,colorBorderSecondary:s}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},resetComponent(e)),{display:"flex",[`> ${t}-nav, > div > ${t}-nav`]:{position:"relative",display:"flex",flex:"none",alignItems:"center",[`${t}-nav-wrap`]:{position:"relative",display:"flex",flex:"auto",alignSelf:"stretch",overflow:"hidden",whiteSpace:"nowrap",transform:"translate(0)","&::before, &::after":{position:"absolute",zIndex:1,opacity:0,transition:`opacity ${e.motionDurationSlow}`,content:"''",pointerEvents:"none"}},[`${t}-nav-list`]:{position:"relative",display:"flex",transition:`opacity ${e.motionDurationSlow}`},[`${t}-nav-operations`]:{display:"flex",alignSelf:"stretch"},[`${t}-nav-operations-hidden`]:{position:"absolute",visibility:"hidden",pointerEvents:"none"},[`${t}-nav-more`]:{position:"relative",padding:a,background:"transparent",border:0,color:e.colorText,"&::after":{position:"absolute",right:{_skip_check_:!0,value:0},bottom:0,left:{_skip_check_:!0,value:0},height:e.calc(e.controlHeightLG).div(8).equal(),transform:"translateY(100%)",content:"''"}},[`${t}-nav-add`]:Object.assign({minWidth:r,minHeight:r,marginLeft:{_skip_check_:!0,value:n},padding:`0 ${unit(e.paddingXS)}`,background:"transparent",border:`${unit(e.lineWidth)} ${e.lineType} ${s}`,borderRadius:`${unit(e.borderRadiusLG)} ${unit(e.borderRadiusLG)} 0 0`,outline:"none",cursor:"pointer",color:e.colorText,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOut}`,"&:hover":{color:o},"&:active, &:focus:not(:focus-visible)":{color:l}},genFocusStyle(e))},[`${t}-extra-content`]:{flex:"none"},[`${t}-ink-bar`]:{position:"absolute",background:e.inkBarColor,pointerEvents:"none"}}),genTabStyle(e)),{[`${t}-content`]:{position:"relative",width:"100%"},[`${t}-content-holder`]:{flex:"auto",minWidth:0,minHeight:0},[`${t}-tabpane`]:{outline:"none","&-hidden":{display:"none"}}}),[`${t}-centered`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-nav-wrap`]:{[`&:not([class*='${t}-nav-wrap-ping'])`]:{justifyContent:"center"}}}}}},prepareComponentToken$2=e=>{const t=e.controlHeightLG;return{zIndexPopup:e.zIndexPopupBase+50,cardBg:e.colorFillAlter,cardHeight:t,cardPadding:`${(t-Math.round(e.fontSize*e.lineHeight))/2-e.lineWidth}px ${e.padding}px`,cardPaddingSM:`${e.paddingXXS*1.5}px ${e.padding}px`,cardPaddingLG:`${e.paddingXS}px ${e.padding}px ${e.paddingXXS*1.5}px`,titleFontSize:e.fontSize,titleFontSizeLG:e.fontSizeLG,titleFontSizeSM:e.fontSize,inkBarColor:e.colorPrimary,horizontalMargin:`0 0 ${e.margin}px 0`,horizontalItemGutter:32,horizontalItemMargin:"",horizontalItemMarginRTL:"",horizontalItemPadding:`${e.paddingSM}px 0`,horizontalItemPaddingSM:`${e.paddingXS}px 0`,horizontalItemPaddingLG:`${e.padding}px 0`,verticalItemPadding:`${e.paddingXS}px ${e.paddingLG}px`,verticalItemMargin:`${e.margin}px 0 0 0`,itemColor:e.colorText,itemSelectedColor:e.colorPrimary,itemHoverColor:e.colorPrimaryHover,itemActiveColor:e.colorPrimaryActive,cardGutter:e.marginXXS/2}},useStyle$2=genStyleHooks("Tabs",e=>{const t=merge(e,{tabsCardPadding:e.cardPadding,dropdownEdgeChildVerticalPadding:e.paddingXXS,tabsActiveTextShadow:"0 0 0.25px currentcolor",tabsDropdownHeight:200,tabsDropdownWidth:120,tabsHorizontalItemMargin:`0 0 0 ${unit(e.horizontalItemGutter)}`,tabsHorizontalItemMarginRTL:`0 0 0 ${unit(e.horizontalItemGutter)}`});return[genSizeStyle(t),genRtlStyle(t),genPositionStyle(t),genDropdownStyle(t),genCardStyle$1(t),genTabsStyle(t),genMotionStyle$1(t)]},prepareComponentToken$2),TabPane=()=>null,TabPane$1=TabPane;var __rest$4=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]]);return a};const Tabs=e=>{var t,a,r,n,o,l,s,c;const{type:d,className:u,rootClassName:f,size:h,onEdit:_,hideAdd:$,centered:S,addIcon:w,removeIcon:E,moreIcon:g,popupClassName:T,children:O,items:D,animated:N,style:M,indicatorSize:z,indicator:p}=e,j=__rest$4(e,["type","className","rootClassName","size","onEdit","hideAdd","centered","addIcon","removeIcon","moreIcon","popupClassName","children","items","animated","style","indicatorSize","indicator"]),{prefixCls:x}=j,{direction:R,tabs:m,getPrefixCls:P,getPopupContainer:L}=reactExports.useContext(ConfigContext),v=P("tabs",x),C=useCSSVarCls(v),[W,G,X]=useStyle$2(v,C);let y;d==="editable-card"&&(y={onEdit:(F,J)=>{let{key:Z,event:ee}=J;_==null||_(F==="add"?ee:Z,F)},removeIcon:(t=E??(m==null?void 0:m.removeIcon))!==null&&t!==void 0?t:reactExports.createElement(CloseOutlined,null),addIcon:(w??(m==null?void 0:m.addIcon))||reactExports.createElement(PlusOutlined$1,null),showAdd:$!==!0});const b=P(),A=useSize(h),V=useLegacyItems(D,O),k=useAnimateConfig(v,N),I=Object.assign(Object.assign({},m==null?void 0:m.style),M),q={align:(a=p==null?void 0:p.align)!==null&&a!==void 0?a:(r=m==null?void 0:m.indicator)===null||r===void 0?void 0:r.align,size:(s=(o=(n=p==null?void 0:p.size)!==null&&n!==void 0?n:z)!==null&&o!==void 0?o:(l=m==null?void 0:m.indicator)===null||l===void 0?void 0:l.size)!==null&&s!==void 0?s:m==null?void 0:m.indicatorSize};return W(reactExports.createElement(Tabs$2,Object.assign({direction:R,getPopupContainer:L,moreTransitionName:`${b}-slide-up`},j,{items:V,className:classNames({[`${v}-${A}`]:A,[`${v}-card`]:["card","editable-card"].includes(d),[`${v}-editable-card`]:d==="editable-card",[`${v}-centered`]:S},m==null?void 0:m.className,u,f,G,X,C),popupClassName:classNames(T,G,X,C),style:I,editable:y,moreIcon:(c=g??(m==null?void 0:m.moreIcon))!==null&&c!==void 0?c:reactExports.createElement(EllipsisOutlined,null),prefixCls:v,animated:k,indicator:q})))};Tabs.TabPane=TabPane$1;const Tabs$1=Tabs;var __rest$3=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]]);return a};const Grid=e=>{var{prefixCls:t,className:a,hoverable:r=!0}=e,n=__rest$3(e,["prefixCls","className","hoverable"]);const{getPrefixCls:o}=reactExports.useContext(ConfigContext),l=o("card",t),s=classNames(`${l}-grid`,a,{[`${l}-grid-hoverable`]:r});return reactExports.createElement("div",Object.assign({},n,{className:s}))},Grid$1=Grid,genCardHeadStyle=e=>{const{antCls:t,componentCls:a,headerHeight:r,cardPaddingBase:n,tabsMarginBottom:o}=e;return Object.assign(Object.assign({display:"flex",justifyContent:"center",flexDirection:"column",minHeight:r,marginBottom:-1,padding:`0 ${unit(n)}`,color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:e.headerFontSize,background:e.headerBg,borderBottom:`${unit(e.lineWidth)} ${e.lineType} ${e.colorBorderSecondary}`,borderRadius:`${unit(e.borderRadiusLG)} ${unit(e.borderRadiusLG)} 0 0`},clearFix()),{"&-wrapper":{width:"100%",display:"flex",alignItems:"center"},"&-title":Object.assign(Object.assign({display:"inline-block",flex:1},textEllipsis),{[`
          > ${a}-typography,
          > ${a}-typography-edit-content
        `]:{insetInlineStart:0,marginTop:0,marginBottom:0}}),[`${t}-tabs-top`]:{clear:"both",marginBottom:o,color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,"&-bar":{borderBottom:`${unit(e.lineWidth)} ${e.lineType} ${e.colorBorderSecondary}`}}})},genCardGridStyle=e=>{const{cardPaddingBase:t,colorBorderSecondary:a,cardShadow:r,lineWidth:n}=e;return{width:"33.33%",padding:t,border:0,borderRadius:0,boxShadow:`
      ${unit(n)} 0 0 0 ${a},
      0 ${unit(n)} 0 0 ${a},
      ${unit(n)} ${unit(n)} 0 0 ${a},
      ${unit(n)} 0 0 0 ${a} inset,
      0 ${unit(n)} 0 0 ${a} inset;
    `,transition:`all ${e.motionDurationMid}`,"&-hoverable:hover":{position:"relative",zIndex:1,boxShadow:r}}},genCardActionsStyle=e=>{const{componentCls:t,iconCls:a,actionsLiMargin:r,cardActionsIconSize:n,colorBorderSecondary:o,actionsBg:l}=e;return Object.assign(Object.assign({margin:0,padding:0,listStyle:"none",background:l,borderTop:`${unit(e.lineWidth)} ${e.lineType} ${o}`,display:"flex",borderRadius:`0 0 ${unit(e.borderRadiusLG)} ${unit(e.borderRadiusLG)}`},clearFix()),{"& > li":{margin:r,color:e.colorTextDescription,textAlign:"center","> span":{position:"relative",display:"block",minWidth:e.calc(e.cardActionsIconSize).mul(2).equal(),fontSize:e.fontSize,lineHeight:e.lineHeight,cursor:"pointer","&:hover":{color:e.colorPrimary,transition:`color ${e.motionDurationMid}`},[`a:not(${t}-btn), > ${a}`]:{display:"inline-block",width:"100%",color:e.colorTextDescription,lineHeight:unit(e.fontHeight),transition:`color ${e.motionDurationMid}`,"&:hover":{color:e.colorPrimary}},[`> ${a}`]:{fontSize:n,lineHeight:unit(e.calc(n).mul(e.lineHeight).equal())}},"&:not(:last-child)":{borderInlineEnd:`${unit(e.lineWidth)} ${e.lineType} ${o}`}}})},genCardMetaStyle=e=>Object.assign(Object.assign({margin:`${unit(e.calc(e.marginXXS).mul(-1).equal())} 0`,display:"flex"},clearFix()),{"&-avatar":{paddingInlineEnd:e.padding},"&-detail":{overflow:"hidden",flex:1,"> div:not(:last-child)":{marginBottom:e.marginXS}},"&-title":Object.assign({color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG},textEllipsis),"&-description":{color:e.colorTextDescription}}),genCardTypeInnerStyle=e=>{const{componentCls:t,cardPaddingBase:a,colorFillAlter:r}=e;return{[`${t}-head`]:{padding:`0 ${unit(a)}`,background:r,"&-title":{fontSize:e.fontSize}},[`${t}-body`]:{padding:`${unit(e.padding)} ${unit(a)}`}}},genCardLoadingStyle=e=>{const{componentCls:t}=e;return{overflow:"hidden",[`${t}-body`]:{userSelect:"none"}}},genCardStyle=e=>{const{antCls:t,componentCls:a,cardShadow:r,cardHeadPadding:n,colorBorderSecondary:o,boxShadowTertiary:l,cardPaddingBase:s,extraColor:c}=e;return{[a]:Object.assign(Object.assign({},resetComponent(e)),{position:"relative",background:e.colorBgContainer,borderRadius:e.borderRadiusLG,[`&:not(${a}-bordered)`]:{boxShadow:l},[`${a}-head`]:genCardHeadStyle(e),[`${a}-extra`]:{marginInlineStart:"auto",color:c,fontWeight:"normal",fontSize:e.fontSize},[`${a}-body`]:Object.assign({padding:s,borderRadius:` 0 0 ${unit(e.borderRadiusLG)} ${unit(e.borderRadiusLG)}`},clearFix()),[`${a}-grid`]:genCardGridStyle(e),[`${a}-cover`]:{"> *":{display:"block",width:"100%"},[`img, img + ${t}-image-mask`]:{borderRadius:`${unit(e.borderRadiusLG)} ${unit(e.borderRadiusLG)} 0 0`}},[`${a}-actions`]:genCardActionsStyle(e),[`${a}-meta`]:genCardMetaStyle(e)}),[`${a}-bordered`]:{border:`${unit(e.lineWidth)} ${e.lineType} ${o}`,[`${a}-cover`]:{marginTop:-1,marginInlineStart:-1,marginInlineEnd:-1}},[`${a}-hoverable`]:{cursor:"pointer",transition:`box-shadow ${e.motionDurationMid}, border-color ${e.motionDurationMid}`,"&:hover":{borderColor:"transparent",boxShadow:r}},[`${a}-contain-grid`]:{borderRadius:`${unit(e.borderRadiusLG)} ${unit(e.borderRadiusLG)} 0 0 `,[`${a}-body`]:{display:"flex",flexWrap:"wrap"},[`&:not(${a}-loading) ${a}-body`]:{marginBlockStart:e.calc(e.lineWidth).mul(-1).equal(),marginInlineStart:e.calc(e.lineWidth).mul(-1).equal(),padding:0}},[`${a}-contain-tabs`]:{[`> ${a}-head`]:{minHeight:0,[`${a}-head-title, ${a}-extra`]:{paddingTop:n}}},[`${a}-type-inner`]:genCardTypeInnerStyle(e),[`${a}-loading`]:genCardLoadingStyle(e),[`${a}-rtl`]:{direction:"rtl"}}},genCardSizeStyle=e=>{const{componentCls:t,cardPaddingSM:a,headerHeightSM:r,headerFontSizeSM:n}=e;return{[`${t}-small`]:{[`> ${t}-head`]:{minHeight:r,padding:`0 ${unit(a)}`,fontSize:n,[`> ${t}-head-wrapper`]:{[`> ${t}-extra`]:{fontSize:e.fontSize}}},[`> ${t}-body`]:{padding:a}},[`${t}-small${t}-contain-tabs`]:{[`> ${t}-head`]:{[`${t}-head-title, ${t}-extra`]:{paddingTop:0,display:"flex",alignItems:"center"}}}}},prepareComponentToken$1=e=>({headerBg:"transparent",headerFontSize:e.fontSizeLG,headerFontSizeSM:e.fontSize,headerHeight:e.fontSizeLG*e.lineHeightLG+e.padding*2,headerHeightSM:e.fontSize*e.lineHeight+e.paddingXS*2,actionsBg:e.colorBgContainer,actionsLiMargin:`${e.paddingSM}px 0`,tabsMarginBottom:-e.padding-e.lineWidth,extraColor:e.colorText}),useStyle$1=genStyleHooks("Card",e=>{const t=merge(e,{cardShadow:e.boxShadowCard,cardHeadPadding:e.padding,cardPaddingBase:e.paddingLG,cardActionsIconSize:e.fontSize,cardPaddingSM:12});return[genCardStyle(t),genCardSizeStyle(t)]},prepareComponentToken$1);var __rest$2=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]]);return a};const ActionNode=e=>{const{actionClasses:t,actions:a=[],actionStyle:r}=e;return reactExports.createElement("ul",{className:t,style:r},a.map((n,o)=>{const l=`action-${o}`;return reactExports.createElement("li",{style:{width:`${100/a.length}%`},key:l},reactExports.createElement("span",null,n))}))},Card$2=reactExports.forwardRef((e,t)=>{const{prefixCls:a,className:r,rootClassName:n,style:o,extra:l,headStyle:s={},bodyStyle:c={},title:d,loading:u,bordered:f=!0,size:h,type:_,cover:$,actions:S,tabList:w,children:E,activeTabKey:g,defaultActiveTabKey:T,tabBarExtraContent:O,hoverable:D,tabProps:N={},classNames:M,styles:z}=e,p=__rest$2(e,["prefixCls","className","rootClassName","style","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps","classNames","styles"]),{getPrefixCls:j,direction:x,card:R}=reactExports.useContext(ConfigContext),m=U=>{var Y;(Y=e.onTabChange)===null||Y===void 0||Y.call(e,U)},P=U=>{var Y;return classNames((Y=R==null?void 0:R.classNames)===null||Y===void 0?void 0:Y[U],M==null?void 0:M[U])},L=U=>{var Y;return Object.assign(Object.assign({},(Y=R==null?void 0:R.styles)===null||Y===void 0?void 0:Y[U]),z==null?void 0:z[U])},v=reactExports.useMemo(()=>{let U=!1;return reactExports.Children.forEach(E,Y=>{Y&&Y.type&&Y.type===Grid$1&&(U=!0)}),U},[E]),C=j("card",a),[W,G,X]=useStyle$1(C),y=reactExports.createElement(Skeleton$1,{loading:!0,active:!0,paragraph:{rows:4},title:!1},E),b=g!==void 0,A=Object.assign(Object.assign({},N),{[b?"activeKey":"defaultActiveKey"]:b?g:T,tabBarExtraContent:O});let V;const k=useSize(h),I=!k||k==="default"?"large":k,q=w?reactExports.createElement(Tabs$1,Object.assign({size:I},A,{className:`${C}-head-tabs`,onChange:m,items:w.map(U=>{var{tab:Y}=U,se=__rest$2(U,["tab"]);return Object.assign({label:Y},se)})})):null;if(d||l||q){const U=classNames(`${C}-head`,P("header")),Y=classNames(`${C}-head-title`,P("title")),se=classNames(`${C}-extra`,P("extra")),me=Object.assign(Object.assign({},s),L("header"));V=reactExports.createElement("div",{className:U,style:me},reactExports.createElement("div",{className:`${C}-head-wrapper`},d&&reactExports.createElement("div",{className:Y,style:L("title")},d),l&&reactExports.createElement("div",{className:se,style:L("extra")},l)),q)}const F=classNames(`${C}-cover`,P("cover")),J=$?reactExports.createElement("div",{className:F,style:L("cover")},$):null,Z=classNames(`${C}-body`,P("body")),ee=Object.assign(Object.assign({},c),L("body")),pe=reactExports.createElement("div",{className:Z,style:ee},u?y:E),ne=classNames(`${C}-actions`,P("actions")),ie=S&&S.length?reactExports.createElement(ActionNode,{actionClasses:ne,actionStyle:L("actions"),actions:S}):null,H=omit(p,["onTabChange"]),ae=classNames(C,R==null?void 0:R.className,{[`${C}-loading`]:u,[`${C}-bordered`]:f,[`${C}-hoverable`]:D,[`${C}-contain-grid`]:v,[`${C}-contain-tabs`]:w&&w.length,[`${C}-${k}`]:k,[`${C}-type-${_}`]:!!_,[`${C}-rtl`]:x==="rtl"},r,n,G,X),re=Object.assign(Object.assign({},R==null?void 0:R.style),o);return W(reactExports.createElement("div",Object.assign({ref:t},H,{className:ae,style:re}),V,J,pe,ie))}),InternalCard=Card$2;var __rest$1=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]]);return a};const Meta=e=>{const{prefixCls:t,className:a,avatar:r,title:n,description:o}=e,l=__rest$1(e,["prefixCls","className","avatar","title","description"]),{getPrefixCls:s}=reactExports.useContext(ConfigContext),c=s("card",t),d=classNames(`${c}-meta`,a),u=r?reactExports.createElement("div",{className:`${c}-meta-avatar`},r):null,f=n?reactExports.createElement("div",{className:`${c}-meta-title`},n):null,h=o?reactExports.createElement("div",{className:`${c}-meta-description`},o):null,_=f||h?reactExports.createElement("div",{className:`${c}-meta-detail`},f,h):null;return reactExports.createElement("div",Object.assign({},l,{className:d}),u,_)},Meta$1=Meta,Card=InternalCard;Card.Grid=Grid$1;Card.Meta=Meta$1;const Card$1=Card;function throttle(e,t,a){var r=a||{},n=r.noTrailing,o=n===void 0?!1:n,l=r.noLeading,s=l===void 0?!1:l,c=r.debounceMode,d=c===void 0?void 0:c,u,f=!1,h=0;function _(){u&&clearTimeout(u)}function $(w){var E=w||{},g=E.upcomingOnly,T=g===void 0?!1:g;_(),f=!T}function S(){for(var w=arguments.length,E=new Array(w),g=0;g<w;g++)E[g]=arguments[g];var T=this,O=Date.now()-h;if(f)return;function D(){h=Date.now(),t.apply(T,E)}function N(){u=void 0}!s&&d&&!u&&D(),_(),d===void 0&&O>e?s?(h=Date.now(),o||(u=setTimeout(d?N:D,e))):D():o!==!0&&(u=setTimeout(d?N:D,d===void 0?e-O:e))}return S.cancel=$,S}function debounce(e,t,a){var r=a||{},n=r.atBegin,o=n===void 0?!1:n;return throttle(e,t,{debounceMode:o!==!1})}const antSpinMove=new Keyframe("antSpinMove",{to:{opacity:1}}),antRotate=new Keyframe("antRotate",{to:{transform:"rotate(405deg)"}}),genSpinStyle=e=>{const{componentCls:t,calc:a}=e;return{[`${t}`]:Object.assign(Object.assign({},resetComponent(e)),{position:"absolute",display:"none",color:e.colorPrimary,fontSize:0,textAlign:"center",verticalAlign:"middle",opacity:0,transition:`transform ${e.motionDurationSlow} ${e.motionEaseInOutCirc}`,"&-spinning":{position:"static",display:"inline-block",opacity:1},[`${t}-text`]:{fontSize:e.fontSize,paddingTop:a(a(e.dotSize).sub(e.fontSize)).div(2).add(2).equal()},"&-fullscreen":{position:"fixed",width:"100vw",height:"100vh",backgroundColor:e.colorBgMask,zIndex:e.zIndexPopupBase,inset:0,display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",opacity:0,visibility:"hidden",transition:`all ${e.motionDurationMid}`,"&-show":{opacity:1,visibility:"visible"},[`${t}-dot ${t}-dot-item`]:{backgroundColor:e.colorWhite},[`${t}-text`]:{color:e.colorTextLightSolid}},"&-nested-loading":{position:"relative",[`> div > ${t}`]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:e.contentHeight,[`${t}-dot`]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:a(e.dotSize).mul(-1).div(2).equal()},[`${t}-text`]:{position:"absolute",top:"50%",width:"100%",textShadow:`0 1px 2px ${e.colorBgContainer}`},[`&${t}-show-text ${t}-dot`]:{marginTop:a(e.dotSize).div(2).mul(-1).sub(10).equal()},"&-sm":{[`${t}-dot`]:{margin:a(e.dotSizeSM).mul(-1).div(2).equal()},[`${t}-text`]:{paddingTop:a(a(e.dotSizeSM).sub(e.fontSize)).div(2).add(2).equal()},[`&${t}-show-text ${t}-dot`]:{marginTop:a(e.dotSizeSM).div(2).mul(-1).sub(10).equal()}},"&-lg":{[`${t}-dot`]:{margin:a(e.dotSizeLG).mul(-1).div(2).equal()},[`${t}-text`]:{paddingTop:a(a(e.dotSizeLG).sub(e.fontSize)).div(2).add(2).equal()},[`&${t}-show-text ${t}-dot`]:{marginTop:a(e.dotSizeLG).div(2).mul(-1).sub(10).equal()}}},[`${t}-container`]:{position:"relative",transition:`opacity ${e.motionDurationSlow}`,"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:e.colorBgContainer,opacity:0,transition:`all ${e.motionDurationSlow}`,content:'""',pointerEvents:"none"}},[`${t}-blur`]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none","&::after":{opacity:.4,pointerEvents:"auto"}}},"&-tip":{color:e.spinDotDefault},[`${t}-dot`]:{position:"relative",display:"inline-block",fontSize:e.dotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:a(e.dotSize).sub(a(e.marginXXS).div(2)).div(2).equal(),height:a(e.dotSize).sub(a(e.marginXXS).div(2)).div(2).equal(),backgroundColor:e.colorPrimary,borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:antSpinMove,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0,animationDelay:"0s"},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:antRotate,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},[`&-sm ${t}-dot`]:{fontSize:e.dotSizeSM,i:{width:a(a(e.dotSizeSM).sub(a(e.marginXXS).div(2))).div(2).equal(),height:a(a(e.dotSizeSM).sub(a(e.marginXXS).div(2))).div(2).equal()}},[`&-lg ${t}-dot`]:{fontSize:e.dotSizeLG,i:{width:a(a(e.dotSizeLG).sub(e.marginXXS)).div(2).equal(),height:a(a(e.dotSizeLG).sub(e.marginXXS)).div(2).equal()}},[`&${t}-show-text ${t}-text`]:{display:"block"}})}},prepareComponentToken=e=>{const{controlHeightLG:t,controlHeight:a}=e;return{contentHeight:400,dotSize:t/2,dotSizeSM:t*.35,dotSizeLG:a}},useStyle=genStyleHooks("Spin",e=>{const t=merge(e,{spinDotDefault:e.colorTextDescription});return[genSpinStyle(t)]},prepareComponentToken);var __rest=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]]);return a};let defaultIndicator=null;function renderIndicator(e,t){const{indicator:a}=t,r=`${e}-dot`;return a===null?null:reactExports.isValidElement(a)?cloneElement(a,{className:classNames(a.props.className,r)}):reactExports.isValidElement(defaultIndicator)?cloneElement(defaultIndicator,{className:classNames(defaultIndicator.props.className,r)}):reactExports.createElement("span",{className:classNames(r,`${e}-dot-spin`)},reactExports.createElement("i",{className:`${e}-dot-item`,key:1}),reactExports.createElement("i",{className:`${e}-dot-item`,key:2}),reactExports.createElement("i",{className:`${e}-dot-item`,key:3}),reactExports.createElement("i",{className:`${e}-dot-item`,key:4}))}function shouldDelay(e,t){return!!e&&!!t&&!isNaN(Number(t))}const Spin=e=>{const{prefixCls:t,spinning:a=!0,delay:r=0,className:n,rootClassName:o,size:l="default",tip:s,wrapperClassName:c,style:d,children:u,fullscreen:f=!1}=e,h=__rest(e,["prefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","fullscreen"]),{getPrefixCls:_}=reactExports.useContext(ConfigContext),$=_("spin",t),[S,w,E]=useStyle($),[g,T]=reactExports.useState(()=>a&&!shouldDelay(a,r));reactExports.useEffect(()=>{if(a){const R=debounce(r,()=>{T(!0)});return R(),()=>{var m;(m=R==null?void 0:R.cancel)===null||m===void 0||m.call(R)}}T(!1)},[r,a]);const O=reactExports.useMemo(()=>typeof u<"u"&&!f,[u,f]),{direction:D,spin:N}=reactExports.useContext(ConfigContext),M=classNames($,N==null?void 0:N.className,{[`${$}-sm`]:l==="small",[`${$}-lg`]:l==="large",[`${$}-spinning`]:g,[`${$}-show-text`]:!!s,[`${$}-fullscreen`]:f,[`${$}-fullscreen-show`]:f&&g,[`${$}-rtl`]:D==="rtl"},n,o,w,E),z=classNames(`${$}-container`,{[`${$}-blur`]:g}),p=omit(h,["indicator"]),j=Object.assign(Object.assign({},N==null?void 0:N.style),d),x=reactExports.createElement("div",Object.assign({},p,{style:j,className:M,"aria-live":"polite","aria-busy":g}),renderIndicator($,e),s&&(O||f)?reactExports.createElement("div",{className:`${$}-text`},s):null);return S(O?reactExports.createElement("div",Object.assign({},p,{className:classNames(`${$}-nested-loading`,c,w,E)}),g&&reactExports.createElement("div",{key:"loading"},x),reactExports.createElement("div",{className:z,key:"container"},u)):x)};Spin.setDefaultIndicator=e=>{defaultIndicator=e};const Spin$1=Spin,{RangePicker}=DatePicker,DateTimePicker=({setEndDate:e,setStartDate:t,isTimeEnable:a})=>{const r=(l,s)=>{l?(t(s[0]),e(s[1])):(t(null),e(null),console.log("Clear date"))},n=l=>l&&l>dayjs().endOf("day"),o={label:"Now~EOD",value:[dayjs().startOf("day"),dayjs().endOf("day")]};return jsxRuntimeExports.jsx(Space,{direction:"vertical",size:12,children:a?jsxRuntimeExports.jsx(RangePicker,{format:"YYYY-MM-DD HH:mm",onChange:r,disabledDate:n,presets:[o]}):jsxRuntimeExports.jsx(RangePicker,{format:"YYYY-MM-DD",onChange:r,disabledDate:n,presets:[o]})})},RangeFilter=({graphData:e,startIndex:t,setStartIndex:a,endIndex:r,setEndIndex:n})=>{const o=l=>{const s=l.sort((c,d)=>c-d);a(s[0]),n(s[1])};return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:e[0].data.length>0&&jsxRuntimeExports.jsx(lib.Range,{step:1,min:0,max:e[0].data.length-1,values:[t,r],onChange:l=>o(l),renderTrack:({props:l,children:s})=>jsxRuntimeExports.jsx("div",{onMouseDown:l.onMouseDown,onTouchStart:l.onTouchStart,style:{...l.style,height:"36px",display:"flex",width:"100%"},children:jsxRuntimeExports.jsx("div",{ref:l.ref,style:{height:"5px",width:"100%",borderRadius:"4px",background:`linear-gradient(to right, #ccc ${t/(e[0].data.length-1)*100}%, #548BF4 ${t/(e[0].data.length-1)*100}%, #548BF4 ${r/(e[0].data.length-1)*100}%, #ccc ${r/(e[0].data.length-1)*100}%)`,alignSelf:"center"},children:s})}),renderThumb:({props:l})=>jsxRuntimeExports.jsx("div",{...l,style:{...l.style,height:"16px",width:"16px",borderRadius:"4px",backgroundColor:"#FFF",boxShadow:"0px 2px 6px #AAA"}})})})};Chart.register(CategoryScale,LinearScale,PointElement,LineElement,plugin_title,plugin_tooltip,plugin_legend);const ParameterGraph=({graphData:e,setGraphData:t,analysis:a,setShowAnalysis:r,isEqu:n,setEqu:o})=>{const{collapsed:l}=useSelector(p=>p.auth),{mode:s}=useSelector(p=>p.dashboard),c=tokens(s),[d,u]=reactExports.useState(0),[f,h]=reactExports.useState(Math.min(100,e[0].data.length-1)),[_,$]=reactExports.useState(Array(e.length).fill(!1)),[S,w]=reactExports.useState([]),E=reactExports.useRef(null),g={responsive:!0,plugins:{legend:{position:"top"}},scales:{x:{type:"category",ticks:{font:{family:"Arial",size:14,weight:"bold"},color:themeColor.bgColor,maxTicksLimit:5,maxRotation:0}},y:{beginAtZero:!0}}},T=e[0].data.slice(d,f+1),O=e.map((p,j)=>{let x=p.randomColor,R=p.randomColor;return{label:p.label,data:p.data.map(m=>m.value),borderColor:R,backgroundColor:p.data.map(m=>m.color?m.color:x),pointRadius:n?5:2,hidden:_[j],cursor:"pointer"}}),D={labels:T.map(p=>{const j=new Date(p.DateTime);return`${j.toLocaleDateString()}${j.toLocaleTimeString()}`,p.DateTime}),datasets:O},N=()=>{const p=[],j=[];e.forEach((v,C)=>{O[C],v.data.forEach((W,G)=>{const X={"Date & Time":W.DateTime};e.forEach((y,b)=>{X[y.label]=O[b].data[G]}),p.push(X)})}),S.forEach(v=>{const C={Params:v.name,Min:v.min,Max:v.max,Avg:v.avg};j.push(C)});const x=Object.keys(p[0]).join(",")+`
`+p.map(v=>Object.values(v).join(",")).join(`
`),m=Object.keys(j[0]).join(",")+`
`+j.map(v=>Object.values(v).join(",")).join(`
`)+`

`+x,P=new Blob([m],{type:"text/csv"}),L=document.createElement("a");L.setAttribute("href",window.URL.createObjectURL(P)),L.setAttribute("download","exported_data.csv"),document.body.appendChild(L),L.click(),document.body.removeChild(L)},M=p=>{console.log(p,"paramData...");const j=p.data.map(P=>parseFloat(P.value)).filter(P=>!isNaN(P));if(j.length===0)return console.log("Error: No valid numeric values found"),{min:NaN,max:NaN,avg:NaN,name:p.label};const x=Math.min(...j),R=Math.max(...j),m=j.reduce((P,L)=>P+L,0)/j.length;return{min:x.toFixed(2),max:R.toFixed(2),avg:m.toFixed(2),name:p.label}};reactExports.useEffect(()=>{let p=[];e.length>0&&e.map(j=>{const x=M(j);p.push(x)}),p.length>0&&(console.log(p,"arr..."),w(p))},[e]),reactExports.useEffect(()=>{console.log(S,"paramsValues")},[S]);const z=()=>{E.current&&html2canvas(E.current).then(p=>{const j=p.toDataURL("image/png"),x=document.createElement("a");x.href=j,x.download="graph.png",x.click()})};return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs("div",{style:{width:l?"98%":"80%",marginLeft:"5%",border:"1px solid #e3e1da",padding:"20px",justifyContent:"center",borderRadius:"5px",margin:"auto",background:c.grey[100]},ref:E,id:"graph-container",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs(Button,{onClick:()=>{r(!a)},style:{background:themeColor.bgShadow,color:"black",border:"none"},children:[a?"Hide":"Get"," Analysis"]}),jsxRuntimeExports.jsx("button",{onClick:N,style:{background:themeColor.bgShadow,color:"black",borderRadius:"6px",padding:"8px 10px",cursor:"pointer",marginLeft:"15px",margin:"auto",border:"1px solid white"},children:"Export Data"}),jsxRuntimeExports.jsx(Button,{onClick:z,style:{background:themeColor.bgShadow,color:"black",border:"none"},children:"Download Graph"})]}),jsxRuntimeExports.jsx(Line,{options:g,data:D}),jsxRuntimeExports.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:"10px"},children:jsxRuntimeExports.jsx(RangeFilter,{graphData:e,setEndIndex:h,setStartIndex:u,endIndex:f,startIndex:d})})]})})};var CloseSharp={},_interopRequireDefault$3=interopRequireDefaultExports;Object.defineProperty(CloseSharp,"__esModule",{value:!0});var default_1$3=CloseSharp.default=void 0,_createSvgIcon$3=_interopRequireDefault$3(requireCreateSvgIcon()),_jsxRuntime$3=jsxRuntimeExports;default_1$3=CloseSharp.default=(0,_createSvgIcon$3.default)((0,_jsxRuntime$3.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"CloseSharp");var DeleteOutlined={},_interopRequireDefault$2=interopRequireDefaultExports;Object.defineProperty(DeleteOutlined,"__esModule",{value:!0});var default_1$2=DeleteOutlined.default=void 0,_createSvgIcon$2=_interopRequireDefault$2(requireCreateSvgIcon()),_jsxRuntime$2=jsxRuntimeExports;default_1$2=DeleteOutlined.default=(0,_createSvgIcon$2.default)((0,_jsxRuntime$2.jsx)("path",{d:"M16 9v10H8V9zm-1.5-6h-5l-1 1H5v2h14V4h-3.5zM18 7H6v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2z"}),"DeleteOutlined");var KeyboardBackspace={},_interopRequireDefault$1=interopRequireDefaultExports;Object.defineProperty(KeyboardBackspace,"__esModule",{value:!0});var default_1$1=KeyboardBackspace.default=void 0,_createSvgIcon$1=_interopRequireDefault$1(requireCreateSvgIcon()),_jsxRuntime$1=jsxRuntimeExports;default_1$1=KeyboardBackspace.default=(0,_createSvgIcon$1.default)((0,_jsxRuntime$1.jsx)("path",{d:"M21 11H6.83l3.58-3.59L9 6l-6 6 6 6 1.41-1.41L6.83 13H21z"}),"KeyboardBackspace");var East={},_interopRequireDefault=interopRequireDefaultExports;Object.defineProperty(East,"__esModule",{value:!0});var default_1=East.default=void 0,_createSvgIcon=_interopRequireDefault(requireCreateSvgIcon()),_jsxRuntime=jsxRuntimeExports;default_1=East.default=(0,_createSvgIcon.default)((0,_jsxRuntime.jsx)("path",{d:"m15 5-1.41 1.41L18.17 11H2v2h16.17l-4.59 4.59L15 19l7-7z"}),"East");const Analytics=({graphData,setGraphData,setEqu})=>{const[params,setParams]=reactExports.useState([]),[operator,setOperators]=reactExports.useState([]),[equation,setEquation]=reactExports.useState(""),[inputVal,setInputVal]=reactExports.useState(null),[betweenOp,setBtOp]=reactExports.useState([]),[equationArray,setEquationArray]=reactExports.useState([]),[newEqa,setNewEqa]=reactExports.useState(""),[trueCount,setTrueCount]=reactExports.useState([]),[isLoading,setLoading]=reactExports.useState(!1),[newEquationArray,setNewEquationArray]=reactExports.useState([]),[indexes,setIndexes]=reactExports.useState(0);reactExports.useEffect(()=>{},[equation,isLoading,setLoading]);let operators=[{label:"Greater than",value:">"},{label:"Less than",value:"<"},{label:"Greater than equal to",value:">="},{label:"Less than equal to",value:"<="},{label:"Equal to",value:"="},{label:"Not Equal to",value:"!="}];const handleParams=e=>{e.preventDefault();const{target:{value:t}}=e;setParams(typeof t=="string"?t.split(","):t)},handleOperators=e=>{const{target:{value:t}}=e;setOperators(typeof t=="string"?t.split(","):t)},handleValueChang=e=>{setInputVal(e.target.value)},genEquation=()=>{graphData.map((c,d)=>{c.data.map(u=>u.color&&delete u.color)}),setGraphData(graphData);let e=params.toString(),t=operator.toString(),a=inputVal;if(!e&&!t&&!betweenOp.toString())return _t("Please select the parameter and operator",{id:"error parameter"});let r=`${e} ${t} ${a}`,n=equation;n=`${n} ${e} ${t} ${a}`,setNewEqa(r);let o=[...newEquationArray];o.push(r),setIndexes(o.length-1),setNewEquationArray(o);let l=equationArray;setEquation(n);let s={betweenOperators:betweenOp.toString(),param_name:e.toString(),operator_type:operator.toString(),value:inputVal};console.log("eqa arragt",s),l.push(s),setEquationArray(l),setParams([]),setOperators([]),setBtOp([]),setInputVal(0)},evaluateEquation=()=>{if(setEqu(!0),setLoading(!0),graphData.map((e,t)=>{e.data.map(a=>a.color&&delete a.color)}),setGraphData(graphData),!equation)return setLoading(!1),_t("Please Add Equation",{id:"error equ"});let equationArray=makeSeparateEquation(equation),filteredData=[],resultArray=[];equationArray.map(item=>{let value=makeSeparateEquation(item.replace(/[()]/g,""));console.log("evaluateEquation",equation),console.log("equationArray",equationArray),console.log("value",value),value.map((val,i)=>{let stringWithoutOperators=val.replace(/[&|]/g,"");graphData.map(data=>{if(val.includes(data.label)){let obj={},obj2={},removedLabel=stringWithoutOperators.replace(data.label,"");console.log("removedLabel",removedLabel,"val",val,data.label);let newData=data.data.filter(ele=>{let expression=`${ele.value}${removedLabel}`;try{return eval(expression)}catch(e){return _t(`error ${e.message}`,{id:"error message"})}});obj={label:data.label,data:newData,status:newData.length>0,equation:`${val}`},obj2={label:`${stringWithoutOperators.trim()}`,value:newData.length>0},filteredData.push(obj),resultArray.push(obj2)}})})});const replacedString=replaceLabels(equation,resultArray);console.log("replacedString",replacedString);const isTrue=eval(replacedString);let newGraphData=[...graphData];if(isTrue){let e=[];equationArray.map((a,r)=>{if(/\(|\)/.test(a)){let n=makeSeparateEquation(a.replace(/[()]/g,""));const o=[];let l={};n.map((s,c)=>{let d=filteredData.find(u=>u.equation===s);l={data:d.data,oper:s,label:d.label},o.push(l)}),console.log("filteredData",filteredData),console.log("newData",o),o.map((s,c)=>{if(console.log("i",c),o.length>1){if(c>0)if(console.log("labels",o[c-1].label,o[c].label),o[c-1].label===o[c].label){if(s.oper.includes("&")){let d=findCommonValues(o[c-1].data,o[c].data),u={data:d,label:o[c].oper,betweenOp:"&"};e.push(u),console.log(d,"NEW ARRAY VAL common")}if(s.oper.includes("|")){let d=removeDuplicates([...o[c-1].data,...o[c].data]),u={data:d,label:o[c].oper,betweenOp:"|"};e.push(u),console.log(d,"NEW ARRAY VAL remove duplicates")}}else{console.log("obj1",o[c-1].label,o[c-1].data);let d={data:o[c-1].data,label:o[c-1].oper,betweenOp:o[c-1].oper.includes("|")&&"|"||o[c-1].oper.includes("&")&&"&"};console.log("obj2",o[c].label,o[c].data);let u={data:o[c].data,label:o[c].oper,betweenOp:o[c].oper.includes("|")&&"|"||o[c].oper.includes("&")&&"&"};e.push(d),e.push(u)}}else{let d={data:s.data,label:o[c].oper,betweenOp:""};e.push(d),console.log(s.data,"single value")}})}else{let n=filteredData.find(l=>l.equation===a),o={data:n.data,label:n.label,betweenOp:n.equation.includes("|")&&"|"||n.equation.includes("&")&&"&"};e.push(o)}}),console.log("newFiltered Array",e),e=mergeArray(e),console.log("newFiltered Array2",e);let t=[];e.map(a=>{let r=0;const n=new Set;newGraphData.forEach(l=>{a.label.includes(l.label)&&l.data.forEach(s=>{const c=parseInt(s.value);n.has(c)||a.data.find(u=>parseInt(u.value)===c)&&(r++,n.add(c),s.color="green")})}),console.log("Count:",r),console.log("count---------->",r,a.label);let o={label:a.label.replace(/[^a-zA-Z ]/g,""),count:r};t.push(o)}),setTrueCount(t),setLoading(!1)}else newGraphData.map((e,t)=>{e.data.map(a=>a.color&&delete a.color)}),setLoading(!1),_t.error("Equation result false",{id:"equ"});console.log("newGraphData",newGraphData),setGraphData(newGraphData),console.log("GraphData",graphData)},makeSeparateEquation=e=>{const t=[];let a="",r=0;for(let n=0;n<e.length;n++){const o=e[n];o==="("?r++:o===")"&&r--,(o==="&"&&e[n+1]==="&"||o==="|"&&e[n+1]==="|")&&r===0?(t.push(a.trim()),a=""):a+=o}return a.trim()!==""&&t.push(a.trim()),t},replaceLabels=(e,t)=>{for(const a of t){const r=new RegExp(a.label.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g");e=e.replace(r,a.value)}return e},findCommonValues=(e,t)=>{const a=new Set(e.map(n=>n.value));return t.filter(n=>a.has(n.value))};function removeDuplicates(e){return e.reduce((a,r)=>(a.findIndex(o=>o.value===r.value&&o.time===r.time)===-1&&a.push(r),a),[])}const mergeArray=e=>{let t=[];return e.forEach(a=>{let r=t.findIndex(n=>n.label===a.label);if(r!==-1)if(a.betweenOp==="&"){let n=findCommonValues(t[r].data,a.data);t[r].data=n}else a.betweenOp==="|"&&a.data.forEach(n=>{t[r].data.some(o=>o.value===n.value)||t[r].data.push(n)});else t.push({...a})}),t},handlePrevClick=()=>{const e=removeSubstringAndFollowing(equation,newEqa);equation&&equation.replace(newEqa,""),setEquation(e)},handleNextClick=()=>{let e=equation+" "+newEqa;setEquation(e)},handleRemoveBracketClick=()=>{let e=equation.replace("(","").replace(")","");setEquation(e)},handleAddParenthesisClick=e=>{if(e===")"&&(equation.match(/\(/g)||[]).length===(equation.match(/\)/g)||[]).length)return _t.error("Please first add open Parenthesis",{id:"parentheses"});setEquation(t=>t+e)},removeSubstringAndFollowing=(e,t)=>{const a=e.indexOf(t);return a!==-1?e.substring(0,a):e};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[isLoading&&jsxRuntimeExports.jsx(Spin$1,{tip:"loading...",size:"large",style:{top:"50%",position:"absolute",left:"40%"}}),jsxRuntimeExports.jsx("div",{style:{width:"100%",height:"85px"},children:jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"5px",alignItems:"center"},children:[jsxRuntimeExports.jsx(TextField,{id:"Equation",label:"Equation",value:equation,variant:"outlined",disabled:!0,style:{width:"300px"},InputLabelProps:{style:{color:"white"}},InputProps:{style:{color:"white",borderColor:"white"}}}),jsxRuntimeExports.jsxs(FormControl,{sx:{m:1,width:130},children:[jsxRuntimeExports.jsx(InputLabel,{id:"demo-multiple-checkbox-label",style:{color:"white"},children:"Parameters"}),jsxRuntimeExports.jsx(Select,{labelId:"demo-multiple-checkbox-label",id:"demo-multiple-checkbox",value:params,onChange:handleParams,input:jsxRuntimeExports.jsx(OutlinedInput,{label:"Select Parameter",sx:{"&:hover fieldset":{borderColor:"white"},"&.Mui-focused fieldset":{borderColor:"white"}}}),renderValue:e=>e.join(", "),children:Object.keys(graphData).map(e=>jsxRuntimeExports.jsxs(MenuItem$1,{value:graphData[e].label,children:[jsxRuntimeExports.jsx(Checkbox,{checked:params.indexOf(graphData[e].label)>-1}),jsxRuntimeExports.jsx(ListItemText,{primary:graphData[e].label})]},graphData[e].label))})]}),jsxRuntimeExports.jsxs(FormControl,{sx:{m:1,width:130},children:[jsxRuntimeExports.jsx(InputLabel,{id:"demo-multiple-checkbox-label",style:{color:"white"},children:"Operators"}),jsxRuntimeExports.jsx(Select,{labelId:"demo-multiple-checkbox-label",id:"demo-multiple-checkbox",value:operator,onChange:handleOperators,input:jsxRuntimeExports.jsx(OutlinedInput,{label:"Select Operator"}),renderValue:e=>e.join(", "),children:operators.map(e=>jsxRuntimeExports.jsxs(MenuItem$1,{value:e.value,children:[jsxRuntimeExports.jsx(Checkbox,{checked:operator.indexOf(e.value)>-1}),jsxRuntimeExports.jsx(ListItemText,{primary:e.label})]},e.label))})]}),jsxRuntimeExports.jsx(FormControl,{sx:{m:1,width:130},children:jsxRuntimeExports.jsx(TextField,{id:"Value",value:inputVal,type:"number",onChange:handleValueChang,label:"Value",variant:"outlined",InputLabelProps:{style:{color:"white"}}})}),jsxRuntimeExports.jsxs(Box,{style:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"5px"},children:[jsxRuntimeExports.jsx(Button,{className:"mt-3 ms-2",style:{cursor:"pointer"},title:"Remove Last Equation",onClick:handlePrevClick,children:jsxRuntimeExports.jsx(default_1$3,{style:{cursor:"pointer"},onClick:()=>{setEqu(!1),setEquation(""),setParams([]),setOperators([]),setInputVal(0),setEquationArray([]),setTrueCount([]);let e=[...graphData];e.map((t,a)=>{t.data.map(r=>r.color&&delete r.color)}),setGraphData(e)}})}),jsxRuntimeExports.jsx(Button,{className:"mt-3 ms-2",style:{cursor:"pointer"},title:"Remove Last Equation",onClick:handlePrevClick,children:jsxRuntimeExports.jsx(default_1$1,{})}),jsxRuntimeExports.jsx(Button,{className:"mt-3 ms-2",style:{cursor:"pointer"},title:"Add Last Equation",onClick:handleNextClick,children:jsxRuntimeExports.jsx(default_1,{})}),jsxRuntimeExports.jsx(Button,{className:"mt-3 ms-2",title:"Add open parenthesis",value:"(",onClick:e=>{handleAddParenthesisClick("(")},children:"("}),jsxRuntimeExports.jsx(Button,{variant:"contained",onClick:genEquation,children:"Add"}),jsxRuntimeExports.jsx(Button,{className:"mt-3 ms-1",title:"Add && Operator",value:"&&",onClick:e=>{handleAddParenthesisClick(" &&")},children:"&&"}),jsxRuntimeExports.jsx(Button,{className:"mt-3 ms-1",title:"Add || Operator",value:"||",onClick:e=>{handleAddParenthesisClick(" ||")},children:"||"}),jsxRuntimeExports.jsx(Button,{title:"Remove Brackets",onClick:handleRemoveBracketClick,children:jsxRuntimeExports.jsx(default_1$2,{})}),jsxRuntimeExports.jsx(FormControl,{className:"mt-3 ms-1",children:jsxRuntimeExports.jsx(Button,{sx:{p:5},title:"Add closing parenthesis",value:")",onClick:e=>{handleAddParenthesisClick(")")},children:")"})}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Button,{title:"Apply equation filter on graph",className:"mt-3 ms-1",onClick:()=>{evaluateEquation()},children:"Apply"})})]}),jsxRuntimeExports.jsxs(Box,{children:[trueCount.length>0&&jsxRuntimeExports.jsx(Typography,{style:{fontSize:"15px",color:"white",fontFamily:"ubuntu",fontWeight:"500"},children:"Interval"}),jsxRuntimeExports.jsx(Box,{style:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"5px"},children:trueCount.length>0&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:trueCount.length>0&&trueCount.map((e,t)=>jsxRuntimeExports.jsxs(Box,{className:"p-0",style:{fontSize:"12px",color:"white",textTransform:"capitalize"},children:[jsxRuntimeExports.jsx("b",{className:"ms-2 p-0",children:e.label}),":",jsxRuntimeExports.jsx("span",{className:"text-success",children:e.count})]}))})}),trueCount.length>0&&jsxRuntimeExports.jsx(Typography,{style:{fontSize:"10px",color:"white",fontFamily:"ubuntu"},children:"Note - Green dots showing the result of equation."})]})]})})]})},ParameterMonitor=({showCard:e})=>{var L;const{selectedParameterList:t,selectedVehicle:a}=useSelector(v=>v.liveMap),{historyError:r}=useSelector(v=>v.parameterMonitor),{mode:n}=useSelector(v=>v.dashboard);useSelector(v=>v.auth);const o=tokens(n),[l,s]=reactExports.useState(!0),[c,d]=reactExports.useState(!1),[u,f]=reactExports.useState(),[h,_]=reactExports.useState(),[$,S]=reactExports.useState([]),[w,E]=reactExports.useState(),[g,T]=reactExports.useState(!1),[O,D]=reactExports.useState(!1),[N,M]=reactExports.useState(!1),[z,p]=reactExports.useState(!1),[j,x]=reactExports.useState({});let R=useDispatch();reactExports.useEffect(()=>{console.log("historyError",r)},[r]),reactExports.useEffect(()=>{var v;c&&u&&h&&Object.keys(a).length>0&&((v=t[0])==null?void 0:v.params.length)>0?m():_t.error("Please Select Date And Vehicle",{id:"error history"})},[h,a]),reactExports.useEffect(()=>{p(!0)},[a]),reactExports.useEffect(()=>{(async()=>{if(a!=null&&a.imei){const C=dayjs(),W=C.startOf("day").format("MM/DD/YYYY HH:mm:ss"),G=C.endOf("day").format("MM/DD/YYYY HH:mm:ss"),X={imei:[a.imei],startDate:W,endDate:G};try{const y=await getReport(X);x(y.data[0].data)}catch(y){console.error("Error fetching report:",y)}}})()},[a,R]),reactExports.useEffect(()=>{var v;if(w&&w.length>0&&((v=t[0])==null?void 0:v.params.length)>0){T(!0);const C=t[0].params.map(W=>{let G=W.label;G==="maininputvoltage"&&(G="mainInputVoltage");const X=[];let y=null,b=null;return w.forEach(A=>{A.data.forEach(V=>{const k=new Date(V.createdAt),I=k.toISOString().substring(0,10),q=k.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0});y!==I&&(X.push({Date:I,Time:q,Date_Time:I,DateTime:`${I} ${q}`,value:null}),y=I,b=q),X.push({Date:I,Time:q,Date_Time:y!==I?I:b,DateTime:`${I} ${q}`,value:V[G]})})}),{label:G,randomColor:P(),data:X}});console.log("graphValues",C),S(C),T(!1)}console.log(w,"historyData")},[w,t]);const m=async()=>{const v={imei:[a==null?void 0:a.imei],type:"group",startDate:(u==null?void 0:u.slice(0,10))+" 00:00:00",endDate:(h==null?void 0:h.slice(0,10))+" 23:59:59",frequency:5};try{T(!0);const C=await R(getParameterHistory(v));console.log("data",C==null?void 0:C.payload),E(C==null?void 0:C.payload),T(!1)}catch(C){console.error("Error while fetching parameter history:",C),T(!1)}},P=()=>"#"+Math.floor(Math.random()*16777215).toString(16);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[e&&jsxRuntimeExports.jsx(Box,{style:{background:themeColor.bgColor,border:"1px solid white",borderRadius:"5px",height:O?"90px":"60px",display:"flex",flexDirection:"row",justifyContent:"left",alignItems:"center",gap:"10px"},children:O?jsxRuntimeExports.jsx(Analytics,{style:{borderBottom:"2px solid red"},graphData:$,setGraphData:S,setEqu:M}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Box,{sx:{display:"flex",textAlign:"center",alignItems:"center",color:"white"},children:[jsxRuntimeExports.jsx(Switch,{checked:c,onChange:()=>{var v;Object.keys(a).length>0&&((v=t[0])==null?void 0:v.params.length)>0?d(!c):_t.error("Please Select Vehicle and Parameters.")},color:"white",inputProps:{"aria-label":"toggle active state"}}),jsxRuntimeExports.jsx(Typography,{style:{fontSize:"18px",fontWeight:"bold"},children:"History"})]}),c&&!O?jsxRuntimeExports.jsx(Box,{sx:{},children:jsxRuntimeExports.jsx(DateTimePicker,{setEndDate:_,setStartDate:f,isTimeEnable:!0})}):jsxRuntimeExports.jsxs(Box,{sx:{display:"flex",textAlign:"center",alignItems:"center",color:"white"},children:[jsxRuntimeExports.jsx(Switch,{checked:l,onChange:()=>{s(!l)},color:"white",inputProps:{"aria-label":"toggle active state"}}),jsxRuntimeExports.jsx(Typography,{style:{fontSize:"18px",fontWeight:"bold"},children:l?"List":"Grid-View"})]})]})}),c&&$.length>0?jsxRuntimeExports.jsx(Box,{sx:{width:"95%",margin:"2%",height:"95vh",mt:O?"1.5%":"5"},children:$.length>0&&!r&&!g?jsxRuntimeExports.jsx(ParameterGraph,{graphData:$,setGraphData:S,setEqu:M,isEqu:N,analysis:O,setShowAnalysis:D}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[g&&!r&&jsxRuntimeExports.jsx(Card$1,{style:{width:"70%",margin:"auto"},children:jsxRuntimeExports.jsx("div",{style:{display:"flex",justifyContent:"center"},children:jsxRuntimeExports.jsx(CircularProgress,{})})}),!g&&!r&&jsxRuntimeExports.jsx(Typography,{children:"No data"})]})}):jsxRuntimeExports.jsx(Box,{sx:{width:"95%",margin:"2%",height:"95vh",mt:"5%"},children:!c&&((L=t[0])==null?void 0:L.params.length)>0?l?jsxRuntimeExports.jsx(Box,{sx:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(250px, 1fr))",gap:"20px",textAlign:"center"},children:t[0].params.map((v,C)=>jsxRuntimeExports.jsx(Box,{variant:"outlined",sx:{color:o.grey[400],border:"1px solid white",fontSize:"16px",textTransform:"capitalize",padding:"30px",backgroundColor:o.grey[200],borderRadius:"5px","&:hover":{background:themeColor.bgShadow}},children:v.label==="speed"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Typography,{children:v.label}),jsxRuntimeExports.jsxs(Typography,{children:[v.value," km/h"]})]}):v.label==="mainInputVoltage"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Typography,{children:v.label}),jsxRuntimeExports.jsxs(Typography,{children:[v.value," voltage"]})]}):v.label==="ignition"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Typography,{children:v.label}),jsxRuntimeExports.jsx(Typography,{children:v.value?"ON":"OFF"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Typography,{children:v.label}),jsxRuntimeExports.jsx(Typography,{children:v.value})]})},C))}):jsxRuntimeExports.jsx(TableContainer,{component:Paper,children:jsxRuntimeExports.jsxs(Table,{children:[jsxRuntimeExports.jsx(TableHead,{children:jsxRuntimeExports.jsxs(TableRow,{sx:{bgcolor:themeColor.bgShadow},children:[jsxRuntimeExports.jsx(TableCell,{sx:{fontSize:"20px",fontWeight:"bold",fontFamily:"ubuntu",color:"#686868"},children:"Parameter"}),jsxRuntimeExports.jsx(TableCell,{sx:{fontSize:"20px",fontWeight:"bold",fontFamily:"ubuntu",color:"#686868"},children:"Value"})]})}),jsxRuntimeExports.jsx(TableBody,{children:t[0].params.map((v,C)=>jsxRuntimeExports.jsxs(TableRow,{sx:{"&:hover":{backgroundColor:themeColor.bgShadow}},children:[jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx(Typography,{sx:{textTransform:"capitalize"},children:v.label})}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx(Typography,{children:v.value})})]},C))})]})}):jsxRuntimeExports.jsx(Card$1,{style:{width:"70%",margin:"auto"},children:g?jsxRuntimeExports.jsx("div",{style:{display:"flex",justifyContent:"center"},children:jsxRuntimeExports.jsx(CircularProgress,{})}):jsxRuntimeExports.jsx(Typography,{textAlign:"center",children:c?"No history":"Sorry! No parameters selected, Please select a vehicle and parameters to view the values."})})})]})},ParameterMonitor$1=ParameterMonitor;function Index(){const{w_customer_id:e}=useSelector(y=>y.auth),{mode:t,selectedVehicleGroup:a}=useSelector(y=>y.dashboard),{collapsed:r}=useSelector(y=>y.auth),{vehicleList:n,onlineVehicle:o}=useSelector(y=>y.liveMap),{locationData:l,selectedVehicle:s}=useSelector(y=>y.liveMap),c=tokens(t),[d,u]=reactExports.useState(!1),[f,h]=reactExports.useState(!0),[_,$]=reactExports.useState([]),[S,w]=reactExports.useState(!1),[E,g]=reactExports.useState(),[T,O]=reactExports.useState([]),[D,N]=reactExports.useState(!1),[M,z]=reactExports.useState(""),[p,j]=reactExports.useState(""),[x,R]=reactExports.useState(""),[m,P]=reactExports.useState("");let L=useDispatch();reactExports.useEffect(()=>{W()},[]),reactExports.useEffect(()=>{var y,b,A;Object.keys(s).length===0&&n.length>0&&L(setSelectedVehicleName({imei:(b=(y=n[0])==null?void 0:y.imei[0])==null?void 0:b.mac_id,reg_id:(A=n[0])==null?void 0:A.registration_id}))},[s,n]),reactExports.useEffect(()=>{O([]),L(setActiveParameters([{reg_id:"",imei:"",params:[]}]))},[s]);const v=y=>l==null?void 0:l.some(b=>String(b.latestDocument.imei)===String(y)&&b.latestDocument.speed>0&&(b.latestDocument.ignition===!0||b.latestDocument.ignition===1)),C=y=>l==null?void 0:l.some(b=>String(b.latestDocument.imei)===String(y)&&b.latestDocument.speed<=0&&(b.latestDocument.ignition===!0||b.latestDocument.ignition===1)),W=async()=>{try{let y=[],b=[];const A=await L(getVehicleList({w_customer_id:e}));if(A.payload&&Array.isArray(A.payload)){A.payload.forEach(I=>{var q,F,J;I.imei&&Array.isArray(I.imei)&&I.imei.length>0&&((q=I.imei[0])!=null&&q.mac_id)?(y.push({id:I.id,label:I.registration_id,value:(F=I.imei[0])==null?void 0:F.mac_id,workShop:I==null?void 0:I.workshop,vehicle_group:I==null?void 0:I.vehicle_group}),b.push((J=I.imei[0])==null?void 0:J.mac_id)):console.error("IMEI data not found for item:",I)});const V="one",k=b;b.length>0&&L(getLocationData({type:V,imei:k})),$(y),L(getVehicleGroup({w_customer_id:e}))}else console.error("Unexpected data format or empty payload:",A),_t.error("Unexpected data format or empty payload")}catch(y){console.error("Error fetching vehicle data:",y),_t.error(`Error fetching vehicle data: ${y}`)}},G=async y=>{const{label:b,imei:A,id:V,reg_id:k,checked:I}=y;g(Z=>Z.map(ee=>ee.id===V?{...ee,checked:!I}:ee));let q=[...T],F=[...T];if(!I)l.forEach(Z=>{Z.latestDocument.imei===A&&(q.push({label:b,value:Z.latestDocument[b==="maininputvoltage"?"mainInputVoltage":b]}),F=q,O(q))});else{let Z=T.filter(ee=>ee.label!==b);F=Z,O(Z)}L(setActiveParameters([{reg_id:k,imei:A,params:F}]))},X=_.filter(y=>{var ne,ie,H,ae,re;if(!(Object.keys(a).length===0||y.vehicle_group===a.id))return!1;const A=(ne=y==null?void 0:y.label)==null?void 0:ne.toLowerCase().includes(M.toLowerCase()),V=m===""||((ie=y==null?void 0:y.workShop)==null?void 0:ie.region)===m,k=x===""||((ae=(H=y==null?void 0:y.workShop)==null?void 0:H.state)==null?void 0:ae.toLowerCase())===(((re=x==null?void 0:x.toString())==null?void 0:re.toLowerCase())||""),I=y.value,q=String(y.value).toLowerCase(),F=o.some(U=>String(U).toLowerCase()===q),J=!o.some(U=>String(U).toLowerCase()===q),Z=F&&v(I),ee=F&&C(I);return A&&V&&k&&(p==="online"?F:p==="offline"?J:p==="running"?Z:p==="idling"?ee:!0)}).sort((y,b)=>y.label.localeCompare(b.label));return jsxRuntimeExports.jsxs("div",{className:"app",children:[jsxRuntimeExports.jsx(LeftSideBar2,{}),jsxRuntimeExports.jsxs("main",{className:"content",style:{width:"100%",background:"#dad6d626"},children:[jsxRuntimeExports.jsx(LiveMapTopBar,{title:"Parameter Monitor",setShowVehicles:u,showVehicles:d,setShowCard:h,showCard:f,showParameters:S,setShowParameters:w,setShowVehiclesGroup:N,showVehiclesGroup:D}),jsxRuntimeExports.jsx(VehicleGroups,{setShowVehiclesGroup:N,showVehiclesGroup:D,where:"tripmonitor"}),jsxRuntimeExports.jsxs(Box,{style:{display:"flex",width:"100%",height:"95vh"},children:[jsxRuntimeExports.jsx(Box,{style:{width:d||S?"80%":"100%",height:"93vh",background:c.grey[100]},children:jsxRuntimeExports.jsx(ParameterMonitor$1,{showCard:f})}),d&&!S&&jsxRuntimeExports.jsx(Box,{style:{width:r?"21%":"20%",backgroundColor:c.grey[100]},children:jsxRuntimeExports.jsx(VehicleMenu,{vehicleData:X,title:"Live Monitor",setShowVehicles:u,showVehicles:d,setSearchedTerm:z,setOptions:j,setState:R,setRegion:P,searchTerm:M,options:p,state:x,region:m})}),S&&!d&&jsxRuntimeExports.jsx(Box,{style:{width:r?"21%":"20%",backgroundColor:c.grey[100]},children:jsxRuntimeExports.jsx(Parameters,{parametersData:E,setParameterData:g,handleParameterChange:G})})]})]})]})}export{Index as default};
