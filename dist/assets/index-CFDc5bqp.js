import{a_ as f,a$ as d,b as n,j as s,dT as T,cf as R,dU as k,dV as y,dW as g,dX as t,dY as D,bm as _,f3 as v,fu as A,bw as B,bq as E,aW as x,ba as I}from"./index-Hdh_iyJ6.js";import"./BatchRecipt2-CDC2M03n.js";import"./index.esm-m7vJqz6u.js";import{S as U}from"./ServicesTopBar-DMAf68c_.js";import{A as V}from"./AddBreakdown-Bmah-cxP.js";import"./Add-CfQd0G1u.js";import"./formik.esm-Dljs5aHS.js";import"./Autocomplete-DfEdErXj.js";import"./Remove-B9EMp4_T.js";import"./useMediaQuery-BZ9-tOTX.js";const Y=()=>{const o=f(),{ticketList:r}=d(e=>e.rsaReport),{searchTerm:c}=d(e=>e.inspection),[h,p]=n.useState([]),[i,l]=n.useState(0),[a,b]=n.useState(12),C=async()=>{try{o(A())}catch(e){console.log("error",e)}};n.useEffect(()=>{C()},[]),n.useEffect(()=>{},[r]);const P=(e,u)=>{l(u)},S=e=>{b(parseInt(e.target.value,10)),l(0)},L=r.filter(e=>e.ticket_id.toLowerCase().includes(c.toLowerCase())||e.status.toLowerCase().includes(c.toLowerCase())||e.vehicle.toLowerCase().includes(c.toLowerCase())||e.user.first_name.toLowerCase().includes(c.toLowerCase())||e.user.last_name.toLowerCase().includes(c.toLowerCase()));return s.jsxs(T,{component:R,children:[s.jsxs(k,{children:[s.jsx(y,{children:s.jsxs(g,{children:[s.jsx(t,{children:"Sr no"}),s.jsx(t,{children:"Req ID"}),s.jsx(t,{children:"User"}),s.jsx(t,{children:"Created Date"}),s.jsx(t,{children:"Vehicle"}),s.jsx(t,{children:"Current Status"})]})}),s.jsx(D,{children:L.slice(i*a,i*a+a).map((e,u)=>{var j,m;return s.jsxs(g,{children:[s.jsx(t,{children:i*a+u+1}),s.jsx(t,{children:e==null?void 0:e.ticket_id}),s.jsx(t,{children:((j=e==null?void 0:e.user)==null?void 0:j.first_name)+" "+((m=e==null?void 0:e.user)==null?void 0:m.last_name)}),s.jsx(t,{children:_(new Date(e==null?void 0:e.created)).format("DD-MM-YYY HH:mm")}),s.jsx(t,{children:e==null?void 0:e.vehicle}),s.jsx(t,{children:e==null?void 0:e.status})]},e==null?void 0:e.id)})})]}),s.jsx(v,{rowsPerPageOptions:[12],component:"div",count:h.length,rowsPerPage:a,page:i,onPageChange:P,onRowsPerPageChange:S})]})},G=()=>{d(a=>a.dashboard);const{w_customer_id:o}=d(a=>a.auth);let r=f();n.useState(!1);const[c,h]=n.useState(!1),[p,i]=n.useState(!1);n.useState([]),n.useEffect(()=>{l()},[]);const l=async()=>{try{const a=await r(B({w_customer_id:o}))}catch{}};return s.jsxs("div",{className:"app",children:[s.jsx(E,{}),s.jsxs("main",{className:"content",style:{width:"100%",background:"#dad6d626"},children:[s.jsx(U,{title:"Rsa Reports"}),s.jsx(x,{style:{display:"flex",width:"100%",height:"95vh"},children:s.jsxs(x,{style:{width:"100%",background:I.bgShadow},children:[s.jsx(V,{where:"RSA",isAdd:c,isUpdate:p,setIsAdd:h,setIsUpdate:i}),s.jsx(x,{sx:{m:"10px"},children:s.jsx(Y,{})})]})})]})]})};export{G as default};
