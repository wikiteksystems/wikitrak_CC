import{a$ as L,b0 as l,r as a,j as s,dY as R,ch as T,dZ as D,d_ as y,d$ as S,e0 as t,e1 as k,bn as v,f7 as _,fy as A,bx as I,br as V,aX as j,bb as B}from"./index-B9W9A0YN.js";import"./DateTimePicker-BNh5nUvH.js";import"./index.esm-R3Gd3xrx.js";import{S as E}from"./ServicesTopBar-BAE5mNsR.js";import{A as Y}from"./AddBreakdown-Q9h_J_O3.js";import"./Add-tKe-T8er.js";import"./formik.esm-D-reUPUz.js";import"./Autocomplete-XJJmeDcA.js";import"./Remove-CXcyEgiF.js";import"./useMediaQuery-BlPD5u51.js";const H=()=>{const m=L(),{ticketList:d}=l(e=>e.rsaReport),{searchTerm:i}=l(e=>e.inspection),[o,g]=a.useState([]),[r,h]=a.useState(0),[n,x]=a.useState(12),u=async()=>{try{m(A())}catch(e){console.log("error",e)}};a.useEffect(()=>{u()},[]),a.useEffect(()=>{},[d]);const p=(e,c)=>{h(c)},f=e=>{x(parseInt(e.target.value,10)),h(0)},b=d.filter(e=>e.ticket_id.toLowerCase().includes(i.toLowerCase())||e.status.toLowerCase().includes(i.toLowerCase())||e.vehicle.toLowerCase().includes(i.toLowerCase())||e.user.first_name.toLowerCase().includes(i.toLowerCase())||e.user.last_name.toLowerCase().includes(i.toLowerCase()));return s.jsxs(R,{component:T,children:[s.jsxs(D,{children:[s.jsx(y,{children:s.jsxs(S,{children:[s.jsx(t,{children:"Sr no"}),s.jsx(t,{children:"Req ID"}),s.jsx(t,{children:"User"}),s.jsx(t,{children:"Created Date"}),s.jsx(t,{children:"Vehicle"}),s.jsx(t,{children:"Current Status"})]})}),s.jsx(k,{children:b.slice(r*n,r*n+n).map((e,c)=>{var C,P;return s.jsxs(S,{children:[s.jsx(t,{children:r*n+c+1}),s.jsx(t,{children:e==null?void 0:e.ticket_id}),s.jsx(t,{children:((C=e==null?void 0:e.user)==null?void 0:C.first_name)+" "+((P=e==null?void 0:e.user)==null?void 0:P.last_name)}),s.jsx(t,{children:v(new Date(e==null?void 0:e.created)).format("DD-MM-YYY HH:mm")}),s.jsx(t,{children:e==null?void 0:e.vehicle}),s.jsx(t,{children:e==null?void 0:e.status})]},e==null?void 0:e.id)})})]}),s.jsx(_,{rowsPerPageOptions:[12],component:"div",count:o.length,rowsPerPage:n,page:r,onPageChange:p,onRowsPerPageChange:f})]})},F=()=>{const{mode:m,showVehicles:d,selectedVehicleGroup:i}=l(c=>c.dashboard),{w_customer_id:o}=l(c=>c.auth);let g=L();const[r,h]=a.useState(!1),[n,x]=a.useState(!1),[u,p]=a.useState(!1),[f,b]=a.useState([]);a.useEffect(()=>{e()},[]);const e=async()=>{try{const c=await g(I({w_customer_id:o}))}catch{}};return s.jsxs("div",{className:"app",children:[s.jsx(V,{}),s.jsxs("main",{className:"content",style:{width:"100%",background:"#dad6d626"},children:[s.jsx(E,{title:"Rsa Reports"}),s.jsx(j,{style:{display:"flex",width:"100%",height:"95vh"},children:s.jsxs(j,{style:{width:"100%",background:B.bgShadow},children:[s.jsx(Y,{where:"RSA",isAdd:n,isUpdate:u,setIsAdd:x,setIsUpdate:p}),s.jsx(j,{sx:{m:"10px"},children:s.jsx(H,{})})]})})]})]})};export{F as default};
