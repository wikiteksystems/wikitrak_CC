import{a_ as z,a$ as O,b as T,fi as pe,b8 as he,eX as xe,fB as fe,fC as be,fD as ge,b7 as j,fe as ee,fd as te,fE as K,bB as _e,fF as X,j as t,aW as M,ep as y,dK as n,bc as R,bY as je,T as ie,aY as Y,fG as we,fn as re,dP as oe,c4 as J,fy as ae,fg as ye,ba as ve,f1 as se,f2 as ne,ed as le,f3 as ce}from"./index-8RLuTHXH.js";import{d as Z}from"./Add-CNkriMHU.js";import{u as ke,F as de}from"./formik.esm-DN_VLGcm.js";import{c as Q,f as Ce,a as u,e as Ne}from"./index.esm-DJZSA65K.js";import{A as G}from"./Autocomplete-BETCnoTa.js";import{R as qe,A as Se,D as Te}from"./Remove-DdmkHbE3.js";import{u as ue}from"./useMediaQuery-D7MCA-Hv.js";function Le(){var c,l,b,m,k,F;const h=z(),{vehicles_details:N}=O(i=>i.dashboard),{w_customer_id:S}=O(i=>i.auth),{breakdownTopics:v,UpdatedBreakdownData:r,technicianList:w,breakdownSubTopics:q}=O(i=>i.breakdown),{sparePartList:C}=O(i=>i.inspection);JSON.parse(localStorage.getItem("w_userDetails"));const[L,P]=T.useState(null),[I,E]=T.useState(""),[B,W]=T.useState(!1),[V,$]=T.useState(!1);T.useEffect(()=>{r&&(P(r.attachment),E("edit"))},[r]),console.log(q,"brekdownSubTopics"),T.useEffect(()=>{console.log("technician list",w)},[w]);const D=i=>(N==null?void 0:N.filter(o=>o.id===i))||[],x=i=>{const o=i.currentTarget.files[0];if(e.setFieldValue("attachment",o),E((o==null?void 0:o.name)||""),o&&o.type.startsWith("image/")){const g=new FileReader;g.onload=()=>P(g.result),g.readAsDataURL(o)}else P(null)},f=async()=>{$(!0),navigator.geolocation?navigator.geolocation.getCurrentPosition(async i=>{const{latitude:o,longitude:g}=i.coords;try{const _=await we(o,g);e.setFieldValue("location",_)}catch{j.error("Failed to convert coordinates to address.")}finally{$(!1)}},()=>{j.error("Failed to retrieve location."),$(!1)}):(j.error("Geolocation not supported."),$(!1))};let a=r==null?void 0:r.breakdown_parts.map(i=>{var o;return{spare_parts:(o=i==null?void 0:i.spare_parts)==null?void 0:o.id,quantity:i==null?void 0:i.quantity}});console.log(r,"UpdatedBreakdownData");const e=ke({initialValues:{submission_date:(r==null?void 0:r.submission_date)||pe(new Date),vehicle:((c=r==null?void 0:r.vehicle)==null?void 0:c.id)||"",breakdown_topic:((l=r==null?void 0:r.breakdown_topic)==null?void 0:l.id)||"",technician:((b=r==null?void 0:r.technician)==null?void 0:b.id)||"",description:(r==null?void 0:r.description)||"",mob_no:(r==null?void 0:r.mob_no)||"",attachment:(r==null?void 0:r.attachment)||"",location:(r==null?void 0:r.location)||"",contact_person:(r==null?void 0:r.contact_person)||"",breakdown_parts:a||[],breakdown_sub_topic:(m=r==null?void 0:r.breakdown_sub_topic)==null?void 0:m.id},validationSchema:Q({submission_date:Ce().required("Submission Date is required"),vehicle:u().required("Vehicle is required"),breakdown_topic:u().required("Breakdown Topic is required"),breakdown_sub_topic:u().required("breakdown_sub_topic  is required"),technician:u().required("Technician is required"),description:u().required("Description is required"),mob_no:u().matches(/^\d{10,11}$/,"Mobile number must be 10-11 digits").required("Mobile number is required"),location:u().required("Location is required"),contact_person:u().required("Contact Person is required"),attachment:Ne()}),onSubmit:async(i,{resetForm:o})=>{var g,_;try{W(!0);const A=D(i.vehicle);i.user=S,i.status="Open";const d=he(i.submission_date).format("YYYY-MM-DDTHH:mm:ss");i.submission_date=d;let p;if(r){typeof i.attachment=="string"&&(i.attachment=await xe(i.attachment));const H=r.id;p=await h(fe({values:i,id:H}))}else p=await h(be(i));if(console.log("apiResponse",p),p.payload.success){console.log(p.payload),console.log("values",i.breakdown_parts);const{id:H}=(g=p==null?void 0:p.payload)==null?void 0:g.data,{breakdown_parts:me}=i;let Me=await h(ge({breakdown:H,parts:me}));j.success("Breakdown submitted successfully!"),o(),P(null),E(""),h(ee(null)),h(te(!1)),h(K(!1)),h(_e(S))}else j.error(((_=p.payload.error)==null?void 0:_.detail)||"Submission failed. Please try again.")}catch(A){console.log("eror",A)}finally{W(!1)}}}),s=i=>{var g;const o=(g=v.find(_=>_.id===i))==null?void 0:g.sub_topics;console.log(o,"filter Data:>>"),h(X(o||[]))};return T.useEffect(()=>{var i;if(r){const o=(i=v.find(g=>{var _;return g.id===((_=r==null?void 0:r.breakdown_topic)==null?void 0:_.id)}))==null?void 0:i.sub_topics;h(X(o||[]))}},[r]),t.jsx(M,{sx:{p:3,maxWidth:"100%",margin:"auto"},children:t.jsx("form",{onSubmit:e.handleSubmit,children:t.jsxs(y,{container:!0,spacing:2,children:[t.jsx(y,{item:!0,xs:12,sm:6,children:t.jsx(n,{label:"Date",name:"submission_date",type:"datetime-local",value:e.values.submission_date,onChange:e.handleChange,onBlur:e.handleBlur,error:e.touched.submission_date&&!!e.errors.submission_date,helperText:e.touched.submission_date&&e.errors.submission_date,fullWidth:!0,InputLabelProps:{shrink:!0},disabled:!0})}),t.jsx(y,{item:!0,xs:12,sm:6,children:t.jsx(G,{options:N,getOptionLabel:i=>i.registration_id||"",value:N.find(i=>i.id===e.values.vehicle)||null,onChange:(i,o)=>e.setFieldValue("vehicle",(o==null?void 0:o.id)||""),renderInput:i=>t.jsx(n,{...i,label:"Vehicle",error:e.touched.vehicle&&!!e.errors.vehicle,helperText:e.touched.vehicle&&e.errors.vehicle})})}),t.jsx(y,{item:!0,xs:12,sm:6,children:t.jsx(G,{options:v,getOptionLabel:i=>i.topic,value:v.find(i=>i.id===e.values.breakdown_topic)||null,onChange:(i,o)=>{e.setFieldValue("breakdown_topic",(o==null?void 0:o.id)||""),s(o==null?void 0:o.id)},renderInput:i=>t.jsx(n,{...i,label:"Breakdown Topic",error:e.touched.breakdown_topic&&!!e.errors.breakdown_topic,helperText:e.touched.breakdown_topic&&e.errors.breakdown_topic})})}),t.jsx(y,{item:!0,xs:12,sm:6,children:t.jsx(G,{options:q,getOptionLabel:i=>i.name,value:q.find(i=>i.id===e.values.breakdown_sub_topic)||null,onChange:(i,o)=>e.setFieldValue("breakdown_sub_topic",(o==null?void 0:o.id)||""),renderInput:i=>t.jsx(n,{...i,label:"Breakdown Sub Topic",error:e.touched.breakdown_sub_topic&&!!e.errors.breakdown_sub_topic,helperText:e.touched.breakdown_sub_topic&&e.errors.breakdown_sub_topic})})}),t.jsx(y,{item:!0,xs:12,sm:6,children:t.jsx(G,{options:w,getOptionLabel:i=>`${i.first_name} ${i.last_name}`||"",value:w.find(i=>i.id===e.values.technician)||null,onChange:(i,o)=>e.setFieldValue("technician",(o==null?void 0:o.id)||""),renderInput:i=>t.jsx(n,{...i,label:"Assign technician",error:e.touched.technician&&!!e.errors.technician,helperText:e.touched.technician&&e.errors.technician})})}),t.jsx(y,{item:!0,xs:12,sm:6,children:t.jsx(n,{label:"Contact Person Name*",name:"contact_person",value:e.values.contact_person,onChange:e.handleChange,onBlur:e.handleBlur,error:e.touched.contact_person&&!!e.errors.contact_person,helperText:e.touched.contact_person&&e.errors.contact_person,fullWidth:!0})}),t.jsx(y,{item:!0,xs:12,sm:6,children:t.jsx(n,{label:"Customer complaint",name:"description",value:e.values.description,onChange:e.handleChange,onBlur:e.handleBlur,error:e.touched.description&&!!e.errors.description,helperText:e.touched.description&&e.errors.description,fullWidth:!0})}),t.jsx(y,{item:!0,xs:12,sm:6,children:t.jsx(n,{label:"Contact Person Mobile No*",name:"mob_no",value:e.values.mob_no,onChange:e.handleChange,onBlur:e.handleBlur,error:e.touched.mob_no&&!!e.errors.mob_no,helperText:e.touched.mob_no&&e.errors.mob_no,fullWidth:!0})}),t.jsxs(y,{item:!0,xs:12,sm:6,children:[t.jsx(n,{label:"Location",name:"location",value:e.values.location,onChange:e.handleChange,onBlur:e.handleBlur,error:e.touched.location&&!!e.errors.location,helperText:e.touched.location&&e.errors.location,fullWidth:!0}),t.jsx(R,{size:"small",onClick:f,disabled:V,sx:{mt:1},children:V?t.jsx(je,{size:16}):"Use Current Location"})]}),t.jsxs(y,{item:!0,xs:12,children:[t.jsx(ie,{variant:"h6",gutterBottom:!0,children:"Parts Requirement*(If any information available)"}),(F=(k=e==null?void 0:e.values)==null?void 0:k.breakdown_parts)==null?void 0:F.map((i,o)=>{var A;const g=(A=e.values)==null?void 0:A.breakdown_parts.map(d=>d.spare_parts).filter((d,p)=>p!==o),_=C.filter(d=>!g.includes(d.id));return t.jsxs(y,{container:!0,spacing:2,marginTop:"0px",alignItems:"center",children:[t.jsx(y,{item:!0,xs:12,md:6,children:t.jsx(G,{options:_,getOptionLabel:d=>d.description,value:C.find(d=>d.id===i.spare_parts)||null,onChange:(d,p)=>e.setFieldValue(`breakdown_parts[${o}].spare_parts`,(p==null?void 0:p.id)||""),renderInput:d=>t.jsx(n,{...d,label:"Spare Part",fullWidth:!0})})}),t.jsx(y,{item:!0,xs:8,md:4,children:t.jsxs(M,{display:"flex",alignItems:"center",children:[t.jsx(Y,{onClick:()=>e.setFieldValue(`breakdown_parts[${o}].quantity`,Math.max(1,i.quantity-1)),children:t.jsx(qe,{})}),t.jsx(n,{value:i.quantity,type:"number",inputProps:{min:1},onChange:d=>e.setFieldValue(`breakdown_parts[${o}].quantity`,parseInt(d.target.value,10)),sx:{width:90,mx:1,textAlign:"center"}}),t.jsx(Y,{onClick:()=>e.setFieldValue(`breakdown_parts[${o}].quantity`,i.quantity+1),children:t.jsx(Se,{})})]})}),t.jsx(y,{item:!0,xs:4,md:2,children:t.jsx(Y,{color:"error",onClick:()=>{var p;const d=[...(p=e.values)==null?void 0:p.breakdown_parts];d.splice(o,1),e.setFieldValue("breakdown_parts",d)},children:t.jsx(Te,{})})})]},o)}),t.jsx(R,{variant:"outlined",onClick:()=>{var g,_,A;const i=(_=(g=e.values)==null?void 0:g.breakdown_parts)==null?void 0:_.map(d=>d.spare_parts);if(C.filter(d=>!(i!=null&&i.includes(d.id))).length===0){j.error("All available spare parts have already been added.");return}e.setFieldValue("breakdown_parts",[...(A=e.values)==null?void 0:A.breakdown_parts,{spare_parts:"",quantity:1}])},sx:{mt:2},children:"+ Add Spare Part"})]}),t.jsxs(y,{item:!0,xs:12,children:[t.jsx("input",{type:"file",onChange:x,accept:"image/*",style:{marginTop:"10px"}}),L&&t.jsx(M,{mt:1,children:t.jsx("img",{src:L,alt:"Preview",style:{width:"100px",height:"auto"}})})]}),t.jsx(y,{item:!0,xs:12,children:t.jsx(R,{variant:"contained",type:"submit",fullWidth:!0,disabled:B,children:B?"Submitting...":"Submit Breakdown"})})]})})})}const U="https://wikitek.io/api/v1",Fe=({setIsAdd:h,setIsUpdate:N})=>{const{vehicleList:S}=O(a=>a.liveMap),v=ue("(min-width:600px)"),[r,w]=T.useState(!1),[q,C]=T.useState(!1),L=z(),P=a=>{C(!0);const{firstName:e,lastName:s,email:c,mobile:l,password:b,vehicleNo:m,location:k,model:F,description:i}=a;console.log("Form Submitted:",a);let o={first_name:e,last_name:s,email:c,mobile:l,password:b};try{J.post(`${U}/users/new/user/register/`,o).then(_=>{var p;let A={ticket_id:"",user:(p=_==null?void 0:_.data)==null?void 0:p.id,status:"open",description:i,latlong:k,vehicle:m,model:F};J.post(`${U}/tickets/create/ticket/`,A).then(H=>{h(!1),N(!1),L(ae()),C(!1),j.success("User registered and Ticket created successfully")}).catch(()=>{C(!1),j.error("Error occurred while creating ticket")})}).catch(_=>{C(!1),j.error("Error occurred while registering user")})}catch{C(!1),j.error("Error occurred while registering user")}},I=async a=>{w(!0),navigator.geolocation?navigator.geolocation.getCurrentPosition(async e=>{const{latitude:s,longitude:c}=e.coords;try{a("location",`${s},${c}`)}catch(l){console.error("Error fetching address:",l),j.error("Failed to convert coordinates to address.")}finally{w(!1)}},e=>{console.error("Geolocation Error:",e),j.error("Failed to retrieve location. Please try again."),w(!1)}):(j.error("Geolocation is not supported by this browser."),w(!1))},E=/^((\+[1-9]{1,4}[ -]?)|(\([0-9]{2,3}\)[ -]?)|([0-9]{2,4})[ -]?)*?[0-9]{3,4}[ -]?[0-9]{3,4}$/,B=Q().shape({firstName:u().required("required"),lastName:u().required("required"),fullName:u().required("required"),vehicleNo:u().required("required"),model:u().required("required"),email:u().email("invalid email").required("required"),mobile:u().matches(E,"Phone number is not valid").required("required"),location:u().required("required"),password:u().required("required"),description:u().required("required")}),W=JSON.parse(localStorage.getItem("w_userDetails")),{email:V,first_name:$,last_name:D,mobile:x}=W,f={firstName:$||"",lastName:D||"",fullName:`${$} ${D}`||"",vehicleNo:"",email:V||"",model:"",mobile:x||"",location:"",password:"",description:""};return t.jsxs(M,{m:"20px",children:[q&&t.jsx(re,{}),t.jsx(de,{onSubmit:P,initialValues:f,validationSchema:B,children:({values:a,errors:e,touched:s,handleBlur:c,handleChange:l,handleSubmit:b,setFieldValue:m})=>t.jsxs("form",{onSubmit:b,children:[t.jsxs(M,{display:"grid",gap:"30px",gridTemplateColumns:"repeat(4, minmax(0, 1fr))",sx:{"& > div":{gridColumn:v?void 0:"span 4"}},children:[t.jsx(n,{fullWidth:!0,variant:"filled",type:"text",label:"First Name",onBlur:c,onChange:l,value:a.firstName,name:"firstName",error:!!s.firstName&&!!e.firstName,helperText:s.firstName&&e.firstName,sx:{gridColumn:"span 2"}}),t.jsx(n,{fullWidth:!0,variant:"filled",type:"text",label:"Last Name",onBlur:c,onChange:l,value:a.lastName,name:"lastName",error:!!s.lastName&&!!e.lastName,helperText:s.lastName&&e.lastName,sx:{gridColumn:"span 2"}}),t.jsx(n,{fullWidth:!0,variant:"filled",type:"text",label:"Full Name",onBlur:c,onChange:l,value:a.fullName,name:"fullName",error:!!s.fullName&&!!e.fullName,helperText:s.fullName&&e.fullName,sx:{gridColumn:"span 2"}}),t.jsx(n,{fullWidth:!0,select:!0,variant:"filled",label:"Vehicle No",onBlur:c,onChange:k=>{const F=S.find(i=>i.registration_id===k.target.value);m("vehicleNo",k.target.value),m("model",(F==null?void 0:F.vehicle_model.name)||"")},value:a.vehicleNo,name:"vehicleNo",error:!!s.vehicleNo&&!!e.vehicleNo,helperText:s.vehicleNo&&e.vehicleNo,sx:{gridColumn:"span 2"},MenuProps:{PaperProps:{style:{maxHeight:200,overflowY:"auto"}}},children:S.map(k=>t.jsx(oe,{value:k.registration_id,children:k.registration_id},k.id))}),t.jsx(n,{fullWidth:!0,variant:"filled",type:"text",label:"Email",onBlur:c,onChange:l,value:a.email,name:"email",error:!!s.email&&!!e.email,helperText:s.email&&e.email,sx:{gridColumn:"span 2"}}),t.jsx(n,{fullWidth:!0,variant:"filled",type:"text",label:"Model",value:a==null?void 0:a.model,name:"model",disabled:!0,sx:{gridColumn:"span 2"}}),t.jsx(n,{fullWidth:!0,variant:"filled",type:"text",label:"Mobile",onBlur:c,onChange:l,value:a.mobile,name:"mobile",error:!!s.mobile&&!!e.mobile,helperText:s.mobile&&e.mobile,sx:{gridColumn:"span 2"}}),t.jsx(n,{fullWidth:!0,variant:"filled",type:"password",label:"Password",onBlur:c,onChange:l,value:a.password,name:"password",error:!!s.password&&!!e.password,helperText:s.password&&e.password,sx:{gridColumn:"span 2"}}),t.jsx(n,{fullWidth:!0,variant:"filled",type:"text",label:"Location",onBlur:c,onChange:l,value:a.location,name:"location",disabled:!0,error:!!s.location&&!!e.location,helperText:s.location&&e.location,sx:{gridColumn:"span 2"}}),t.jsx(n,{fullWidth:!0,variant:"filled",type:"text",label:"Description",onBlur:c,onChange:l,value:a.description,name:"description",error:!!s.description&&!!e.description,helperText:s.description&&e.description,sx:{gridColumn:"span 2"}}),t.jsx(R,{variant:"outlined",onClick:()=>I(m),disabled:r,sx:{mt:-2,width:"300px"},children:r?"Fetching Location...":"Use Current Location"})]}),t.jsx(M,{display:"flex",justifyContent:"center",mt:"25px",children:t.jsx(R,{type:"submit",color:"secondary",variant:"contained",children:"Submit"})})]})})]})},Pe="https://wikitek.io/api/v1",Be=({userId:h,setIsAdd:N,setIsUpdate:S})=>{const v=z(),{vehicleList:r}=O(x=>x.liveMap),w=ue("(min-width:600px)"),[q,C]=T.useState(!1),L=x=>{const{description:f,vehicleNo:a,model:e,location:s}=x;let c={ticket_id:"",user:h,status:"open",description:f,latlong:s,vehicle:a,model:e};localStorage.getItem("w_userToken");try{J.post(`${Pe}/tickets/create/ticket/`,c).then(b=>{S(!1),N(!1),v(ae()),j.success("Ticket created successfully")})}catch{j.error("Error occurred while creating ticket")}},P=async x=>{C(!0),navigator.geolocation?navigator.geolocation.getCurrentPosition(async f=>{const{latitude:a,longitude:e}=f.coords;try{x("location",`${a},${e}`)}catch(s){console.error("Error fetching address:",s),j.error("Failed to convert coordinates to address.")}finally{C(!1)}},f=>{console.error("Geolocation Error:",f),j.error("Failed to retrieve location. Please try again."),C(!1)}):(j.error("Geolocation is not supported by this browser."),C(!1))},I=Q().shape({fullName:u().required("required"),vehicleNo:u().required("required"),model:u().required("required"),location:u().required("required"),description:u().required("required")}),E=JSON.parse(localStorage.getItem("w_userDetails")),{email:B,first_name:W,last_name:V,mobile:$}=E,D={fullName:`${W} ${V}`||"",vehicleNo:"",model:"",location:"",description:""};return t.jsx(M,{m:"20px",children:t.jsx(de,{onSubmit:L,initialValues:D,validationSchema:I,children:({values:x,errors:f,touched:a,handleBlur:e,handleChange:s,handleSubmit:c,setFieldValue:l})=>t.jsxs("form",{onSubmit:c,children:[t.jsxs(M,{display:"grid",gap:"30px",gridTemplateColumns:"repeat(4, minmax(0, 1fr))",sx:{"& > div":{gridColumn:w?void 0:"span 4"}},children:[t.jsx(n,{fullWidth:!0,variant:"filled",type:"text",label:"Full Name",onBlur:e,onChange:s,value:x.fullName,name:"fullName",disabled:!0,error:!!a.fullName&&!!f.fullName,helperText:a.fullName&&f.fullName,sx:{gridColumn:"span 4"}}),t.jsx(n,{fullWidth:!0,select:!0,variant:"filled",label:"Vehicle No",onBlur:e,onChange:b=>{const m=r.find(k=>k.registration_id===b.target.value);l("vehicleNo",b.target.value),l("model",(m==null?void 0:m.vehicle_model.name)||"")},value:x.vehicleNo,name:"vehicleNo",error:!!a.vehicleNo&&!!f.vehicleNo,helperText:a.vehicleNo&&f.vehicleNo,sx:{gridColumn:"span 4"},SelectProps:{MenuProps:{PaperProps:{sx:{maxHeight:250,overflowY:"auto"}}}},children:r.map(b=>t.jsx(oe,{value:b.registration_id,children:b.registration_id},b.id))}),t.jsx(n,{fullWidth:!0,variant:"filled",type:"text",label:"Model",value:x.model,name:"model",disabled:!0,sx:{gridColumn:"span 4"}}),t.jsx(n,{fullWidth:!0,variant:"filled",type:"text",label:"Description",onBlur:e,onChange:s,value:x.description,name:"description",error:!!a.description&&!!f.description,helperText:a.description&&f.description,sx:{gridColumn:"span 4"}}),t.jsx(n,{fullWidth:!0,variant:"filled",type:"text",label:"Location",onBlur:e,onChange:s,value:x.location,name:"location",disabled:!0,error:!!a.location&&!!f.location,helperText:a.location&&f.location,sx:{gridColumn:"span 4"}}),t.jsx(R,{variant:"outlined",onClick:()=>P(l),disabled:q,sx:{mt:-2,width:"300px"},children:q?"Fetching Location...":"Use Current Location"})]}),t.jsx(M,{display:"flex",justifyContent:"center",mt:"25px",children:t.jsx(R,{type:"submit",sx:{backgroundColor:"#8DA6C6DD"},variant:"contained",children:"Submit"})})]})})})},We="https://wikitek.io/api/v1";function Ye({where:h,isAdd:N,isUpdate:S,setIsUpdate:v,setIsAdd:r}){const{isAddBreakdown:w,isUpdateBreakdown:q,UpdatedBreakdownData:C}=O(a=>a.breakdown);let L=z();const[P,I]=T.useState(null),[E,B]=T.useState(!1),W=()=>{L(K(!1)),L(te(!1)),L(ee(null)),r(!1),v(!1)},V=()=>{L(K(!w))},$=async()=>{var c,l;B(!0);const a=JSON.parse(localStorage.getItem("w_userDetails")),{email:e}=a;let s={email:e};try{J.post(`${We}/users/check/user`,s).then(m=>{var k,F;(k=m==null?void 0:m.data)!=null&&k.success?(I((F=m==null?void 0:m.data)==null?void 0:F.user_id),v(!0),r(!0)):I(null),B(!1)}).catch(m=>{v(!1),r(!0),B(!1),console.log("error",m)})}catch(b){console.log("eror",b),r(!0),v(!1),B(!1),(l=(c=b==null?void 0:b.response)==null?void 0:c.data)!=null&&l.success}},D={fontSize:"18px",fontWeight:500,lineHeight:"18.38px",textAlign:"center",paddingTop:"5px",fontFamily:"ubuntu"};let x=ye("Breakdown");const f=(x==null?void 0:x.includes("Create"))||x==="Read-Write-Only";return t.jsxs(M,{sx:{bgcolor:"white",m:"10px",display:"flex",textAlign:"left",justifyContent:"space-between",alignItems:"center",borderRadius:"6px",padding:"20px"},children:[E&&t.jsx(re,{}),t.jsx(ie,{variant:"h6",sx:D,children:`${h} New Requests`}),h.toLowerCase()==="breakdown"&&f&&t.jsxs(R,{onClick:V,variant:"outlined",children:[t.jsx(Z,{}),h]}),h.toLowerCase()==="rsa"&&t.jsxs(R,{onClick:$,sx:{color:"black",background:ve.bgColor},children:[t.jsx(Z,{}),"Raise ticket"]}),t.jsxs(se,{open:w||q,onClose:W,maxWidth:"xl",fullWidth:!0,children:[t.jsxs(ne,{children:[q?"Update":"Add"," Breakdown",t.jsx(Y,{"aria-label":"close",onClick:W,sx:{position:"absolute",right:8,top:8,color:a=>a.palette.grey[500]},children:t.jsx(le,{})})]}),t.jsx(ce,{children:t.jsx(Le,{})})]}),t.jsx($e,{isAdd:N,isUpdate:S,setIsUpdate:v,setIsAdd:r,handleClose:W,userId:P})]})}const $e=({isAdd:h,isUpdate:N,handleClose:S,userId:v,setIsAdd:r,setIsUpdate:w})=>t.jsxs(se,{open:h,onClose:S,maxWidth:"md",fullWidth:!0,children:[t.jsxs(ne,{children:[N?"Ticket For RSA":"Registration form for RSA",t.jsx(Y,{"aria-label":"close",onClick:S,sx:{position:"absolute",right:8,top:8,color:q=>q.palette.grey[500]},children:t.jsx(le,{})})]}),t.jsx(ce,{children:N?t.jsx(Be,{userId:v,setIsUpdate:w,setIsAdd:r,children:" "}):t.jsx(Fe,{setIsUpdate:w,setIsAdd:r})})]});export{Ye as A};
