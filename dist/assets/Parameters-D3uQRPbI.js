import{b0 as j,b as v,a$ as N,b8 as B,fp as F,j as e,aX as w,dM as M,dN as O,dP as V,ek as $,aZ as z,a_ as D,bd as R,bb as l,T as X,b6 as Z}from"./index-Cdz_WO7e.js";const H=({handleParameterChange:f,parametersData:n,setParameterData:k})=>{const{selectedParameterList:i,selectedVehicle:t,loading:q}=j(r=>r.liveMap),{mode:C}=j(r=>r.dashboard),[P,S]=v.useState(""),T=N(),s=Z(C);v.useEffect(()=>{Object.keys(t).length>0?L(t.reg_id):B.error("Please select a vehicle",{id:"clipboard"})},[]);const d=n&&n.length>0&&n.filter(r=>r.label.toLowerCase().includes(P.toLowerCase())),I=r=>{S(r.target.value)},L=async r=>{var g;const p=await T(F({w_registration_id:r})),h=[];let A=0;(g=p.payload)==null||g.map(a=>{a[a.parameter_type.toLowerCase()+"_parameter"].forEach(o=>{var x,_,b,m,y;const u=a.parameter_type==="Telematic"?o.short_name:a.parameter_type==="IVN"?o.pid_description:o.spn;h.push({reg_id:t.reg_id,imei:t.imei,id:o.id,_id:a.id,key:A++,label:u,param_type:a.parameter_type,param_header:(x=o==null?void 0:o.header)==null?void 0:x.device_header,unit:o==null?void 0:o.unit,param_id:a.id,vehicle_reg:(_=a==null?void 0:a.vehicle)==null?void 0:_.vin,param_group_id:(b=a.parameter_group[0])==null?void 0:b.id,param_group_name:(m=a.parameter_group[0])==null?void 0:m.group_name,param_group_color:(y=a.parameter_group[0])==null?void 0:y.color,checked:i[0].params.length>0&&i[0].params.some(E=>E.label===u)})})}),k(h)};return e.jsx(e.Fragment,{children:e.jsxs("div",{style:{backgroundColor:s.grey[100],position:"relative",height:"95vh"},children:[e.jsx(w,{sx:{align:"center",my:"15px",ml:"20px"},children:e.jsxs(M,{sx:{width:"90%",backgroundColor:s.grey[500]},variant:"outlined",children:[e.jsx(O,{htmlFor:"outlined-adornment-password",style:{marginTop:"-9px",color:s.grey[400]},children:"Search"}),e.jsx(V,{onChange:I,inputProps:{style:{padding:7}},id:"outlined-adornment-password",type:"text",endAdornment:e.jsx($,{position:"end",children:e.jsx(z,{"aria-label":"toggle password visibility",edge:"end",children:e.jsx(D,{})})}),label:"Search"})]})}),d&&d.length>0?d.map((r,c)=>e.jsx(w,{sx:{align:"center",my:"6px",ml:"20px"},children:e.jsx(R,{variant:"outlined",sx:{width:"90%",bgcolor:r.checked?l.bgColor:"undefined",color:s.grey[400],border:`1px solid ${l.bgColor}`,fontSize:"12px","&:hover":{color:"black",border:"1px solid black",bgcolor:l.bgShadow}},onClick:p=>{f(r)},children:r.label})},c)):e.jsx("div",{children:e.jsx(X,{sx:{width:"100%",textAlign:"center",mt:"100px"},children:"No Parameters Added"})})]})})};export{H as P};
