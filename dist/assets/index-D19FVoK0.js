import{o as L,p as l,r as a,j as s,cn as R,aR as T,co as D,cp as k,cq as S,cr as t,cs as v,O as y,db as _,fb as A,a0 as B,U as I,B as m,z as V}from"./index-rJKC5kjD.js";import"./DateTimePicker-kQFANAPy.js";import"./index.esm-CEVXtRC0.js";import"./Loader-NF5TPeeb.js";import{S as E}from"./ServicesTopBar-C9wtvMit.js";import{A as U}from"./AddBreakdown-BB42Jhei.js";import"./Card-BxFMOVCc.js";import"./CardContent-Bp_7u0mY.js";import"./Add-BHCxLJ8N.js";import"./formik.esm-qVM3QrQ9.js";import"./TextField-W0cXux5x.js";import"./Autocomplete-B2Typk08.js";import"./Remove-DCgaVOEP.js";import"./useMediaQuery-C6ptf1OC.js";const H=()=>{const j=L(),{ticketList:o}=l(e=>e.rsaReport),{searchTerm:i}=l(e=>e.inspection),[d,g]=a.useState([]),[r,h]=a.useState(0),[n,p]=a.useState(12),u=async()=>{try{j(A())}catch(e){console.log("error",e)}};a.useEffect(()=>{u()},[]),a.useEffect(()=>{},[o]);const x=(e,c)=>{h(c)},f=e=>{p(parseInt(e.target.value,10)),h(0)},C=o.filter(e=>e.ticket_id.toLowerCase().includes(i.toLowerCase())||e.status.toLowerCase().includes(i.toLowerCase())||e.vehicle.toLowerCase().includes(i.toLowerCase())||e.user.first_name.toLowerCase().includes(i.toLowerCase())||e.user.last_name.toLowerCase().includes(i.toLowerCase()));return s.jsxs(R,{component:T,children:[s.jsxs(D,{children:[s.jsx(k,{children:s.jsxs(S,{children:[s.jsx(t,{children:"Sr no"}),s.jsx(t,{children:"Req ID"}),s.jsx(t,{children:"User"}),s.jsx(t,{children:"Created Date"}),s.jsx(t,{children:"Vehicle"}),s.jsx(t,{children:"Current Status"})]})}),s.jsx(v,{children:C.slice(r*n,r*n+n).map((e,c)=>{var b,P;return s.jsxs(S,{children:[s.jsx(t,{children:r*n+c+1}),s.jsx(t,{children:e==null?void 0:e.ticket_id}),s.jsx(t,{children:((b=e==null?void 0:e.user)==null?void 0:b.first_name)+" "+((P=e==null?void 0:e.user)==null?void 0:P.last_name)}),s.jsx(t,{children:y(new Date(e==null?void 0:e.created)).format("DD-MM-YYY HH:mm")}),s.jsx(t,{children:e==null?void 0:e.vehicle}),s.jsx(t,{children:e==null?void 0:e.status})]},e==null?void 0:e.id)})})]}),s.jsx(_,{rowsPerPageOptions:[12],component:"div",count:d.length,rowsPerPage:n,page:r,onPageChange:x,onRowsPerPageChange:f})]})},$=()=>{const{mode:j,showVehicles:o,selectedVehicleGroup:i}=l(c=>c.dashboard),{w_customer_id:d}=l(c=>c.auth);let g=L();const[r,h]=a.useState(!1),[n,p]=a.useState(!1),[u,x]=a.useState(!1),[f,C]=a.useState([]);a.useEffect(()=>{e()},[]);const e=async()=>{try{const c=await g(B({w_customer_id:d}))}catch{}};return s.jsxs("div",{className:"app",children:[s.jsx(I,{}),s.jsxs("main",{className:"content",style:{width:"100%",background:"#dad6d626"},children:[s.jsx(E,{title:"Rsa Reports"}),s.jsx(m,{style:{display:"flex",width:"100%",height:"95vh"},children:s.jsxs(m,{style:{width:"100%",background:V.bgShadow},children:[s.jsx(U,{where:"RSA",isAdd:n,isUpdate:u,setIsAdd:p,setIsUpdate:x}),s.jsx(m,{sx:{m:"10px"},children:s.jsx(H,{})})]})})]})]})};export{$ as default};
